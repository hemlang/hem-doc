================================================================================
HEMLOCK PROGRAMMING LANGUAGE - COMPLETE DOCUMENTATION (–†—É—Å—Å–∫–∏–π)
================================================================================

This file contains the complete documentation for the Hemlock programming
language and the hpm package manager in –†—É—Å—Å–∫–∏–π.
It is optimized for LLM consumption.

Source: https://github.com/hemlang/hem-doc

--------------------------------------------------------------------------------
TABLE OF CONTENTS
--------------------------------------------------------------------------------

  1. –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å
  2. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —è–∑—ã–∫–∞

[–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã]
  3. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  4. –ü—É—Ç–∏ –æ–±—É—á–µ–Ω–∏—è
  5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
  6. –£—á–µ–±–Ω–∏–∫

[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —è–∑—ã–∫—É]
  7. –ú–∞—Å—Å–∏–≤—ã
  8. –ú–æ–¥—É–ª–∏
  9. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  10. –û–±—ä–µ–∫—Ç—ã
  11. –†—É–Ω—ã
  12. –°–∏–Ω—Ç–∞–∫—Å–∏—Å
  13. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º
  14. –°—Ç—Ä–æ–∫–∏
  15. –¢–∏–ø—ã
  16. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
  17. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º
  18. –§—É–Ω–∫—Ü–∏–∏

[–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã]
  19. FFI
  20. File IO
  21. Memory Ownership
  22. –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
  23. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
  24. –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  25. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
  26. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
  27. –°–±–æ—Ä–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞
  28. –°–∏–≥–Ω–∞–ª—ã

[–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API]
  29. API –º–∞—Å—Å–∏–≤–æ–≤
  30. API –ø–∞–º—è—Ç–∏
  31. API –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
  32. API —Å—Ç—Ä–æ–∫
  33. API —Ñ–∞–π–ª–æ–≤
  34. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  35. –û–ø–µ—Ä–∞—Ç–æ—Ä—ã
  36. –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤

[–î–∏–∑–∞–π–Ω –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è]
  37. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
  38. –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–∏–≥–Ω–∞—Ç—É—Ä
  39. –§–∏–ª–æ—Å–æ—Ñ–∏—è

[–£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ]
  40. –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
  41. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

[hpm: –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã]
  42. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
  43. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
  44. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

[hpm: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
  45. –ö–æ–º–∞–Ω–¥—ã
  46. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  47. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

[hpm: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–∫–µ—Ç–æ–≤]
  48. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  49. –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
  50. –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤

[hpm: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫]
  51. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  52. –ö–æ–¥—ã –≤—ã—Ö–æ–¥–∞


================================================================================
DOCUMENTATION
================================================================================

--------------------------------------------------------------------------------
## –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å
--------------------------------------------------------------------------------

# –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Hemlock

> "–ú–∞–ª–µ–Ω—å–∫–∏–π, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —è–∑—ã–∫ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –≤–µ—â–µ–π."

**Hemlock** ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–π —è–∑—ã–∫, —Å–æ—á–µ—Ç–∞—é—â–∏–π –º–æ—â—å C —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —ç—Ä–≥–æ–Ω–æ–º–∏–∫–æ–π —Å–∫—Ä–∏–ø—Ç–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, —è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å.

## –ß—Ç–æ —Ç–∞–∫–æ–µ Hemlock?

Hemlock —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω—ã:

- **–Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** –Ω–∞–¥ –ø–∞–º—è—Ç—å—é –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
- **C-–ø–æ–¥–æ–±–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —É–¥–æ–±—Å—Ç–≤–∞–º–∏
- **–ù–∏–∫–∞–∫–æ–≥–æ —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è** –∏–ª–∏ –º–∞–≥–∏–∏
- **–ù–∞—Å—Ç–æ—è—â–∞—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –Ω–∞ –æ—Å–Ω–æ–≤–µ pthread

Hemlock ‚Äî —ç—Ç–æ –ù–ï —è–∑—ã–∫ —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–∞–º—è—Ç—å—é –∏ —Å–±–æ—Ä–∫–æ–π –º—É—Å–æ—Ä–∞. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω –¥–∞—ë—Ç –≤–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (`buffer`, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü), –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è—è –≤–∞—Å –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (`ptr`, —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏).

## –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–∏–º–µ—Ä

```hemlock
// –ü—Ä–∏–≤–µ—Ç, Hemlock!
fn greet(name: string): string {
    return `–ü—Ä–∏–≤–µ—Ç, ${name}!`;
}

let message = greet("–ú–∏—Ä");
print(message);

// –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
let buf = buffer(64);
buf[0] = 72;  // 'H'
buf[1] = 105; // 'i'
print(buf);
free(buf);
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|----------|
| **–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤** | i8-i64, u8-u64, f32/f64, bool, string, rune, ptr, buffer, array, object |
| **–ü–∞–º—è—Ç—å** | –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å `alloc()`, `buffer()`, `free()` |
| **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ `async`/`await` —Å –Ω–∞—Å—Ç–æ—è—â–∏–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º pthread |
| **FFI** | –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π C –∏–∑ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ |
| **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** | 40 –º–æ–¥—É–ª–µ–π, –≤–∫–ª—é—á–∞—è crypto, http, sqlite, json –∏ –¥—Ä—É–≥–∏–µ |

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å? –í–æ—Ç –∫–∞–∫ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å:

1. **[–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#getting-started-installation)** ‚Äî –°–∫–∞—á–∞–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Hemlock
2. **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start)** ‚Äî –ù–∞–ø–∏—à–∏—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –∑–∞ –º–∏–Ω—É—Ç—ã
3. **[–£—á–µ–±–Ω–∏–∫](#getting-started-tutorial)** ‚Äî –ò–∑—É—á–∏—Ç–µ Hemlock —à–∞–≥ –∑–∞ —à–∞–≥–æ–º

## –†–∞–∑–¥–µ–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- **–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã** ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞, —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±—ã—Å—Ç—Ä–æ–º—É —Å—Ç–∞—Ä—Ç—É –∏ —É—á–µ–±–Ω–∏–∫–∏
- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —è–∑—ã–∫—É** ‚Äî –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Ç–∏–ø—ã, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã** ‚Äî –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, FFI, —Å–∏–≥–Ω–∞–ª—ã –∏ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API** ‚Äî –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **–î–∏–∑–∞–π–Ω –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è** ‚Äî –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –ø–æ—á–µ–º—É Hemlock —Ç–∞–∫–æ–π, –∫–∞–∫–æ–π –æ–Ω –µ—Å—Ç—å

## –ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä

Hemlock –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å **hpm**, –ø–∞–∫–µ—Ç–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:

```bash
hpm init my-project
hpm add some-package
hpm run
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ hpm.

---

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å–ª–µ–≤–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ–º.


--------------------------------------------------------------------------------
## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —è–∑—ã–∫–∞
--------------------------------------------------------------------------------

# –§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞ —è–∑—ã–∫–∞ Hemlock

> "–ú–∞–ª–µ–Ω—å–∫–∏–π –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —è–∑—ã–∫ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –≤–µ—â–µ–π."

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±–∑–æ—Ä —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –¥–∏–∑–∞–π–Ω–∞ Hemlock –∏ –∫—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —è–∑—ã–∫—É.
–ò–∑—É—á–∏—Ç–µ –¥—Ä—É–≥–∏–µ —Ä–∞–∑–¥–µ–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤ –∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ API.

---

## –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å

Hemlock ‚Äî —ç—Ç–æ **—Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–π —è–∑—ã–∫** —Å —Ä—É—á–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–∞–º—è—Ç—å—é –∏ —è–≤–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º:
- –ú–æ—â—å C —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —ç—Ä–≥–æ–Ω–æ–º–∏–∫–æ–π —Å–∫—Ä–∏–ø—Ç–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ù–∏–∫–∞–∫–æ–≥–æ —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ –º–∞–≥–∏–∏

**Hemlock –ù–ï —è–≤–ª—è–µ—Ç—Å—è:** –ë–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø–æ –ø–∞–º—è—Ç–∏, —è–∑—ã–∫–æ–º —Å GC –∏–ª–∏ —Å–∫—Ä—ã–≤–∞—é—â–∏–º —Å–ª–æ–∂–Ω–æ—Å—Ç—å.
**Hemlock –Ø–í–õ–Ø–ï–¢–°–Ø:** –Ø–≤–Ω—ã–º, –∞ –Ω–µ –Ω–µ—è–≤–Ω—ã–º, –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º, "—Å–ª–æ–µ–º C-—Å–∫—Ä–∏–ø—Ç–æ–≤" –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–∏–∑–∞–π–Ω–∞

### 1. –Ø–≤–Ω–æ–µ –≤–º–µ—Å—Ç–æ –Ω–µ—è–≤–Ω–æ–≥–æ
- –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã (–Ω–µ—Ç ASI)
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (alloc/free)
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –≤—ã–±–æ—Ä—É
- –ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ç–µ–≥ —Ç–∏–ø–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –õ–∏—Ç–µ—Ä–∞–ª—ã –≤—ã–≤–æ–¥—è—Ç —Ç–∏–ø—ã: `42` ‚Üí i32, `5000000000` ‚Üí i64, `3.14` ‚Üí f64
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 3. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å
- –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ (–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü –¥–ª—è —Å—ã—Ä–æ–≥–æ `ptr` (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `buffer` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- –î–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Å–±–æ–∏ –∏–∑-–∑–∞ –¥–≤–æ–π–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ `async`/`await` —Å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ pthread
- –ö–∞–Ω–∞–ª—ã –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- `spawn`/`join`/`detach` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏

### 5. C-–ø–æ–¥–æ–±–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –ë–ª–æ–∫–∏ `{}` –≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: `// —Å—Ç—Ä–æ–∫–∞` –∏ `/* –±–ª–æ–∫ */`
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∫–∞–∫ –≤ C: `+`, `-`, `*`, `%`, `&&`, `||`, `!`, `&`, `|`, `^`, `<<`, `>>`
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç/–¥–µ–∫—Ä–µ–º–µ–Ω—Ç: `++x`, `x++`, `--x`, `x--` (–ø—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –∏ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–π)
- –°–æ—Å—Ç–∞–≤–Ω–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ: `+=`, `-=`, `*=`, `/=`, `%=`, `&=`, `|=`, `^=`, `<<=`, `>>=`
- `/` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç float (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `divi()` –¥–ª—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è)
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–∏–ø–æ–≤: `let x: type = value;`

---

## –ö—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

### –¢–∏–ø—ã
```
–ó–Ω–∞–∫–æ–≤—ã–µ:      i8, i16, i32, i64
–ë–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ:   u8, u16, u32, u64
–° –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π: f32, f64
–î—Ä—É–≥–∏–µ:        bool, string, rune, array, ptr, buffer, null, object, file, task, channel
–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã:    integer (i32), number (f64), byte (u8)
```

**–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤:** i8 ‚Üí i16 ‚Üí i32 ‚Üí i64 ‚Üí f32 ‚Üí f64 (—á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –≤—Å–µ–≥–¥–∞ –ø–æ–±–µ–∂–¥–∞—é—Ç, –Ω–æ i64/u64 + f32 ‚Üí f64 –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏)

### –õ–∏—Ç–µ—Ä–∞–ª—ã
```hemlock
let x = 42;              // i32
let big = 5000000000;    // i64 (> i32 max)
let hex = 0xDEADBEEF;    // —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–π –ª–∏—Ç–µ—Ä–∞–ª
let bin = 0b1010;        // –¥–≤–æ–∏—á–Ω—ã–π –ª–∏—Ç–µ—Ä–∞–ª
let oct = 0o777;         // –≤–æ—Å—å–º–µ—Ä–∏—á–Ω—ã–π –ª–∏—Ç–µ—Ä–∞–ª
let sep = 1_000_000;     // —á–∏—Å–ª–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
let pi = 3.14;           // f64
let half = .5;           // f64 (–±–µ–∑ –≤–µ–¥—É—â–µ–≥–æ –Ω—É–ª—è)
let s = "hello";         // string
let esc = "\x41\u{1F600}"; // —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ –∏ unicode escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
let ch = 'A';            // rune
let emoji = 'üöÄ';        // rune (Unicode)
let arr = [1, 2, 3];     // array
let obj = { x: 10 };     // object
```

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
```hemlock
// –§—É–Ω–∫—Ü–∏–∏-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Ç–∏–ø–æ–≤ - –ø–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫ –≤ —Ç–∏–ø—ã
let n = i32("42");       // –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ –≤ i32
let f = f64("3.14");     // –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ –≤ f64
let b = bool("true");    // –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ –≤ bool ("true" –∏–ª–∏ "false")

// –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ —á–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã
let a = i8("-128");      // i8, i16, i32, i64
let c = u8("255");       // u8, u16, u32, u64
let d = f32("1.5");      // f32, f64

// –®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
let hex = i32("0xFF");   // 255
let neg = i32("-42");    // -42

// –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç
let x = integer("100");  // –¢–æ –∂–µ, —á—Ç–æ i32("100")
let y = number("1.5");   // –¢–æ –∂–µ, —á—Ç–æ f64("1.5")
let z = byte("200");     // –¢–æ –∂–µ, —á—Ç–æ u8("200")

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —á–∏—Å–ª–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏
let big = i64(42);       // i32 –≤ i64
let truncated = i32(3.99); // f64 –≤ i32 (—É—Å–µ–∫–∞–µ—Ç—Å—è –¥–æ 3)

// –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–∏–ø—ã (–Ω–æ –Ω–µ –ø–∞—Ä—Å—è—Ç —Å—Ç—Ä–æ–∫–∏)
let f: f64 = 100;        // i32 –≤ f64 —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é (—á–∏—Å–ª–æ–≤–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ OK)
// let n: i32 = "42";    // –û–®–ò–ë–ö–ê - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ i32("42") –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫–∏
```

### –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è
```hemlock
typeof(42);              // "i32"
typeof("hello");         // "string"
typeof([1, 2, 3]);       // "array"
typeof(null);            // "null"
len("hello");            // 5 (–¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ –≤ –±–∞–π—Ç–∞—Ö)
len([1, 2, 3]);          // 3 (–¥–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞)
```

### –ü–∞–º—è—Ç—å
```hemlock
let p = alloc(64);       // —Å—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å
let b = buffer(64);      // –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü)
memset(p, 0, 64);
memcpy(dest, src, 64);
free(p);                 // —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º
```hemlock
if (x > 0) { } else if (x < 0) { } else { }
while (cond) { break; continue; }
for (let i = 0; i < 10; i++) { }
for (item in array) { }
loop { if (done) { break; } }   // –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª (—á–∏—â–µ —á–µ–º while(true))
switch (x) { case 1: break; default: break; }  // C-—Å—Ç–∏–ª—å —Å –ø—Ä–æ–≤–∞–ª–∏–≤–∞–Ω–∏–µ–º
defer cleanup();         // –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏

// –ú–µ—Ç–∫–∏ —Ü–∏–∫–ª–æ–≤ –¥–ª—è —Ü–µ–ª–µ–≤–æ–≥–æ break/continue –≤–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–∞—Ö
outer: while (cond) {
    inner: for (let i = 0; i < 10; i++) {
        if (i == 5) { break outer; }     // –≤—ã—Ö–æ–¥ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
        if (i == 3) { continue outer; }  // –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
    }
}
```

### –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º
```hemlock
// Match-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
let result = match (value) {
    0 => "–Ω–æ–ª—å",                        // –õ–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑–µ—Ü
    1 | 2 | 3 => "–º–∞–ª–µ–Ω—å–∫–æ–µ",           // –ò–õ–ò-–æ–±—Ä–∞–∑–µ—Ü
    n if n < 10 => "—Å—Ä–µ–¥–Ω–µ–µ",           // Guard-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ
    n => "–±–æ–ª—å—à–æ–µ: " + n                // –°–≤—è–∑—ã–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
};

// –û–±—Ä–∞–∑—Ü—ã —Ç–∏–ø–æ–≤
match (val) {
    n: i32 => "—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ",
    s: string => "—Å—Ç—Ä–æ–∫–∞",
    _ => "–¥—Ä—É–≥–æ–µ"                       // –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π –∑–Ω–∞–∫
}

// –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
match (point) {
    { x: 0, y: 0 } => "–Ω–∞—á–∞–ª–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç",
    { x, y } => "–≤ —Ç–æ—á–∫–µ " + x + "," + y
}

// –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ —Å –æ—Å—Ç–∞—Ç–∫–æ–º
match (arr) {
    [] => "–ø—É—Å—Ç–æ",
    [first, ...rest] => "–ø–µ—Ä–≤—ã–π: " + first,
    _ => "–¥—Ä—É–≥–æ–µ"
}

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—Ü—ã
match (user) {
    { name, address: { city } } => name + " –≤ " + city
}
```

–ü–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–º. –≤ `docs/language-guide/pattern-matching.md`.

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å null
```hemlock
// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å null (??) - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–µ–≤–æ–µ –µ—Å–ª–∏ –Ω–µ null, –∏–Ω–∞—á–µ –ø—Ä–∞–≤–æ–µ
let name = user.name ?? "–ê–Ω–æ–Ω–∏–º";
let first = a ?? b ?? c ?? "–∑–∞–ø–∞—Å–Ω–æ–π";

// –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º —Å null (??=) - –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ null
let config = null;
config ??= { timeout: 30 };    // config —Ç–µ–ø–µ—Ä—å { timeout: 30 }
config ??= { timeout: 60 };    // config –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è (–Ω–µ null)

// –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏
obj.field ??= "–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é";
arr[0] ??= "–ø–µ—Ä–≤—ã–π";

// –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (?.) - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç null
let city = user?.address?.city;  // null –µ—Å–ª–∏ –ª—é–±–∞—è —á–∞—Å—Ç—å null
let upper = name?.to_upper();    // –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞
let item = arr?.[0];             // –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
```

### –§—É–Ω–∫—Ü–∏–∏
```hemlock
fn add(a: i32, b: i32): i32 { return a + b; }
fn greet(name: string, msg?: "–ü—Ä–∏–≤–µ—Ç") { print(msg + " " + name); }
let f = fn(x) { return x * 2; };  // –∞–Ω–æ–Ω–∏–º–Ω–∞—è/–∑–∞–º—ã–∫–∞–Ω–∏–µ

// –§—É–Ω–∫—Ü–∏–∏ —Å —Ç–µ–ª–æ–º-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º (—Å—Ç—Ä–µ–ª–æ—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
fn double(x: i32): i32 => x * 2;
fn max(a: i32, b: i32): i32 => a > b ? a : b;
let square = fn(x: i32): i32 => x * x;  // –∞–Ω–æ–Ω–∏–º–Ω–∞—è —Å —Ç–µ–ª–æ–º-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º

// –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
fn swap(ref a: i32, ref b: i32) { let t = a; a = b; b = t; }  // –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å—Å—ã–ª–∫–µ
fn print_all(const items: array) { for (i in items) { print(i); } }  // –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π
```

### –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
```hemlock
// –§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
fn create_user(name: string, age?: 18, active?: true) {
    print(name + " –∏–º–µ–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç " + age + " –ª–µ—Ç");
}

// –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ)
create_user("–ê–ª–∏—Å–∞", 25, false);

// –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã - –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ
create_user(name: "–ë–æ—Ä–∏—Å", age: 30);
create_user(age: 25, name: "–ß–∞—Ä–ª–∏", active: false);

// –ü—Ä–æ–ø—É—Å–∫ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –Ω—É–∂–Ω—ã—Ö
create_user("–î–º–∏—Ç—Ä–∏–π", active: false);  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç age=18 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

// –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–æ—Å–ª–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö
create_user("–ï–≤–∞", age: 21);          // OK: —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π, –ø–æ—Ç–æ–º –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π
// create_user(name: "–ü–ª–æ—Ö–æ", 25);    // –û–®–ò–ë–ö–ê: –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Å–ª–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `name: value`
- –ú–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ –ø–æ—Å–ª–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –∑–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏
- –†–∞–±–æ—Ç–∞—é—Ç —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é/–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏
- –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –û–±—ä–µ–∫—Ç—ã –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
```hemlock
define Person { name: string, age: i32, active?: true }
let p: Person = { name: "–ê–ª–∏—Å–∞", age: 30 };
let json = p.serialize();
let restored = json.deserialize();

// –°–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ä–µ–∫—Ç–æ–≤ (–≤ —Å—Ç–∏–ª–µ ES6)
let name = "–ê–ª–∏—Å–∞";
let age = 30;
let person = { name, age };         // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ { name: name, age: age }

// –û–ø–µ—Ä–∞—Ç–æ—Ä spread –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
let defaults = { theme: "dark", size: "medium" };
let config = { ...defaults, size: "large" };  // –∫–æ–ø–∏—Ä—É–µ—Ç defaults, –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç size

enum Color { RED, GREEN, BLUE }
enum Status { OK = 0, ERROR = 1 }
```

### –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã (–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ/—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è)
```hemlock
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Ç–∏–ø–æ–≤
define HasName { name: string }
define HasAge { age: i32 }
define HasEmail { email: string }

// –°–æ—Å—Ç–∞–≤–Ω–æ–π —Ç–∏–ø: –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –í–°–ï–ú —Ç–∏–ø–∞–º
let person: HasName & HasAge = { name: "–ê–ª–∏—Å–∞", age: 30 };

// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Å–æ—Å—Ç–∞–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
fn greet(p: HasName & HasAge) {
    print(p.name + " –∏–º–µ–µ—Ç –≤–æ–∑—Ä–∞—Å—Ç " + p.age);
}

// –¢—Ä–∏ –∏–ª–∏ –±–æ–ª–µ–µ —Ç–∏–ø–æ–≤
fn describe(p: HasName & HasAge & HasEmail) {
    print(p.name + " <" + p.email + ">");
}

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω—ã (—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è)
let employee: HasName & HasAge = {
    name: "–ë–æ—Ä–∏—Å",
    age: 25,
    department: "–ò–Ω–∂–µ–Ω–µ—Ä–∏—è"  // OK - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
};
```

–°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –ø–æ–¥–æ–±–Ω–æ–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º, –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `interface`,
–æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö `define` –∏ —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.

### –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤
```hemlock
// –ü—Ä–æ—Å—Ç–æ–π –ø—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
type Integer = i32;
type Text = string;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏
type Callback = fn(i32): void;
type Predicate = fn(i32): bool;
type AsyncHandler = async fn(string): i32;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ —Ç–∏–ø–∞ (–æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)
define HasName { name: string }
define HasAge { age: i32 }
type Person = HasName & HasAge;

// –û–±–æ–±—â—ë–Ω–Ω—ã–π –ø—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
type Pair<T> = { first: T, second: T };

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —Ç–∏–ø–æ–≤
let x: Integer = 42;
let cb: Callback = fn(n) { print(n); };
let p: Person = { name: "–ê–ª–∏—Å–∞", age: 30 };
```

–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ —Å–æ–∑–¥–∞—é—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤, —É–ª—É—á—à–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å.

### –¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π
```hemlock
// –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
fn apply_fn(f: fn(i32): i32, x: i32): i32 {
    return f(x);
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—é
fn make_adder(n: i32): fn(i32): i32 {
    return fn(x) { return x + n; };
}

// –¢–∏–ø—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
fn run_async(handler: async fn(): void) {
    spawn(handler);
}

// –¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
type BinaryOp = fn(i32, i32): i32;
let add: BinaryOp = fn(a, b) { return a + b; };
```

### Const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```hemlock
// Const-–ø–∞—Ä–∞–º–µ—Ç—Ä - –≥–ª—É–±–æ–∫–∞—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å
fn print_all(const items: array) {
    // items.push(4);  // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å const-–ø–∞—Ä–∞–º–µ—Ç—Ä
    for (item in items) {
        print(item);
    }
}

// Const —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ - –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ –ª—é–±–æ–π –ø—É—Ç—å
fn describe(const person: object) {
    print(person.name);       // OK: —á—Ç–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
    // person.name = "–ë–æ—Ä–∏—Å"; // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å
}

// –í–ª–æ–∂–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω –¥–ª—è —á—Ç–µ–Ω–∏—è
fn get_city(const user: object) {
    return user.address.city;  // OK: —á—Ç–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤
}
```

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä `const` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –≤–∫–ª—é—á–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞.
–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

### Ref-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å—Å—ã–ª–∫–µ)
```hemlock
// Ref-–ø–∞—Ä–∞–º–µ—Ç—Ä - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ –∫–æ–¥–∞ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
fn increment(ref x: i32) {
    x = x + 1;  // –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
}

let count = 10;
increment(count);
print(count);  // 11 - –æ—Ä–∏–≥–∏–Ω–∞–ª –±—ã–ª –∏–∑–º–µ–Ω—ë–Ω

// –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è swap
fn swap(ref a: i32, ref b: i32) {
    let temp = a;
    a = b;
    b = temp;
}

let x = 1;
let y = 2;
swap(x, y);
print(x, y);  // 2 1

// –°–º–µ—à–∏–≤–∞–Ω–∏–µ ref –∏ –æ–±—ã—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
fn add_to(ref target: i32, amount: i32) {
    target = target + amount;
}

let total = 100;
add_to(total, 50);
print(total);  // 150
```

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä `ref` –ø–µ—Ä–µ–¥–∞—ë—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ –∫–æ–¥–∞, –ø–æ–∑–≤–æ–ª—è—è —Ñ—É–Ω–∫—Ü–∏–∏
–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –µ—ë –Ω–∞–ø—Ä—è–º—É—é. –ë–µ–∑ `ref` –ø—Ä–∏–º–∏—Ç–∏–≤—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é (–∫–æ–ø–∏—Ä—É—é—Ç—Å—è). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ref`, –∫–æ–≥–¥–∞
–Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ –∫–æ–¥–∞ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è.

**–ü—Ä–∞–≤–∏–ª–∞:**
- –í `ref`-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –Ω–µ –ª–∏—Ç–µ—Ä–∞–ª—ã –∏–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ (–ø—Ä–∏–º–∏—Ç–∏–≤—ã, –º–∞—Å—Å–∏–≤—ã, –æ–±—ä–µ–∫—Ç—ã)
- –ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç—Å—è —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Ç–∏–ø–æ–≤: `ref x: i32`
- –ù–µ–ª—å–∑—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å `const` (–æ–Ω–∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã)

### –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –≤ define
```hemlock
// Define —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏ –º–µ—Ç–æ–¥–æ–≤ (–ø–∞—Ç—Ç–µ—Ä–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
define Comparable {
    value: i32,
    fn compare(other: Self): i32   // –¢—Ä–µ–±—É–µ–º–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞
}

// –û–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç—Ä–µ–±—É–µ–º—ã–π –º–µ—Ç–æ–¥
let a: Comparable = {
    value: 10,
    compare: fn(other) { return self.value - other.value; }
};

// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å ?
define Serializable {
    fn serialize(): string,        // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
    fn pretty?(): string           // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
}

// –¢–∏–ø Self —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Ç–∏–ø
define Cloneable {
    fn clone(): Self   // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ —Ç–∏–ø, —á—Ç–æ –∏ –æ–±—ä–µ–∫—Ç
}
```

–°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –≤ –±–ª–æ–∫–∞—Ö `define` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏-–∑–∞–ø—è—Ç—ã–µ (–∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã TypeScript),
—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å, –∏ –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç–∏–ª–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
—Å —Å–∏—Å—Ç–µ–º–æ–π —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ Hemlock.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```hemlock
try { throw "–æ—à–∏–±–∫–∞"; } catch (e) { print(e); } finally { cleanup(); }
panic("–Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–∞—è –æ—à–∏–±–∫–∞");  // –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥, –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è
```

### Async/–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å
```hemlock
async fn compute(n: i32): i32 { return n * n; }
let task = spawn(compute, 42);
let result = await task;     // –∏–ª–∏ join(task)
detach(spawn(background_work));

let ch = channel(10);
ch.send(value);
let val = ch.recv();
ch.close();
```

**–í–ª–∞–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é:** –ó–∞–¥–∞—á–∏ –ø–æ–ª—É—á–∞—é—Ç –∫–æ–ø–∏–∏ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –Ω–æ —Ä–∞–∑–¥–µ–ª—è—é—Ç —É–∫–∞–∑–∞—Ç–µ–ª–∏. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞—ë—Ç–µ `ptr` –≤ –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω—É—é –∑–∞–¥–∞—á—É, –≤—ã –¥–æ–ª–∂–Ω—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞–º—è—Ç—å –æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `join()` –ø–µ—Ä–µ–¥ `free()`, –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏.

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
```hemlock
let name = read_line();          // –ß—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ stdin (–±–ª–æ–∫–∏—Ä—É–µ—Ç)
print("–ü—Ä–∏–≤–µ—Ç, " + name);
eprint("–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ");   // –í—ã–≤–æ–¥ –≤ stderr

// read_line() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null –ø—Ä–∏ EOF
while (true) {
    let line = read_line();
    if (line == null) { break; }
    print("–ü–æ–ª—É—á–µ–Ω–æ:", line);
}
```

### –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥
```hemlock
let f = open("file.txt", "r");  // —Ä–µ–∂–∏–º—ã: r, w, a, r+, w+, a+
let content = f.read();
f.write("–¥–∞–Ω–Ω—ã–µ");
f.seek(0);
f.close();
```

### –°–∏–≥–Ω–∞–ª—ã
```hemlock
signal(SIGINT, fn(sig) { print("–ü—Ä–µ—Ä–≤–∞–Ω–æ"); });
raise(SIGUSR1);
```

---

## –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ (19)

`substr`, `slice`, `find`, `contains`, `split`, `trim`, `to_upper`, `to_lower`,
`starts_with`, `ends_with`, `replace`, `replace_all`, `repeat`, `char_at`,
`byte_at`, `chars`, `bytes`, `to_bytes`, `deserialize`

–®–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏: `` `–ü—Ä–∏–≤–µ—Ç ${name}!` ``

**–ò–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å —Å—Ç—Ä–æ–∫:** –°—Ç—Ä–æ–∫–∏ –∏–∑–º–µ–Ω—è–µ–º—ã —á–µ—Ä–µ–∑ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É (`s[0] = 'H'`), –Ω–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Å–æ—Ö—Ä–∞–Ω—è—è —Ü–µ–ø–æ—á–∫—É –º–µ—Ç–æ–¥–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π.

**–°–≤–æ–π—Å—Ç–≤–∞ –¥–ª–∏–Ω—ã —Å—Ç—Ä–æ–∫–∏:**
```hemlock
let s = "–ø—Ä–∏–≤–µ—Ç üöÄ";
print(s.length);       // 8 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤/—Ä—É–Ω)
print(s.byte_length);  // 15 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç - —ç–º–æ–¥–∑–∏ –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞ UTF-8)
```

## –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤ (18)

`push`, `pop`, `shift`, `unshift`, `insert`, `remove`, `find`, `contains`,
`slice`, `join`, `concat`, `reverse`, `first`, `last`, `clear`, `map`, `filter`, `reduce`

–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã: `let nums: array<i32> = [1, 2, 3];`

---

## –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (40 –º–æ–¥—É–ª–µ–π)

–ò–º–ø–æ—Ä—Ç —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `@stdlib/`:
```hemlock
import { sin, cos, PI } from "@stdlib/math";
import { HashMap, Queue, Set } from "@stdlib/collections";
import { read_file, write_file } from "@stdlib/fs";
import { TcpStream, UdpSocket } from "@stdlib/net";
```

| –ú–æ–¥—É–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `arena` | –ê–ª–ª–æ–∫–∞—Ç–æ—Ä –∞—Ä–µ–Ω—ã –ø–∞–º—è—Ç–∏ (bump allocation) |
| `args` | –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ |
| `assert` | –£—Ç–∏–ª–∏—Ç—ã —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π |
| `async` | ThreadPool, parallel_map |
| `async_fs` | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ |
| `collections` | HashMap, Queue, Stack, Set, LinkedList, LRUCache |
| `compression` | gzip, gunzip, deflate |
| `crypto` | aes_encrypt, rsa_sign, random_bytes |
| `csv` | –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è CSV |
| `datetime` | –ö–ª–∞—Å—Å DateTime, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–∞—Ä—Å–∏–Ω–≥ |
| `encoding` | base64_encode, hex_encode, url_encode |
| `env` | getenv, setenv, exit, get_pid |
| `fmt` | –£—Ç–∏–ª–∏—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫ |
| `fs` | read_file, write_file, list_dir, exists |
| `glob` | –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ |
| `hash` | sha256, sha512, md5, djb2 |
| `http` | http_get, http_post, http_request |
| `ipc` | –ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ |
| `iter` | –£—Ç–∏–ª–∏—Ç—ã –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ |
| `json` | parse, stringify, pretty, get, set |
| `logging` | –õ–æ–≥–≥–µ—Ä —Å —É—Ä–æ–≤–Ω—è–º–∏ |
| `math` | sin, cos, sqrt, pow, rand, PI, E |
| `net` | TcpListener, TcpStream, UdpSocket |
| `os` | platform, arch, cpu_count, hostname |
| `path` | –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏—è –ø—É—Ç—è–º–∏ —Ñ–∞–π–ª–æ–≤ |
| `process` | fork, exec, wait, kill |
| `random` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª |
| `regex` | compile, test (POSIX ERE) |
| `retry` | –õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ —Å backoff |
| `semver` | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `shell` | –£—Ç–∏–ª–∏—Ç—ã shell-–∫–æ–º–∞–Ω–¥ |
| `sqlite` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite, query, exec, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| `strings` | pad_left, is_alpha, reverse, lines |
| `terminal` | ANSI-—Ü–≤–µ—Ç–∞ –∏ —Å—Ç–∏–ª–∏ |
| `testing` | describe, test, expect |
| `time` | now, time_ms, sleep, clock |
| `toml` | –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è TOML |
| `url` | –ü–∞—Ä—Å–∏–Ω–≥ –∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è URL |
| `uuid` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UUID |
| `websocket` | WebSocket-–∫–ª–∏–µ–Ω—Ç |

–ü–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –º–æ–¥—É–ª–µ–π —Å–º. –≤ `stdlib/docs/`.

---

## FFI (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π)

–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –≤—ã–∑–æ–≤ C-—Ñ—É–Ω–∫—Ü–∏–π –∏–∑ –æ–±—â–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:
```hemlock
import "libc.so.6";

extern fn strlen(s: string): i32;
extern fn getpid(): i32;

let len = strlen("–ü—Ä–∏–≤–µ—Ç!");  // 13
let pid = getpid();
```

–≠–∫—Å–ø–æ—Ä—Ç FFI-—Ñ—É–Ω–∫—Ü–∏–π –∏–∑ –º–æ–¥—É–ª–µ–π:
```hemlock
// string_utils.hml
import "libc.so.6";

export extern fn strlen(s: string): i32;
export fn string_length(s: string): i32 {
    return strlen(s);
}
```

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π FFI (—Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è):
```hemlock
let lib = ffi_open("libc.so.6");
let puts = ffi_bind(lib, "puts", [FFI_POINTER], FFI_INT);
puts("–ü—Ä–∏–≤–µ—Ç –∏–∑ C!");
ffi_close(lib);
```

–¢–∏–ø—ã: `FFI_INT`, `FFI_DOUBLE`, `FFI_POINTER`, `FFI_STRING`, `FFI_VOID` –∏ –¥—Ä.

---

## –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

Lock-free –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏:

```hemlock
// –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ i32
let p = alloc(4);
ptr_write_i32(p, 0);

// –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
let val = atomic_load_i32(p);        // –ê—Ç–æ–º–∞—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ
atomic_store_i32(p, 42);             // –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å

// –û–ø–µ—Ä–∞—Ü–∏–∏ fetch-and-modify (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –°–¢–ê–†–û–ï –∑–Ω–∞—á–µ–Ω–∏–µ)
let old = atomic_add_i32(p, 10);     // –°–ª–æ–∂–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ
old = atomic_sub_i32(p, 5);          // –í—ã—á–∏—Ç–∞–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ
old = atomic_and_i32(p, 0xFF);       // –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò
old = atomic_or_i32(p, 0x10);        // –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò
old = atomic_xor_i32(p, 0x0F);       // –ü–æ–±–∏—Ç–æ–≤–æ–µ XOR

// Compare-and-swap (CAS)
let success = atomic_cas_i32(p, 42, 100);  // –ï—Å–ª–∏ *p == 42, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 100
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –µ—Å–ª–∏ swap —É—Å–ø–µ—à–µ–Ω, –∏–Ω–∞—á–µ false

// –ê—Ç–æ–º–∞—Ä–Ω—ã–π –æ–±–º–µ–Ω
old = atomic_exchange_i32(p, 999);   // –û–±–º–µ–Ω, –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ

free(p);

// –î–æ—Å—Ç—É–ø–Ω—ã –≤–∞—Ä–∏–∞–Ω—Ç—ã i64 (atomic_load_i64, atomic_add_i64 –∏ –¥—Ä.)

// –ë–∞—Ä—å–µ—Ä –ø–∞–º—è—Ç–∏ (–ø–æ–ª–Ω—ã–π –±–∞—Ä—å–µ—Ä)
atomic_fence();
```

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å (`memory_order_seq_cst`).

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
hemlock/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ frontend/         # –û–±—â–µ–µ: –ª–µ–∫—Å–µ—Ä, –ø–∞—Ä—Å–µ—Ä, AST, –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ backends/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interpreter/  # hemlock: –æ–±—Ö–æ–¥—è—â–∏–π –¥–µ—Ä–µ–≤–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ compiler/     # hemlockc: –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä C-–∫–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lsp/          # Language Server Protocol
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bundler/      # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–±–æ—Ä–∫–∏/—É–ø–∞–∫–æ–≤–∫–∏
‚îú‚îÄ‚îÄ runtime/              # –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º (libhemlock_runtime.a)
‚îú‚îÄ‚îÄ stdlib/               # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (40 –º–æ–¥—É–ª–µ–π)
‚îÇ   ‚îî‚îÄ‚îÄ docs/             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
‚îú‚îÄ‚îÄ docs/                 # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ language-guide/   # –¢–∏–ø—ã, —Å—Ç—Ä–æ–∫–∏, –º–∞—Å—Å–∏–≤—ã –∏ –¥—Ä.
‚îÇ   ‚îú‚îÄ‚îÄ reference/        # API-—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ advanced/         # Async, FFI, —Å–∏–≥–Ω–∞–ª—ã –∏ –¥—Ä.
‚îú‚îÄ‚îÄ tests/                # 625+ —Ç–µ—Å—Ç–æ–≤
‚îî‚îÄ‚îÄ examples/             # –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–∏–ª—é –∫–æ–¥–∞

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —á–∏—Å–ª–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç –≤ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É C —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º:

1. **–û–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ `include/hemlock_limits.h`** - –≠—Ç–æ—Ç —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º –º–µ—Å—Ç–æ–º –¥–ª—è –≤—Å–µ—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —ë–º–∫–æ—Å—Ç–µ–π –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç.

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `HML_`** - –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å `HML_` –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω.

3. **–ò–∑–±–µ–≥–∞–π—Ç–µ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª** - –ó–∞–º–µ–Ω—è–π—Ç–µ –∂—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏. –ü—Ä–∏–º–µ—Ä—ã:
   - –ü—Ä–µ–¥–µ–ª—ã –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ —Ç–∏–ø–æ–≤: `HML_I8_MIN`, `HML_I8_MAX`, `HML_U32_MAX`
   - –Å–º–∫–æ—Å—Ç–∏ –±—É—Ñ–µ—Ä–æ–≤: `HML_INITIAL_ARRAY_CAPACITY`, `HML_INITIAL_LEXER_BUFFER_CAPACITY`
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏: `HML_NANOSECONDS_PER_SECOND`, `HML_MILLISECONDS_PER_SECOND`
   - Seed-–∑–Ω–∞—á–µ–Ω–∏—è —Ö–µ—à–µ–π: `HML_DJB2_HASH_SEED`
   - ASCII-–∑–Ω–∞—á–µ–Ω–∏—è: `HML_ASCII_CASE_OFFSET`, `HML_ASCII_PRINTABLE_START`

4. **–í–∫–ª—é—á–∞–π—Ç–µ `hemlock_limits.h`** - –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ (—á–∞—Å—Ç–æ —á–µ—Ä–µ–∑ `internal.h`) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º.

5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ** - –î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –æ–±—ä—è—Å–Ω—è—é—â–∏–π, —á—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∂–¥–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞.

---

## –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å

- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–µ—è–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (ASI, GC, –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫—É)
- –°–∫—Ä—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å (–º–∞–≥–∏—á–µ—Å–∫–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, —Å–∫—Ä—ã—Ç—ã–µ –ø–æ–¥—Å—á—ë—Ç—ã —Å—Å—ã–ª–æ–∫)
- –ù–∞—Ä—É—à–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–µ–º–∞–Ω—Ç–∏–∫—É (—Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π, —Ä—É—á–Ω–∞—è –ø–∞–º—è—Ç—å, –∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏)
- –¢–µ—Ä—è—Ç—å —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ –Ω–µ—è–≤–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ - –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ `hemlock_limits.h`

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
make test              # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
make test-compiler     # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
make parity            # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø–∞—Ä–∏—Ç–µ—Ç–∞ (–æ–±–∞ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å)
make test-all          # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –Ω–∞–±–æ—Ä–æ–≤ —Ç–µ—Å—Ç–æ–≤
```

**–í–∞–∂–Ω–æ:** –¢–µ—Å—Ç—ã –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–∞—Ç—å –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º async/–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–π–º–∞—É—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Ç–µ—Å—Ç–æ–≤:
```bash
timeout 60 make test   # 60-—Å–µ–∫—É–Ω–¥–Ω—ã–π —Ç–∞–π–º–∞—É—Ç
timeout 120 make parity
```

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤: primitives, memory, strings, arrays, functions, objects, async, ffi, defer, signals, switch, bitwise, typed_arrays, modules, stdlib_*

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞/–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞

Hemlock –∏–º–µ–µ—Ç –¥–≤–∞ backend'–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç –æ–±—â–∏–π frontend:

```
–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (.hml)
    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –û–ë–©–ò–ô FRONTEND             ‚îÇ
‚îÇ  - –õ–µ–∫—Å–µ—Ä (src/frontend/)   ‚îÇ
‚îÇ  - –ü–∞—Ä—Å–µ—Ä (src/frontend/)   ‚îÇ
‚îÇ  - AST (src/frontend/)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚Üì                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ–ò–ù–¢–ï–†–ü–†–ï–¢–ê–¢–û–†‚îÇ    ‚îÇ –ö–û–ú–ü–ò–õ–Ø–¢–û–† ‚îÇ
‚îÇ (hemlock)  ‚îÇ    ‚îÇ (hemlockc) ‚îÇ
‚îÇ            ‚îÇ    ‚îÇ            ‚îÇ
‚îÇ –û–±—Ö–æ–¥      ‚îÇ    ‚îÇ –ü—Ä–æ–≤–µ—Ä–∫–∞   ‚îÇ
‚îÇ –¥–µ—Ä–µ–≤–∞     ‚îÇ    ‚îÇ —Ç–∏–ø–æ–≤      ‚îÇ
‚îÇ            ‚îÇ    ‚îÇ AST ‚Üí C    ‚îÇ
‚îÇ            ‚îÇ    ‚îÇ gcc link   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä (`hemlockc`) –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, **–≤–∫–ª—é—á—ë–Ω–Ω—É—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**:

```bash
hemlockc program.hml -o program    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤, –∑–∞—Ç–µ–º –∫–æ–º–ø–∏–ª—è—Ü–∏—è
hemlockc --check program.hml       # –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤, –±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
hemlockc --no-type-check prog.hml  # –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤
hemlockc --strict-types prog.hml   # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –Ω–µ—è–≤–Ω—ã—Ö —Ç–∏–ø–∞—Ö 'any'
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –Ω–µ—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∫–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (—Ç–∏–ø `any`) - –≤—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–µ–Ω
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑—Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (–¥–∏–∞–ø–∞–∑–æ–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

```
hemlock/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ frontend/           # –û–±—â–µ–µ: –ª–µ–∫—Å–µ—Ä, –ø–∞—Ä—Å–µ—Ä, AST, –º–æ–¥—É–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lexer.c
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ast.c
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ module.c
‚îÇ   ‚îú‚îÄ‚îÄ backends/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interpreter/    # hemlock: –æ–±—Ö–æ–¥—è—â–∏–π –¥–µ—Ä–µ–≤–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.c
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ runtime/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ builtins/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ compiler/       # hemlockc: –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä C-–∫–æ–¥–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ main.c
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ codegen/
‚îÇ   ‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lsp/            # –Ø–∑—ã–∫–æ–≤–æ–π —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bundler/        # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–±–æ—Ä–∫–∏/—É–ø–∞–∫–æ–≤–∫–∏
‚îú‚îÄ‚îÄ runtime/                # libhemlock_runtime.a –¥–ª—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º
‚îú‚îÄ‚îÄ stdlib/                 # –û–±—â–∞—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚îî‚îÄ‚îÄ tests/
    ‚îú‚îÄ‚îÄ parity/             # –¢–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –î–û–õ–ñ–ù–´ –ø—Ä–æ–π—Ç–∏ –æ–±–∞ backend'–∞
    ‚îú‚îÄ‚îÄ interpreter/        # –¢–µ—Å—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
    ‚îî‚îÄ‚îÄ compiler/           # –¢–µ—Å—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
```

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –ø–∞—Ä–∏—Ç–µ—Ç–∞

**–ò –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –≤—Ö–æ–¥–∞.**

### –ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —è–∑—ã–∫–∞:

1. **–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ AST/—Å–µ–º–∞–Ω—Ç–∏–∫–∏ –≤ –æ–±—â–µ–º frontend'–µ
2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞** - –î–æ–±–∞–≤—å—Ç–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–±—Ö–æ–¥–æ–º –¥–µ—Ä–µ–≤–∞
3. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞** - –î–æ–±–∞–≤—å—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é C-–∫–æ–¥–∞
4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –ø–∞—Ä–∏—Ç–µ—Ç–∞** - –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç –≤ `tests/parity/` —Å —Ñ–∞–π–ª–æ–º `.expected`
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞** - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `make parity` –ø–µ—Ä–µ–¥ —Å–ª–∏—è–Ω–∏–µ–º

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤ –ø–∞—Ä–∏—Ç–µ—Ç–∞

```
tests/parity/
‚îú‚îÄ‚îÄ language/       # –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º, –∑–∞–º—ã–∫–∞–Ω–∏—è –∏ –¥—Ä.)
‚îú‚îÄ‚îÄ builtins/       # –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (print, typeof, memory –∏ –¥—Ä.)
‚îú‚îÄ‚îÄ methods/        # –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ –∏ –º–∞—Å—Å–∏–≤–æ–≤
‚îî‚îÄ‚îÄ modules/        # Import/export, –∏–º–ø–æ—Ä—Ç—ã stdlib
```

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –∏–º–µ–µ—Ç –¥–≤–∞ —Ñ–∞–π–ª–∞:
- `feature.hml` - –¢–µ—Å—Ç–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- `feature.expected` - –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å –¥–ª—è –æ–±–æ–∏—Ö backend'–æ–≤)

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ –ø–∞—Ä–∏—Ç–µ—Ç–∞

| –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| `‚úì PASSED` | –ò –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–µ–º–æ–º—É –≤—ã–≤–æ–¥—É |
| `‚óê INTERP_ONLY` | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä) |
| `‚óë COMPILER_ONLY` | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ä–µ–¥–∫–æ) |
| `‚úó FAILED` | –û–±–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç (–æ—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∞ –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) |

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–∏—Ç–µ—Ç–∞

- –í—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —è–∑—ã–∫–∞ (if, while, for, switch, defer, try/catch)
- –í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (–∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ, –ø–æ–±–∏—Ç–æ–≤—ã–µ, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
- –í—Å–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (print, typeof, alloc –∏ –¥—Ä.)
- –í—Å–µ –º–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ –∏ –º–∞—Å—Å–∏–≤–æ–≤
- –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –æ—à–∏–±–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ß—Ç–æ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –î–µ—Ç–∞–ª–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏
- –§–æ—Ä–º–∞—Ç –æ—Ç–ª–∞–¥–∫–∏/—Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤
- –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –±–æ–ª—å—à–µ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –ø–∞—Ä–∏—Ç–µ—Ç–∞

```bash
# 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
cat > tests/parity/language/my_feature.hml << 'EOF'
// –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞
let x = some_feature();
print(x);
EOF

# 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –≤—ã–≤–æ–¥–∞ –∏–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
./hemlock tests/parity/language/my_feature.hml > tests/parity/language/my_feature.expected

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∏—Ç–µ—Ç–∞
make parity
```

---

## –í–µ—Ä—Å–∏—è

**v1.8.1** - –¢–µ–∫—É—â–∏–π —Ä–µ–ª–∏–∑ —Å:
- **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º** (–≤—ã—Ä–∞–∂–µ–Ω–∏—è `match`) - –ú–æ—â–Ω–∞—è –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º:
  - –õ–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–µ, –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ –æ–±—Ä–∞–∑—Ü—ã –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  - –ò–õ–ò-–æ–±—Ä–∞–∑—Ü—ã (`1 | 2 | 3`)
  - Guard-–≤—ã—Ä–∞–∂–µ–Ω–∏—è (`n if n > 0`)
  - –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (`{ x, y }`)
  - –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ —Å –æ—Å—Ç–∞—Ç–∫–æ–º (`[first, ...rest]`)
  - –û–±—Ä–∞–∑—Ü—ã —Ç–∏–ø–æ–≤ (`n: i32`)
  - –ü–æ–ª–Ω—ã–π –ø–∞—Ä–∏—Ç–µ—Ç –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º
- **–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞** - 11 –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GCC/Clang:
  - `@inline`, `@noinline` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–π
  - `@hot`, `@cold` - –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤–µ—Ç–≤–ª–µ–Ω–∏–π
  - `@pure`, `@const` - –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
  - `@flatten` - –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏
  - `@optimize(level)` - —É—Ä–æ–≤–µ–Ω—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ ("0", "1", "2", "3", "s", "fast")
  - `@warn_unused` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö
  - `@section(name)` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ ELF-—Å–µ–∫—Ü–∏–∏ (–Ω–∞–ø—Ä., `@section(".text.hot")`)
- **–§—É–Ω–∫—Ü–∏–∏ —Å —Ç–µ–ª–æ–º-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º** (`fn double(x): i32 => x * 2;`) - –∫—Ä–∞—Ç–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ—É–Ω–∫—Ü–∏–π —Å –æ–¥–Ω–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º
- **–û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã** - —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `if`, `while`, `for` –±–µ–∑ —Å–∫–æ–±–æ–∫ (–Ω–∞–ø—Ä., `if (x > 0) print(x);`)
- **–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤** (`type Name = Type;`) - –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤
- **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π** (`fn(i32): i32`) - —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ —Ç–∏–ø—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
- **Const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (`fn(const x: array)`) - –≥–ª—É–±–æ–∫–∞—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **Ref-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (`fn(ref x: i32)`) - –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å—Å—ã–ª–∫–µ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ –∫–æ–¥–∞
- **–°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –≤ define** (`fn method(): Type`) - –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ —Å—Ç–∏–ª–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (—Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –∑–∞–ø—è—Ç—ã–º–∏)
- **–¢–∏–ø Self** –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö –º–µ—Ç–æ–¥–æ–≤ - —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Ç–∏–ø
- **–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ loop** (`loop { }`) - –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã, –∑–∞–º–µ–Ω—è–µ—Ç `while (true)`
- **–ú–µ—Ç–∫–∏ —Ü–∏–∫–ª–æ–≤** (`outer: while`) - —Ü–µ–ª–µ–≤–æ–π break/continue –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
- **–°–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–±—ä–µ–∫—Ç–æ–≤** (`{ name }`) - —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –≤ —Å—Ç–∏–ª–µ ES6
- **Spread –æ–±—ä–µ–∫—Ç–æ–≤** (`{ ...obj }`) - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–æ–≤
- **–°–æ—Å—Ç–∞–≤–Ω—ã–µ duck-—Ç–∏–ø—ã** (`A & B & C`) - —Ç–∏–ø—ã –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- **–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã** –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π (`foo(name: "value", age: 30)`)
- **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å null** (`??`, `??=`, `?.`) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ null
- **–í–æ—Å—å–º–µ—Ä–∏—á–Ω—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã** (`0o777`, `0O123`)
- **–ß–∏—Å–ª–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏** (`1_000_000`, `0xFF_FF`, `0b1111_0000`)
- **–ë–ª–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** (`/* ... */`)
- **–®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –≤ —Å—Ç—Ä–æ–∫–∞—Ö/—Ä—É–Ω–∞—Ö (`\x41` = 'A')
- **Unicode escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** –≤ —Å—Ç—Ä–æ–∫–∞—Ö (`\u{1F600}` = üòÄ)
- **–õ–∏—Ç–µ—Ä–∞–ª—ã float –±–µ–∑ –≤–µ–¥—É—â–µ–≥–æ –Ω—É–ª—è** (`.5`, `.123`, `.5e2`)
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** –≤ hemlockc (–≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LSP** —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–æ–≤ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–°–æ—Å—Ç–∞–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è** (`+=`, `-=`, `*=`, `/=`, `%=`, `&=`, `|=`, `^=`, `<<=`, `>>=`)
- **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞/–¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∞** (`++x`, `x++`, `--x`, `x--`)
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤**: i64/u64 + f32 ‚Üí f64 –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏
- –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ (i8-i64, u8-u64, f32/f64, bool, string, rune, ptr, buffer, array, object, enum, file, task, channel)
- UTF-8 —Å—Ç—Ä–æ–∫–∏ —Å 19 –º–µ—Ç–æ–¥–∞–º–∏
- –ú–∞—Å—Å–∏–≤—ã —Å 18 –º–µ—Ç–æ–¥–∞–º–∏ –≤–∫–ª—é—á–∞—è map/filter/reduce
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é —Å `talloc()` –∏ `sizeof()`
- Async/await —Å –Ω–∞—Å—Ç–æ—è—â–∏–º pthread-–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è lock-free –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- 40 –º–æ–¥—É–ª–µ–π stdlib (+ arena, assert, semver, toml, retry, iter, random, shell)
- FFI –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å C —Å `export extern fn` –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—ë—Ä—Ç–æ–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FFI-—Å—Ç—Ä—É–∫—Ç—É—Ä –≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ (–ø–µ—Ä–µ–¥–∞—á–∞ C-—Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é)
- FFI-—Ö–µ–ª–ø–µ—Ä—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π (`ptr_null`, `ptr_read_*`, `ptr_write_*`)
- defer, try/catch/finally/throw, panic
- –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
- [hpm](https://github.com/hemlang/hpm) –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ —Å —Ä–µ–µ—Å—Ç—Ä–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ GitHub
- Backend –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è C-–∫–æ–¥–∞) —Å–æ 100% –ø–∞—Ä–∏—Ç–µ—Ç–æ–º —Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º
- LSP-—Å–µ—Ä–≤–µ—Ä —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –∏ –ø–æ–∏—Å–∫–æ–º —Å—Å—ã–ª–æ–∫
- –ü—Ä–æ—Ö–æ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ AST –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è O(1) –ø–æ–∏—Å–∫–∞
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è apply() –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –ù–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- 159 —Ç–µ—Å—Ç–æ–≤ –ø–∞—Ä–∏—Ç–µ—Ç–∞ (100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å)

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è

> –ú—ã –¥–∞—ë–º –≤–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (`buffer`, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü), –Ω–æ –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ–º –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (`ptr`, —Ä—É—á–Ω–∞—è –ø–∞–º—è—Ç—å, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏).

**–ï—Å–ª–∏ –≤—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è Hemlock, —Å–ø—Ä–æ—Å–∏—Ç–µ: "–≠—Ç–æ –¥–∞—ë—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É –±–æ–ª—å—à–µ —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏–ª–∏ —ç—Ç–æ —á—Ç–æ-—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç?"**

–ï—Å–ª–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç, —Ç–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ, —ç—Ç–æ –Ω–µ –º–µ—Å—Ç–æ –≤ Hemlock.



################################################################################
# –ù–ê–ß–ê–õ–û –†–ê–ë–û–¢–´
################################################################################

--------------------------------------------------------------------------------
## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
--------------------------------------------------------------------------------

# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É —Å Hemlock –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç!

## –í–∞—à–∞ –ø–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `hello.hml`:

```hemlock
print("Hello, Hemlock!");
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞:

```bash
./hemlock hello.hml
```

–ò–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –≤ –Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª:

```bash
./hemlockc hello.hml -o hello
./hello
```

–í—ã–≤–æ–¥:
```
Hello, Hemlock!
```

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä vs –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º:

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ |
|------------|---------------------|----------------|
| `hemlock` | –ë—ã—Å—Ç—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã, REPL, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | –¢–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `hemlockc` | –ü—Ä–æ–¥–∞–∫—à–µ–Ω-–±–∏–Ω–∞—Ä–Ω–∏–∫–∏, –ª—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –í–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) |

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä (`hemlockc`) –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã –≤ –≤–∞—à–µ–º –∫–æ–¥–µ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞, –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—è –æ—à–∏–±–∫–∏ –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏.

## –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```hemlock
// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é 'let'
let x = 42;
let name = "Alice";
let pi = 3.14159;

// –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
let count: i32 = 100;
let ratio: f64 = 0.618;
```

**–í–∞–∂–Ω–æ**: –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** –≤ Hemlock!

### –¢–∏–ø—ã

Hemlock –∏–º–µ–µ—Ç –±–æ–≥–∞—Ç—É—é —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤:

```hemlock
// –¶–µ–ª—ã–µ —á–∏—Å–ª–∞
let small: i8 = 127;          // 8-–±–∏—Ç–Ω–æ–µ –∑–Ω–∞–∫–æ–≤–æ–µ
let byte: u8 = 255;           // 8-–±–∏—Ç–Ω–æ–µ –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ
let num: i32 = 2147483647;    // 32-–±–∏—Ç–Ω–æ–µ –∑–Ω–∞–∫–æ–≤–æ–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
let big: i64 = 9223372036854775807;  // 64-–±–∏—Ç–Ω–æ–µ –∑–Ω–∞–∫–æ–≤–æ–µ

// –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
let f: f32 = 3.14;            // 32-–±–∏—Ç–Ω–æ–µ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
let d: f64 = 2.71828;         // 64-–±–∏—Ç–Ω–æ–µ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

// –°—Ç—Ä–æ–∫–∏ –∏ —Å–∏–º–≤–æ–ª—ã
let text: string = "Hello";   // UTF-8 —Å—Ç—Ä–æ–∫–∞
let emoji: rune = 'üöÄ';       // –ö–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ Unicode

// –õ–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–∏–ø –∏ null
let flag: bool = true;
let empty = null;
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º

```hemlock
// –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
if (x > 0) {
    print("–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ");
} else if (x < 0) {
    print("–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ");
} else {
    print("–Ω–æ–ª—å");
}

// –¶–∏–∫–ª while
let i = 0;
while (i < 5) {
    print(i);
    i = i + 1;
}

// –¶–∏–∫–ª for
for (let j = 0; j < 10; j = j + 1) {
    print(j);
}
```

### –§—É–Ω–∫—Ü–∏–∏

```hemlock
// –ò–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
fn add(a: i32, b: i32): i32 {
    return a + b;
}

let result = add(5, 3);  // 8

// –ê–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
let multiply = fn(x, y) {
    return x * y;
};

print(multiply(4, 7));  // 28
```

## –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏

–°—Ç—Ä–æ–∫–∏ –≤ Hemlock **–∏–∑–º–µ–Ω—è–µ–º—ã–µ** –∏ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ **UTF-8**:

```hemlock
let s = "hello";
s[0] = 'H';              // –¢–µ–ø–µ—Ä—å "Hello"
print(s);

// –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫
let upper = s.to_upper();     // "HELLO"
let words = "a,b,c".split(","); // ["a", "b", "c"]
let sub = s.substr(1, 3);     // "ell"

// –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è
let greeting = "Hello" + ", " + "World!";
print(greeting);  // "Hello, World!"
```

## –ú–∞—Å—Å–∏–≤—ã

–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã —Å–æ —Å–º–µ—à–∞–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏:

```hemlock
let numbers = [1, 2, 3, 4, 5];
print(numbers[0]);      // 1
print(numbers.length);  // 5

// –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤
numbers.push(6);        // [1, 2, 3, 4, 5, 6]
let last = numbers.pop();  // 6
let slice = numbers.slice(1, 4);  // [2, 3, 4]

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
let mixed = [1, "two", true, null];
```

## –û–±—ä–µ–∫—Ç—ã

–û–±—ä–µ–∫—Ç—ã –≤ —Å—Ç–∏–ª–µ JavaScript:

```hemlock
// –õ–∏—Ç–µ—Ä–∞–ª –æ–±—ä–µ–∫—Ç–∞
let person = {
    name: "Alice",
    age: 30,
    city: "NYC"
};

print(person.name);  // "Alice"
person.age = 31;     // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—è

// –ú–µ—Ç–æ–¥—ã —Å 'self'
let counter = {
    count: 0,
    increment: fn() {
        self.count = self.count + 1;
    }
};

counter.increment();
print(counter.count);  // 1
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**:

```hemlock
// –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
let buf = buffer(64);   // –í—ã–¥–µ–ª–∏—Ç—å 64 –±–∞–π—Ç–∞
buf[0] = 65;            // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –±–∞–π—Ç –≤ 'A'
print(buf[0]);          // 65
free(buf);              // –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å

// –°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å)
let ptr = alloc(100);
memset(ptr, 0, 100);    // –ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω—É–ª—è–º–∏
free(ptr);
```

**–í–∞–∂–Ω–æ**: –í—ã –¥–æ–ª–∂–Ω—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `free()` —Ç–æ, —á—Ç–æ –≤—ã–¥–µ–ª–∏–ª–∏ —Å –ø–æ–º–æ—â—å—é `alloc()`!

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```hemlock
fn divide(a, b) {
    if (b == 0) {
        throw "–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å";
    }
    return a / b;
}

try {
    let result = divide(10, 0);
    print(result);
} catch (e) {
    print("–û—à–∏–±–∫–∞: " + e);
} finally {
    print("–ì–æ—Ç–æ–≤–æ");
}
```

## –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

–î–æ—Å—Ç—É–ø –∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º –ø—Ä–æ–≥—Ä–∞–º–º—ã —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤ `args`:

```hemlock
// script.hml
print("–°–∫—Ä–∏–ø—Ç:", args[0]);
print(`–ê—Ä–≥—É–º–µ–Ω—Ç–æ–≤: ${args.length - 1}`);

let i = 1;
while (i < args.length) {
    print(`  –∞—Ä–≥—É–º–µ–Ω—Ç ${i}: ${args[i]}`);
    i = i + 1;
}
```

–ó–∞–ø—É—Å–∫:
```bash
./hemlock script.hml hello world
```

–í—ã–≤–æ–¥:
```
–°–∫—Ä–∏–ø—Ç: script.hml
–ê—Ä–≥—É–º–µ–Ω—Ç–æ–≤: 2
  –∞—Ä–≥—É–º–µ–Ω—Ç 1: hello
  –∞—Ä–≥—É–º–µ–Ω—Ç 2: world
```

## –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥

```hemlock
// –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
let f = open("data.txt", "w");
f.write("Hello, File!");
f.close();

// –ß—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞
let f2 = open("data.txt", "r");
let content = f2.read();
print(content);  // "Hello, File!"
f2.close();
```

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –≤—ã –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –æ—Å–Ω–æ–≤–∞–º–∏, –∏—Å—Å–ª–µ–¥—É–π—Ç–µ –±–æ–ª—å—à–µ:

- [–£—á–µ–±–Ω–∏–∫](#getting-started-tutorial) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —è–∑—ã–∫—É](#language-guide-syntax) - –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤–æ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- [–ü—Ä–∏–º–µ—Ä—ã](../../examples/) - –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](#reference-builtins) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### –ó–∞–±—ã—Ç—ã–µ —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π

```hemlock
// –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π
let x = 42
let y = 10

// –ü–†–ê–í–ò–õ–¨–ù–û
let x = 42;
let y = 10;
```

### –ó–∞–±—ã—Ç–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

```hemlock
// –£–¢–ï–ß–ö–ê –ü–ê–ú–Ø–¢–ò
let buf = buffer(100);
// ... –∏—Å–ø–æ–ª—å–∑—É–µ–º buf ...
// –ó–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å free(buf)!

// –ü–†–ê–í–ò–õ–¨–ù–û
let buf = buffer(100);
// ... –∏—Å–ø–æ–ª—å–∑—É–µ–º buf ...
free(buf);
```

### –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

```hemlock
// –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏
if (x > 0)
    print("–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ");

// –ü–†–ê–í–ò–õ–¨–ù–û
if (x > 0) {
    print("–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ");
}
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

- –ß–∏—Ç–∞–π—Ç–µ [–ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](../README.md)
- –°–º–æ—Ç—Ä–∏—Ç–µ [–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏](../../examples/)
- –ò–∑—É—á–∞–π—Ç–µ [—Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã](../../tests/) –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –°–æ–æ–±—â–∞–π—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –Ω–∞ GitHub


--------------------------------------------------------------------------------
## –ü—É—Ç–∏ –æ–±—É—á–µ–Ω–∏—è
--------------------------------------------------------------------------------

# –ü—É—Ç–∏ –æ–±—É—á–µ–Ω–∏—è

–†–∞–∑–Ω—ã–µ —Ü–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π. –í—ã–±–µ—Ä–∏—Ç–µ –ø—É—Ç—å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–º—É, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å.

---

## –ü—É—Ç—å 1: –ë—ã—Å—Ç—Ä—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

**–¶–µ–ª—å:** –ü–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á, –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã.

**–í—Ä–µ–º—è –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –ë—ã—Å—Ç—Ä–æ - –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –ø–∏—Å–∞—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.

### –ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ

1. **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start)** - –í–∞—à–∞ –ø–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞, –±–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
2. **[–°—Ç—Ä–æ–∫–∏](#language-guide-strings)** - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, –ø–æ–∏—Å–∫
3. **[–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays)** - –°–ø–∏—Å–∫–∏, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
4. **[–§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥](#advanced-file-io)** - –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤
5. **[–ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏](#advanced-command-line-args)** - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–≤–æ–¥–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ –ø–æ–∫–∞

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å/–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (–∏–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤)
- FFI (–Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å C)

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```hemlock
import { list_dir, rename } from "@stdlib/fs";

// –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ .txt –≤ .md
let files = list_dir(".");
for (file in files) {
    if (file.ends_with(".txt")) {
        let new_name = file.replace(".txt", ".md");
        rename(file, new_name);
        print(`–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω: ${file} -> ${new_name}`);
    }
}
```

---

## –ü—É—Ç—å 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö

**–¶–µ–ª—å:** –ü–∞—Ä—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –∏—Ö, –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã.

**–í—Ä–µ–º—è –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –ë—ã—Å—Ç—Ä–æ - –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ –º–∞—Å—Å–∏–≤–∞–º–∏ Hemlock –¥–µ–ª–∞—é—Ç —ç—Ç–æ –ø—Ä–æ—Å—Ç—ã–º.

### –ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ

1. **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start)** - –û—Å–Ω–æ–≤—ã
2. **[–°—Ç—Ä–æ–∫–∏](#language-guide-strings)** - –ü–∞—Ä—Å–∏–Ω–≥, —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **[–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays)** - map, filter, reduce –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
4. **[–û–±—ä–µ–∫—Ç—ã](#language-guide-objects)** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
5. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
   - **[@stdlib/json](#stdlib-json)** - –ü–∞—Ä—Å–∏–Ω–≥ JSON
   - **[@stdlib/csv](#stdlib-csv)** - CSV —Ñ–∞–π–ª—ã
   - **[@stdlib/fs](#stdlib-fs)** - –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞: –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä CSV

```hemlock
import { read_file } from "@stdlib/fs";
import { parse } from "@stdlib/csv";

let data = parse(read_file("sales.csv"));

// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø—Ä–æ–¥–∞–∂
let total = 0;
for (row in data) {
    total = total + f64(row.amount);
}

print(`–û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏: $${total}`);

// –ü–æ–∏—Å–∫ –ª—É—á—à–µ–π –ø—Ä–æ–¥–∞–∂–∏
let top = data[0];
for (row in data) {
    if (f64(row.amount) > f64(top.amount)) {
        top = row;
    }
}

print(`–õ—É—á—à–∞—è –ø—Ä–æ–¥–∞–∂–∞: ${top.product} - $${top.amount}`);
```

---

## –ü—É—Ç—å 3: –í–µ–± –∏ —Å–µ—Ç–µ–≤–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¶–µ–ª—å:** –°–æ–∑–¥–∞–≤–∞—Ç—å HTTP-–∫–ª–∏–µ–Ω—Ç—ã, —Ä–∞–±–æ—Ç–∞—Ç—å —Å API, —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä—ã.

**–í—Ä–µ–º—è –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –°—Ä–µ–¥–Ω–µ–µ - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–Ω–∏–º–∞–Ω–∏–µ –æ—Å–Ω–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏.

### –ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ

1. **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start)** - –û—Å–Ω–æ–≤—ã
2. **[–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions)** - –ö–æ–ª–±—ç–∫–∏ –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è
3. **[–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#language-guide-error-handling)** - try/catch –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
4. **[–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º](#advanced-async-concurrency)** - spawn, await, –∫–∞–Ω–∞–ª—ã
5. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
   - **[@stdlib/http](#stdlib-http)** - HTTP-–∑–∞–ø—Ä–æ—Å—ã
   - **[@stdlib/json](#stdlib-json)** - JSON –¥–ª—è API
   - **[@stdlib/net](#stdlib-net)** - TCP/UDP —Å–æ–∫–µ—Ç—ã
   - **[@stdlib/url](#stdlib-url)** - –ü–∞—Ä—Å–∏–Ω–≥ URL

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞: API-–∫–ª–∏–µ–Ω—Ç

```hemlock
import { http_get, http_post } from "@stdlib/http";
import { parse, stringify } from "@stdlib/json";

// GET-–∑–∞–ø—Ä–æ—Å
let response = http_get("https://api.example.com/users");
let users = parse(response.body);

for (user in users) {
    print(`${user.name}: ${user.email}`);
}

// POST-–∑–∞–ø—Ä–æ—Å
let new_user = { name: "Alice", email: "alice@example.com" };
let result = http_post("https://api.example.com/users", {
    body: stringify(new_user),
    headers: { "Content-Type": "application/json" }
});

print(`–°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å ID: ${parse(result.body).id}`);
```

---

## –ü—É—Ç—å 4: –°–∏—Å—Ç–µ–º–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¶–µ–ª—å:** –ü–∏—Å–∞—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–¥, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–∞–º—è—Ç—å—é, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ C.

**–í—Ä–µ–º—è –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –î–æ–ª—å—à–µ - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–Ω–∏–º–∞–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é.

### –ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ

1. **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start)** - –û—Å–Ω–æ–≤—ã
2. **[–¢–∏–ø—ã](#language-guide-types)** - –ü–æ–Ω–∏–º–∞–Ω–∏–µ i32, u8, ptr –∏ —Ç.–¥.
3. **[–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#language-guide-memory)** - alloc, free, –±—É—Ñ–µ—Ä—ã
4. **[FFI](#advanced-ffi)** - –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π C
5. **[–°–∏–≥–Ω–∞–ª—ã](#advanced-signals)** - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–∞–º—è—Ç–∏:**
- [ ] –ö–∞–∂–¥–æ–º—É `alloc()` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç `free()`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `buffer()`, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω —Å—ã—Ä–æ–π `ptr`
- [ ] –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ `null` –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
- [ ] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try/finally` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –¥–ª—è FFI:**
| Hemlock | C |
|---------|---|
| `i8` | `char` / `int8_t` |
| `i32` | `int` |
| `i64` | `long` (64-–±–∏—Ç) |
| `u8` | `unsigned char` |
| `f64` | `double` |
| `ptr` | `void*` |

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞: –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É–ª –ø–∞–º—è—Ç–∏

```hemlock
// –ü—Ä–æ—Å—Ç–æ–π –∞–ª–ª–æ–∫–∞—Ç–æ—Ä —Å –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ–º —É–∫–∞–∑–∞—Ç–µ–ª—è
let pool_size = 1024 * 1024;  // 1–ú–ë
let pool = alloc(pool_size);
let pool_offset = 0;

fn pool_alloc(size: i32): ptr {
    if (pool_offset + size > pool_size) {
        throw "–ü—É–ª –∏—Å—á–µ—Ä–ø–∞–Ω";
    }
    let p = pool + pool_offset;
    pool_offset = pool_offset + size;
    return p;
}

fn pool_reset() {
    pool_offset = 0;
}

fn pool_destroy() {
    free(pool);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
let a = pool_alloc(100);
let b = pool_alloc(200);
memset(a, 0, 100);
memset(b, 0, 200);

pool_reset();  // –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –ø–∞–º—è—Ç–∏
pool_destroy();  // –û—á–∏—Å—Ç–∫–∞
```

---

## –ü—É—Ç—å 5: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

**–¶–µ–ª—å:** –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–¥ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–¥—Ä–∞—Ö CPU, —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–∑—ã–≤—á–∏–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–í—Ä–µ–º—è –¥–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:** –°—Ä–µ–¥–Ω–µ–µ - —Å–∏–Ω—Ç–∞–∫—Å–∏—Å async –ø—Ä–æ—Å—Ç, –Ω–æ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è –æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏.

### –ß—Ç–æ –≤—ã –∏–∑—É—á–∏—Ç–µ

1. **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start)** - –û—Å–Ω–æ–≤—ã
2. **[–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions)** - –ó–∞–º—ã–∫–∞–Ω–∏—è (–≤–∞–∂–Ω—ã –¥–ª—è async)
3. **[–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º](#advanced-async-concurrency)** - –ü–æ–ª–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ
4. **[–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏](#advanced-atomics)** - –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å Hemlock:**
- `async fn` - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –¥—Ä—É–≥–æ–º –ø–æ—Ç–æ–∫–µ
- `spawn(fn, args...)` - –ó–∞–ø—É—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏
- `join(task)` –∏–ª–∏ `await task` - –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- `channel(size)` - –°–æ–∑–¥–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏

**–í–∞–∂–Ω–æ:** –ó–∞–¥–∞—á–∏ –ø–æ–ª—É—á–∞—é—Ç *–∫–æ–ø–∏–∏* –∑–Ω–∞—á–µ–Ω–∏–π. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–¥–∞—ë—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª—å, –≤—ã –Ω–µ—Å—ë—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Ç–æ, —á—Ç–æ–±—ã –ø–∞–º—è—Ç—å –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤

```hemlock
import { list_dir, read_file } from "@stdlib/fs";

async fn process_file(path: string): i32 {
    let content = read_file(path);
    let lines = content.split("\n");
    return lines.length;
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
let files = list_dir("data/");
let tasks = [];

for (file in files) {
    if (file.ends_with(".txt")) {
        let task = spawn(process_file, "data/" + file);
        tasks.push({ name: file, task: task });
    }
}

// –°–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
let total_lines = 0;
for (item in tasks) {
    let count = join(item.task);
    print(`${item.name}: ${count} —Å—Ç—Ä–æ–∫`);
    total_lines = total_lines + count;
}

print(`–í—Å–µ–≥–æ: ${total_lines} —Å—Ç—Ä–æ–∫`);
```

---

## –° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å (–¥–ª—è –ª—é–±–æ–≥–æ –ø—É—Ç–∏)

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–∞—à–µ–π —Ü–µ–ª–∏, –Ω–∞—á–Ω–∏—Ç–µ —Å —ç—Ç–∏—Ö –æ—Å–Ω–æ–≤:

### –ù–µ–¥–µ–ª—è 1: –ë–∞–∑–æ–≤—ã–µ –æ—Å–Ω–æ–≤—ã
1. **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start)** - –ù–∞–ø–∏—à–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É
2. **[–°–∏–Ω—Ç–∞–∫—Å–∏—Å](#language-guide-syntax)** - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º
3. **[–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions)** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

### –ù–µ–¥–µ–ª—è 2: –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
4. **[–°—Ç—Ä–æ–∫–∏](#language-guide-strings)** - –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å —Ç–µ–∫—Å—Ç–æ–º
5. **[–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays)** - –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –∏—Ç–µ—Ä–∞—Ü–∏—è
6. **[–û–±—ä–µ–∫—Ç—ã](#language-guide-objects)** - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ù–µ–¥–µ–ª—è 3: –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å
7. **[–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#language-guide-error-handling)** - try/catch/throw
8. **[–ú–æ–¥—É–ª–∏](#language-guide-modules)** - –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ stdlib

### –ó–∞—Ç–µ–º: –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –≤—ã—à–µ

---

## –®–ø–∞—Ä–≥–∞–ª–∫–∞: –ü–µ—Ä–µ—Ö–æ–¥ —Å –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤

### –° Python

| Python | Hemlock | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|---------|------------|
| `x = 42` | `let x = 42;` | –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã |
| `def fn():` | `fn name() { }` | –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã |
| `if x:` | `if (x) { }` | –ö—Ä—É–≥–ª—ã–µ –∏ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã |
| `for i in range(10):` | `for (let i = 0; i < 10; i++) { }` | –¶–∏–∫–ª—ã for –≤ —Å—Ç–∏–ª–µ C |
| `for item in list:` | `for (item in array) { }` | For-in —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ |
| `list.append(x)` | `array.push(x);` | –î—Ä—É–≥–æ–µ –∏–º—è –º–µ—Ç–æ–¥–∞ |
| `len(s)` | `s.length` –∏–ª–∏ `len(s)` | –û–±–∞ —Ä–∞–±–æ—Ç–∞—é—Ç |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–∞–º—è—Ç—å | –†—É—á–Ω–∞—è –¥–ª—è `ptr` | –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–∏–ø–æ–≤ –æ—á–∏—â–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

### –° JavaScript

| JavaScript | Hemlock | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|------------|---------|------------|
| `let x = 42` | `let x = 42;` | –¢–æ –∂–µ (—Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã) |
| `const x = 42` | `let x = 42;` | –ù–µ—Ç –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ const |
| `function fn()` | `fn name() { }` | –î—Ä—É–≥–æ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ |
| `() => x` | `fn() { return x; }` | –ù–µ—Ç —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π |
| `async/await` | `async/await` | –¢–æ—Ç –∂–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å |
| `Promise` | `spawn/join` | –î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å |
| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π GC | –†—É—á–Ω–æ–π –¥–ª—è `ptr` | –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–∏–ø–æ–≤ –æ—á–∏—â–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

### –° C/C++

| C | Hemlock | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|---|---------|------------|
| `int x = 42;` | `let x: i32 = 42;` | –¢–∏–ø –ø–æ—Å–ª–µ –¥–≤–æ–µ—Ç–æ—á–∏—è |
| `malloc(n)` | `alloc(n)` | –¢–∞ –∂–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è |
| `free(p)` | `free(p)` | –¢–æ –∂–µ |
| `char* s = "hi"` | `let s = "hi";` | –°—Ç—Ä–æ–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ |
| `#include` | `import { } from` | –ò–º–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π |
| –†—É—á–Ω–æ–µ –≤—Å—ë | –ê–≤—Ç–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç–∏–ø–æ–≤ | –¢–æ–ª—å–∫–æ `ptr` —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è |

---

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

- **[–ì–ª–æ—Å—Å–∞—Ä–∏–π](../glossary.md)** - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ—Ä–º–∏–Ω–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **[–ü—Ä–∏–º–µ—Ä—ã](../../examples/)** - –ü–æ–ª–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
- **[–¢–µ—Å—Ç—ã](../../tests/)** - –°–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **GitHub Issues** - –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–æ–æ–±—â–∞–π—Ç–µ –æ–± –æ—à–∏–±–∫–∞—Ö

---

## –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ —Ç–∞–∫–∏–µ –º–∞—Ä–∫–µ—Ä—ã:

| –ú–∞—Ä–∫–µ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| **–ù–∞—á–∏–Ω–∞—é—â–∏–π** | –û–ø—ã—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |
| **–°—Ä–µ–¥–Ω–∏–π** | –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π** | –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π |

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å –ø–æ–º–µ—Ç–∫–æ–π "–ù–∞—á–∏–Ω–∞—é—â–∏–π" –≤—ã–∑—ã–≤–∞–µ—Ç –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ [–ì–ª–æ—Å—Å–∞—Ä–∏–π](../glossary.md) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Ç–µ—Ä–º–∏–Ω–æ–≤.


--------------------------------------------------------------------------------
## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
--------------------------------------------------------------------------------

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å–æ–±—Ä–∞—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Hemlock –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ.

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Hemlock - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
curl -fsSL https://raw.githubusercontent.com/hemlang/hemlock/main/install.sh | bash
```

–°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–±—Ä–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –≤–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Linux –∏–ª–∏ macOS, x86_64 –∏–ª–∏ arm64).

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–µ—Ñ–∏–∫—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ~/.local)
curl -fsSL https://raw.githubusercontent.com/hemlang/hemlock/main/install.sh | bash -s -- --prefix /usr/local

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
curl -fsSL https://raw.githubusercontent.com/hemlang/hemlock/main/install.sh | bash -s -- --version v1.6.0

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º PATH –≤ –æ–±–æ–ª–æ—á–∫–µ
curl -fsSL https://raw.githubusercontent.com/hemlang/hemlock/main/install.sh | bash -s -- --update-path
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:

```bash
hemlock --version
```

---

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —Å–æ–±–∏—Ä–∞—Ç—å –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–ª–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ, —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∏–∂–µ.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–î–ª—è —Å–±–æ—Ä–∫–∏ Hemlock —Ç—Ä–µ–±—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä C**: GCC –∏–ª–∏ Clang (—Å—Ç–∞–Ω–¥–∞—Ä—Ç C11)
- **Make**: GNU Make
- **libffi**: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Foreign Function Interface (–¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ FFI)
- **OpenSSL**: –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–¥–ª—è —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–π: md5, sha1, sha256)
- **libwebsockets**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebSocket –∏ HTTP –∫–ª–∏–µ–Ω—Ç–∞/—Å–µ—Ä–≤–µ—Ä–∞
- **zlib**: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–∂–∞—Ç–∏—è

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**macOS:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Homebrew, –µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Xcode Command Line Tools
xcode-select --install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Homebrew
brew install libffi openssl@3 libwebsockets
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π macOS**: Makefile –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Homebrew –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∫ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–º —Ñ–∞–π–ª–∞–º –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º. Hemlock –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Intel (x86_64) –∏ Apple Silicon (arm64).

**Ubuntu/Debian:**
```bash
sudo apt-get update
sudo apt-get install build-essential libffi-dev libssl-dev libwebsockets-dev zlib1g-dev
```

**Fedora/RHEL:**
```bash
sudo dnf install gcc make libffi-devel openssl-devel libwebsockets-devel zlib-devel
```

**Arch Linux:**
```bash
sudo pacman -S base-devel libffi openssl libwebsockets zlib
```

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/hemlang/hemlock.git
cd hemlock
```

### 2. –°–±–æ—Ä–∫–∞ Hemlock

```bash
make
```

–≠—Ç–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Hemlock –∏ –ø–æ–º–µ—Å—Ç–∏—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –≤ —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
./hemlock --version
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–µ—Ä—Å–∏–∏ Hemlock.

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–±–æ—Ä–∫–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```bash
make test
```

–í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ. –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–æ–±—â–∏—Ç–µ –æ –Ω–∏—Ö –∫–∞–∫ –æ –ø—Ä–æ–±–ª–µ–º–µ.

## –û–±—â–µ—Å–∏—Å—Ç–µ–º–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –æ–±—â–µ—Å–∏—Å—Ç–µ–º–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Hemlock (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `/usr/local/bin`):

```bash
sudo make install
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å `hemlock` –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏.

## –ó–∞–ø—É—Å–∫ Hemlock

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π REPL

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ü–∏–∫–ª —á—Ç–µ–Ω–∏—è-–≤—ã—á–∏—Å–ª–µ–Ω–∏—è-–≤—ã–≤–æ–¥–∞ (Read-Eval-Print Loop):

```bash
./hemlock
```

–í—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ, –≥–¥–µ –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å –∫–æ–¥ Hemlock:

```
Hemlock REPL
> print("Hello, World!");
Hello, World!
> let x = 42;
> print(x * 2);
84
>
```

–í—ã–π–¥–∏—Ç–µ –∏–∑ REPL —Å –ø–æ–º–æ—â—å—é `Ctrl+D` –∏–ª–∏ `Ctrl+C`.

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç Hemlock:

```bash
./hemlock program.hml
```

–° –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

```bash
./hemlock program.hml arg1 arg2 "–∞—Ä–≥—É–º–µ–Ω—Ç —Å –ø—Ä–æ–±–µ–ª–∞–º–∏"
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –≤–∞—à–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è Hemlock –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```
hemlock/
‚îú‚îÄ‚îÄ hemlock           # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ src/              # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îú‚îÄ‚îÄ include/          # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ tests/            # –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ examples/         # –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º
‚îú‚îÄ‚îÄ docs/             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ stdlib/           # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚îú‚îÄ‚îÄ Makefile          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
‚îî‚îÄ‚îÄ README.md         # README –ø—Ä–æ–µ–∫—Ç–∞
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–±–æ—Ä–∫–∏

### –û—Ç–ª–∞–¥–æ—á–Ω–∞—è —Å–±–æ—Ä–∫–∞

–°–±–æ—Ä–∫–∞ —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –∏ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```bash
make debug
```

### –ß–∏—Å—Ç–∞—è —Å–±–æ—Ä–∫–∞

–£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:

```bash
make clean
```

–ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –Ω—É–ª—è:

```bash
make clean && make
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### macOS: –û—à–∏–±–∫–∏ "Library Not Found"

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫–∏ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö (`-lcrypto`, `-lffi` –∏ —Ç.–¥.):

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Homebrew —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
   ```bash
   brew install libffi openssl@3 libwebsockets
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ Homebrew:
   ```bash
   brew --prefix libffi
   brew --prefix openssl
   ```

3. Makefile –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —ç—Ç–∏ –ø—É—Ç–∏. –ï—Å–ª–∏ —ç—Ç–æ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `brew` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –≤–∞—à–µ–º PATH:
   ```bash
   which brew
   ```

### macOS: –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ BSD (`u_int`, `u_char` –Ω–µ –Ω–∞–π–¥–µ–Ω—ã)

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫–∏ –æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏–º–µ–Ω–∞—Ö —Ç–∏–ø–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ `u_int` –∏–ª–∏ `u_char`:

1. –≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –≤–µ—Ä—Å–∏–∏ v1.0.0+ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `_DARWIN_C_SOURCE` –≤–º–µ—Å—Ç–æ `_POSIX_C_SOURCE`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞
3. –û—á–∏—Å—Ç–∏—Ç–µ –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
   ```bash
   make clean && make
   ```

### Linux: libffi –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

–ï—Å–ª–∏ –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –æ—à–∏–±–∫–∏ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–º `ffi.h` –∏–ª–∏ `-lffi`:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `libffi-dev` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (—Å–º. –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—ã—à–µ)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –º–æ–∂–µ—Ç –ª–∏ `pkg-config` –Ω–∞–π—Ç–∏ –µ—ë:
   ```bash
   pkg-config --cflags --libs libffi
   ```
3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –≤–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `PKG_CONFIG_PATH`:
   ```bash
   export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH
   ```

### –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

–ï—Å–ª–∏ –≤—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å –æ—à–∏–±–∫–∞–º–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å C11
2. –ù–∞ macOS –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Clang (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
   ```bash
   make CC=clang
   ```
3. –ù–∞ Linux –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GCC:
   ```bash
   make CC=gcc
   ```
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å –Ω—É–ª—è:
   ```bash
   make clean && make
   ```

### –û—à–∏–±–∫–∏ —Ç–µ—Å—Ç–æ–≤

–ï—Å–ª–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç:

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å –Ω—É–ª—è:
   ```bash
   make clean && make test
   ```
3. –ù–∞ macOS —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è Xcode Command Line Tools:
   ```bash
   xcode-select --install
   ```
4. –°–æ–æ–±—â–∏—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–µ –Ω–∞ GitHub —Å —É–∫–∞–∑–∞–Ω–∏–µ–º:
   - –í–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–≤–µ—Ä—Å–∏—è macOS / –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Linux)
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (x86_64 / arm64)
   - –í—ã–≤–æ–¥–∞ —Ç–µ—Å—Ç–æ–≤
   - –í—ã–≤–æ–¥–∞ `make -v` –∏ `gcc --version` (–∏–ª–∏ `clang --version`)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#getting-started-quick-start) - –ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ Hemlock
- [–£—á–µ–±–Ω–∏–∫](#getting-started-tutorial) - –ò–∑—É—á–∞–π—Ç–µ Hemlock —à–∞–≥ –∑–∞ —à–∞–≥–æ–º
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —è–∑—ã–∫—É](#language-guide-syntax) - –ò—Å—Å–ª–µ–¥—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Hemlock


--------------------------------------------------------------------------------
## –£—á–µ–±–Ω–∏–∫
--------------------------------------------------------------------------------

# –£—á–µ–±–Ω–∏–∫ Hemlock

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–∑—É—á–µ–Ω–∏—é Hemlock.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [Hello World](#hello-world)
2. [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–∏-—Ç–∏–ø—ã)
3. [–ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏](#–∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞-–∏-–æ–ø–µ—Ä–∞—Ü–∏–∏)
4. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–æ—Ç–æ–∫–æ–º)
5. [–§—É–Ω–∫—Ü–∏–∏](#—Ñ—É–Ω–∫—Ü–∏–∏)
6. [–°—Ç—Ä–æ–∫–∏ –∏ —Ä—É–Ω—ã](#—Å—Ç—Ä–æ–∫–∏-–∏-—Ä—É–Ω—ã)
7. [–ú–∞—Å—Å–∏–≤—ã](#–º–∞—Å—Å–∏–≤—ã)
8. [–û–±—ä–µ–∫—Ç—ã](#–æ–±—ä–µ–∫—Ç—ã)
9. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é)
10. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
11. [–§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥](#—Ñ–∞–π–ª–æ–≤—ã–π-–≤–≤–æ–¥–≤—ã–≤–æ–¥)
12. [–°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ](#—Å–æ–±–∏—Ä–∞–µ–º-–≤—Å—ë-–≤–º–µ—Å—Ç–µ)

## Hello World

–ù–∞—á–Ω—ë–º —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π –ø–µ—Ä–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã:

```hemlock
print("Hello, World!");
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `hello.hml` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
./hemlock hello.hml
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- `print()` - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –≤ stdout
- –°—Ç—Ä–æ–∫–∏ –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –≤ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
- –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```hemlock
// –ë–∞–∑–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
let x = 42;
let name = "Alice";
let pi = 3.14159;

print(x);      // 42
print(name);   // Alice
print(pi);     // 3.14159
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

–•–æ—Ç—è —Ç–∏–ø—ã –≤—ã–≤–æ–¥—è—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –∏—Ö —è–≤–Ω–æ:

```hemlock
let age: i32 = 30;
let height: f64 = 5.9;
let initial: rune = 'A';
let active: bool = true;
```

### –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤

Hemlock –≤—ã–≤–æ–¥–∏—Ç —Ç–∏–ø—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π:

```hemlock
let small = 42;              // i32 (–ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ 32 –±–∏—Ç–∞)
let large = 5000000000;      // i64 (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ –¥–ª—è i32)
let decimal = 3.14;          // f64 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –¥—Ä–æ–±–Ω—ã—Ö)
let text = "hello";          // string
let flag = true;             // bool
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```hemlock
// –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–∏–ø—ã —Å –ø–æ–º–æ—â—å—é typeof()
print(typeof(42));        // "i32"
print(typeof(3.14));      // "f64"
print(typeof("hello"));   // "string"
print(typeof(true));      // "bool"
print(typeof(null));      // "null"
```

## –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ë–∞–∑–æ–≤–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞

```hemlock
let a = 10;
let b = 3;

print(a + b);   // 13
print(a - b);   // 7
print(a * b);   // 30
print(a / b);   // 3 (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ)
print(a == b);  // false
print(a > b);   // true
```

### –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

–ü—Ä–∏ —Å–º–µ—à–∏–≤–∞–Ω–∏–∏ —Ç–∏–ø–æ–≤ Hemlock –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –±–æ–ª—å—à–µ–º—É/–±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–º—É —Ç–∏–ø—É:

```hemlock
let x: i32 = 10;
let y: f64 = 3.5;
let result = x + y;  // result –∏–º–µ–µ—Ç —Ç–∏–ø f64 (10.0 + 3.5 = 13.5)

print(result);       // 13.5
print(typeof(result)); // "f64"
```

### –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```hemlock
let a = 12;  // 1100 –≤ –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
let b = 10;  // 1010 –≤ –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ

print(a & b);   // 8  (–ò)
print(a | b);   // 14 (–ò–õ–ò)
print(a ^ b);   // 6  (–∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò)
print(a << 1);  // 24 (—Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ)
print(a >> 1);  // 6  (—Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ)
print(~a);      // -13 (–ù–ï)
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º

### –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```hemlock
let x = 10;

if (x > 0) {
    print("–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ");
} else if (x < 0) {
    print("–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ");
} else {
    print("–Ω–æ–ª—å");
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ **–≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**, –¥–∞–∂–µ –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.

### –¶–∏–∫–ª—ã while

```hemlock
let count = 0;
while (count < 5) {
    print(`–°—á—ë—Ç: ${count}`);
    count = count + 1;
}
```

### –¶–∏–∫–ª—ã for

```hemlock
// –¶–∏–∫–ª for –≤ —Å—Ç–∏–ª–µ C
for (let i = 0; i < 10; i = i + 1) {
    print(i);
}

// –¶–∏–∫–ª for-in (–¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤)
let items = [10, 20, 30, 40];
for (let item in items) {
    print(`–≠–ª–µ–º–µ–Ω—Ç: ${item}`);
}
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä switch

```hemlock
let day = 3;

switch (day) {
    case 1:
        print("–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫");
        break;
    case 2:
        print("–í—Ç–æ—Ä–Ω–∏–∫");
        break;
    case 3:
        print("–°—Ä–µ–¥–∞");
        break;
    default:
        print("–î—Ä—É–≥–æ–π –¥–µ–Ω—å");
        break;
}
```

### Break –∏ Continue

```hemlock
// Break: –¥–æ—Å—Ä–æ—á–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
let i = 0;
while (i < 10) {
    if (i == 5) {
        break;
    }
    print(i);
    i = i + 1;
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 2, 3, 4

// Continue: –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
for (let j = 0; j < 5; j = j + 1) {
    if (j == 2) {
        continue;
    }
    print(j);
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 3, 4
```

## –§—É–Ω–∫—Ü–∏–∏

### –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
fn greet(name: string): string {
    return "–ü—Ä–∏–≤–µ—Ç, " + name + "!";
}

let message = greet("Alice");
print(message);  // "–ü—Ä–∏–≤–µ—Ç, Alice!"
```

### –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
let add = fn(a, b) {
    return a + b;
};

print(add(5, 3));  // 8
```

### –†–µ–∫—É—Ä—Å–∏—è

```hemlock
fn factorial(n: i32): i32 {
    if (n <= 1) {
        return 1;
    }
    return n * factorial(n - 1);
}

print(factorial(5));  // 120
```

### –ó–∞–º—ã–∫–∞–Ω–∏—è

–§—É–Ω–∫—Ü–∏–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç —Å–≤–æ—ë –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```hemlock
fn makeCounter() {
    let count = 0;
    return fn() {
        count = count + 1;
        return count;
    };
}

let counter = makeCounter();
print(counter());  // 1
print(counter());  // 2
print(counter());  // 3
```

### –§—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞

```hemlock
fn apply(f, x) {
    return f(x);
}

fn double(n) {
    return n * 2;
}

let result = apply(double, 21);
print(result);  // 42
```

## –°—Ç—Ä–æ–∫–∏ –∏ —Ä—É–Ω—ã

### –û—Å–Ω–æ–≤—ã —Å—Ç—Ä–æ–∫

–°—Ç—Ä–æ–∫–∏ **–∏–∑–º–µ–Ω—è–µ–º—ã–µ** –∏ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ **UTF-8**:

```hemlock
let s = "hello";
print(s.length);      // 5 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤)
print(s.byte_length); // 5 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç)

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ
s[0] = 'H';
print(s);  // "Hello"
```

### –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫

```hemlock
let text = "  Hello, World!  ";

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞
print(text.to_upper());  // "  HELLO, WORLD!  "
print(text.to_lower());  // "  hello, world!  "

// –û–±—Ä–µ–∑–∫–∞ –ø—Ä–æ–±–µ–ª–æ–≤
print(text.trim());      // "Hello, World!"

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
let hello = text.substr(2, 5);  // "Hello"
let world = text.slice(9, 14);  // "World"

// –ü–æ–∏—Å–∫
let pos = text.find("World");   // 9
let has = text.contains("o");   // true

// –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ
let parts = "a,b,c".split(","); // ["a", "b", "c"]

// –ó–∞–º–µ–Ω–∞
let s = "hello world".replace("world", "there");
print(s);  // "hello there"
```

### –†—É–Ω—ã (–∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ Unicode)

```hemlock
let ch: rune = 'A';
let emoji: rune = 'üöÄ';

print(ch);      // 'A'
print(emoji);   // U+1F680

// –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Ä—É–Ω—ã –∏ —Å—Ç—Ä–æ–∫–∏
let msg = '>' + " –í–∞–∂–Ω–æ";
print(msg);  // "> –í–∞–∂–Ω–æ"

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Ä—É–Ω–æ–π –∏ —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º
let code: i32 = ch;     // 65 (ASCII –∫–æ–¥)
let r: rune = 128640;   // U+1F680 (üöÄ)
```

## –ú–∞—Å—Å–∏–≤—ã

### –û—Å–Ω–æ–≤—ã –º–∞—Å—Å–∏–≤–æ–≤

```hemlock
let numbers = [1, 2, 3, 4, 5];
print(numbers[0]);      // 1
print(numbers.length);  // 5

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
numbers[2] = 99;
print(numbers[2]);  // 99
```

### –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤

```hemlock
let arr = [10, 20, 30];

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ
arr.push(40);           // [10, 20, 30, 40]
let last = arr.pop();   // 40, arr —Ç–µ–ø–µ—Ä—å [10, 20, 30]

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–µ
arr.unshift(5);         // [5, 10, 20, 30]
let first = arr.shift(); // 5, arr —Ç–µ–ø–µ—Ä—å [10, 20, 30]

// –í—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
arr.insert(1, 15);      // [10, 15, 20, 30]
let removed = arr.remove(2);  // 20

// –ü–æ–∏—Å–∫
let index = arr.find(15);     // 1
let has = arr.contains(10);   // true

// –°—Ä–µ–∑
let slice = arr.slice(0, 2);  // [10, 15]

// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É
let text = arr.join(", ");    // "10, 15, 30"
```

### –ò—Ç–µ—Ä–∞—Ü–∏—è

```hemlock
let items = ["—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω", "–≤–∏—à–Ω—è"];

// –¶–∏–∫–ª for-in
for (let item in items) {
    print(item);
}

// –†—É—á–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
let i = 0;
while (i < items.length) {
    print(items[i]);
    i = i + 1;
}
```

## –û–±—ä–µ–∫—Ç—ã

### –õ–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤

```hemlock
let person = {
    name: "Alice",
    age: 30,
    city: "NYC"
};

print(person.name);  // "Alice"
print(person.age);   // 30

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
person.email = "alice@example.com";
person.age = 31;
```

### –ú–µ—Ç–æ–¥—ã –∏ `self`

```hemlock
let calculator = {
    value: 0,
    add: fn(x) {
        self.value = self.value + x;
    },
    get: fn() {
        return self.value;
    }
};

calculator.add(10);
calculator.add(5);
print(calculator.get());  // 15
```

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è)

```hemlock
define Person {
    name: string,
    age: i32,
    active?: true,  // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
}

let p = { name: "Bob", age: 25 };
let typed: Person = p;  // –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É

print(typeof(typed));   // "Person"
print(typed.active);    // true (–ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

### JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

```hemlock
let obj = { x: 10, y: 20, name: "test" };

// –û–±—ä–µ–∫—Ç –≤ JSON
let json = obj.serialize();
print(json);  // {"x":10,"y":20,"name":"test"}

// JSON –≤ –æ–±—ä–µ–∫—Ç
let restored = json.deserialize();
print(restored.name);  // "test"
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –±—É—Ñ–µ—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```hemlock
// –í—ã–¥–µ–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞
let buf = buffer(10);
print(buf.length);    // 10
print(buf.capacity);  // 10

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü)
buf[0] = 65;  // 'A'
buf[1] = 66;  // 'B'
buf[2] = 67;  // 'C'

// –î–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º
print(buf[0]);  // 65

// –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
free(buf);
```

### –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å)

```hemlock
// –í—ã–¥–µ–ª–µ–Ω–∏–µ —Å—ã—Ä–æ–π –ø–∞–º—è—Ç–∏
let ptr = alloc(100);

// –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω—É–ª—è–º–∏
memset(ptr, 0, 100);

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
let src = alloc(50);
memcpy(ptr, src, 50);

// –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ–±–æ–∏—Ö
free(src);
free(ptr);
```

### –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é

```hemlock
// –ü–µ—Ä–µ–≤—ã–¥–µ–ª–µ–Ω–∏–µ
let p = alloc(64);
p = realloc(p, 128);  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ 128 –±–∞–π—Ç
free(p);

// –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ (–≤ –±—É–¥—É—â–µ–º)
// let arr = talloc(i32, 100);  // –ú–∞—Å—Å–∏–≤ –∏–∑ 100 i32
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Try/Catch

```hemlock
fn divide(a, b) {
    if (b == 0) {
        throw "–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å";
    }
    return a / b;
}

try {
    let result = divide(10, 0);
    print(result);
} catch (e) {
    print("–û—à–∏–±–∫–∞: " + e);
}
// –í—ã–≤–æ–¥: –û—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
```

### –ë–ª–æ–∫ finally

```hemlock
let file = null;

try {
    file = open("data.txt", "r");
    let content = file.read();
    print(content);
} catch (e) {
    print("–û—à–∏–±–∫–∞: " + e);
} finally {
    // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞
    if (file != null) {
        file.close();
    }
}
```

### –í—ã–±—Ä–æ—Å –æ–±—ä–µ–∫—Ç–æ–≤

```hemlock
try {
    throw { code: 404, message: "–ù–µ –Ω–∞–π–¥–µ–Ω–æ" };
} catch (e) {
    print(`–û—à–∏–±–∫–∞ ${e.code}: ${e.message}`);
}
// –í—ã–≤–æ–¥: –û—à–∏–±–∫–∞ 404: –ù–µ –Ω–∞–π–¥–µ–Ω–æ
```

### Panic (–Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º—ã–µ –æ—à–∏–±–∫–∏)

```hemlock
fn validate(x) {
    if (x < 0) {
        panic("x –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
    }
    return x * 2;
}

validate(-5);  // –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å: panic: x –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
```

## –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥

### –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```hemlock
// –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞
let f = open("data.txt", "r");
let content = f.read();
print(content);
f.close();

// –ß—Ç–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞–π—Ç
let f2 = open("data.txt", "r");
let chunk = f2.read(100);  // –ß—Ç–µ–Ω–∏–µ 100 –±–∞–π—Ç
f2.close();
```

### –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤

```hemlock
// –ó–∞–ø–∏—Å—å —Ç–µ–∫—Å—Ç–∞
let f = open("output.txt", "w");
f.write("Hello, File!\n");
f.write("–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞\n");
f.close();

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª
let f2 = open("output.txt", "a");
f2.write("–î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞\n");
f2.close();
```

### –ë–∏–Ω–∞—Ä–Ω—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥

```hemlock
// –ó–∞–ø–∏—Å—å –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let buf = buffer(256);
buf[0] = 255;
buf[1] = 128;

let f = open("data.bin", "w");
f.write_bytes(buf);
f.close();

// –ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let f2 = open("data.bin", "r");
let data = f2.read_bytes(256);
print(data[0]);  // 255
f2.close();

free(buf);
free(data);
```

### –°–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤

```hemlock
let f = open("/path/to/file.txt", "r");

print(f.path);    // "/path/to/file.txt"
print(f.mode);    // "r"
print(f.closed);  // false

f.close();
print(f.closed);  // true
```

## –°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ

–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Å–ª–æ–≤:

```hemlock
// wordcount.hml - –ü–æ–¥—Å—á—ë—Ç —Å–ª–æ–≤ –≤ —Ñ–∞–π–ª–µ

fn count_words(filename: string): i32 {
    let file = null;
    let count = 0;

    try {
        file = open(filename, "r");
        let content = file.read();

        // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–±–µ–ª–∞–º –∏ –ø–æ–¥—Å—á—ë—Ç
        let words = content.split(" ");
        count = words.length;

    } catch (e) {
        print("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞: " + e);
        return -1;
    } finally {
        if (file != null) {
            file.close();
        }
    }

    return count;
}

// –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <–∏–º—è_—Ñ–∞–π–ª–∞>");
} else {
    let filename = args[1];
    let words = count_words(filename);

    if (words >= 0) {
        print(`–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤: ${words}`);
    }
}
```

–ó–∞–ø—É—Å–∫:
```bash
./hemlock wordcount.hml data.txt
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∏–∑—É—á–∏–ª–∏ –æ—Å–Ω–æ–≤—ã Hemlock. –í–æ—Ç —á—Ç–æ –º–æ–∂–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ:

- [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º](#advanced-async-concurrency) - –ù–∞—Å—Ç–æ—è—â–∞—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
- [FFI](#advanced-ffi) - –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π C
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤](#advanced-signals) - –°–∏–≥–Ω–∞–ª—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](#reference-builtins) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [–ü—Ä–∏–º–µ—Ä—ã](../../examples/) - –ë–æ–ª—å—à–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å —ç—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏:

1. **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä**: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ +, -, *, /
2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –¥—Ä—É–≥–æ–π
3. **–ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏
4. **–ü–∞—Ä—Å–µ—Ä JSON**: –ß—Ç–µ–Ω–∏–µ –∏ —Ä–∞–∑–±–æ—Ä JSON-—Ñ–∞–π–ª–æ–≤
5. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–∞**: –ü–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –≤ —Ñ–∞–π–ª–∞—Ö

–£–¥–∞—á–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Hemlock!



################################################################################
# –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –Ø–ó–´–ö–£
################################################################################

--------------------------------------------------------------------------------
## –ú–∞—Å—Å–∏–≤—ã
--------------------------------------------------------------------------------

# –ú–∞—Å—Å–∏–≤—ã

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã** —Å –æ–±—à–∏—Ä–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –ú–∞—Å—Å–∏–≤—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## –û–±–∑–æ—Ä

```hemlock
// –õ–∏—Ç–µ—Ä–∞–ª—ã –º–∞—Å—Å–∏–≤–æ–≤
let arr = [1, 2, 3, 4, 5];
print(arr[0]);         // 1
print(arr.length);     // 5

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
let mixed = [1, "hello", true, null];

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä
arr.push(6);           // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è
arr.push(7);
print(arr.length);     // 7
```

## –õ–∏—Ç–µ—Ä–∞–ª—ã –º–∞—Å—Å–∏–≤–æ–≤

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
let numbers = [1, 2, 3, 4, 5];
let strings = ["apple", "banana", "cherry"];
let booleans = [true, false, true];
```

### –ü—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã

```hemlock
let arr = [];  // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–∑–∂–µ
arr.push(1);
arr.push(2);
arr.push(3);
```

### –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã

–ú–∞—Å—Å–∏–≤—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã:

```hemlock
let mixed = [
    42,
    "hello",
    true,
    null,
    [1, 2, 3],
    { x: 10, y: 20 }
];

print(mixed[0]);  // 42
print(mixed[1]);  // "hello"
print(mixed[4]);  // [1, 2, 3] (–≤–ª–æ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤)
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã

```hemlock
let matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
];

print(matrix[0][0]);  // 1
print(matrix[1][2]);  // 6
print(matrix[2][1]);  // 8
```

### –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã

–ú–∞—Å—Å–∏–≤—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```hemlock
// –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
let nums: array<i32> = [1, 2, 3, 4, 5];
let names: array<string> = ["Alice", "Bob", "Carol"];
let flags: array<bool> = [true, false, true];

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
let valid: array<i32> = [1, 2, 3];       // OK
let invalid: array<i32> = [1, "two", 3]; // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã
let matrix: array<array<i32>> = [
    [1, 2, 3],
    [4, 5, 6]
];
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–∞:**
- –≠–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –º–∞—Å—Å–∏–≤
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ë–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–∞ –º–∞—Å—Å–∏–≤—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Å–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã

## –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è

### –ß—Ç–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

–î–æ—Å—Ç—É–ø —Å –Ω—É–ª—è:

```hemlock
let arr = [10, 20, 30, 40, 50];

print(arr[0]);  // 10 (–ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç)
print(arr[4]);  // 50 (–ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç)

// –í—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null (–±–µ–∑ –æ—à–∏–±–∫–∏)
print(arr[10]);  // null
```

### –ó–∞–ø–∏—Å—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```hemlock
let arr = [1, 2, 3];

arr[0] = 10;    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
arr[1] = 20;
print(arr);     // [10, 20, 3]

// –ú–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Ç–µ–∫—É—â–µ–π –¥–ª–∏–Ω—ã (–º–∞—Å—Å–∏–≤ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è)
arr[5] = 60;    // –°–æ–∑–¥–∞–µ—Ç [10, 20, 3, null, null, 60]
```

### –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

**–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã:

```hemlock
let arr = [1, 2, 3];
print(arr[-1]);  // –û–®–ò–ë–ö–ê –∏–ª–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ length –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
print(arr[arr.length - 1]);  // 3
```

## –°–≤–æ–π—Å—Ç–≤–∞

### –°–≤–æ–π—Å—Ç–≤–æ `.length`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```hemlock
let arr = [1, 2, 3, 4, 5];
print(arr.length);  // 5

// –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
let empty = [];
print(empty.length);  // 0

// –ü–æ—Å–ª–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π
arr.push(6);
print(arr.length);  // 6
```

## –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 18 –º–µ—Ç–æ–¥–æ–≤ –º–∞—Å—Å–∏–≤–æ–≤ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏.

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å—Ç–µ–∫–∞

**`push(value)`** - –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü:
```hemlock
let arr = [1, 2, 3];
arr.push(4);           // [1, 2, 3, 4]
arr.push(5);           // [1, 2, 3, 4, 5]

print(arr.length);     // 5
```

**`pop()`** - –£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç:
```hemlock
let arr = [1, 2, 3, 4, 5];
let last = arr.pop();  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5, arr —Ç–µ–ø–µ—Ä—å [1, 2, 3, 4]

print(last);           // 5
print(arr.length);     // 4
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–∏

**`shift()`** - –£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç:
```hemlock
let arr = [1, 2, 3];
let first = arr.shift();   // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1, arr —Ç–µ–ø–µ—Ä—å [2, 3]

print(first);              // 1
print(arr);                // [2, 3]
```

**`unshift(value)`** - –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –Ω–∞—á–∞–ª–æ:
```hemlock
let arr = [2, 3];
arr.unshift(1);            // [1, 2, 3]
arr.unshift(0);            // [0, 1, 2, 3]
```

### –í—Å—Ç–∞–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

**`insert(index, value)`** - –í—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É:
```hemlock
let arr = [1, 2, 4, 5];
arr.insert(2, 3);      // –í—Å—Ç–∞–≤–∏—Ç—å 3 –ø–æ –∏–Ω–¥–µ–∫—Å—É 2: [1, 2, 3, 4, 5]

arr.insert(0, 0);      // –í—Å—Ç–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ: [0, 1, 2, 3, 4, 5]
```

**`remove(index)`** - –£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É:
```hemlock
let arr = [1, 2, 3, 4, 5];
let removed = arr.remove(2);  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3, arr —Ç–µ–ø–µ—Ä—å [1, 2, 4, 5]

print(removed);               // 3
print(arr);                   // [1, 2, 4, 5]
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞

**`find(value)`** - –ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ:
```hemlock
let arr = [10, 20, 30, 40];
let idx = arr.find(30);      // 2 (–∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è)
let idx2 = arr.find(99);     // -1 (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ)

// –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ç–∏–ø–æ–º
let words = ["apple", "banana", "cherry"];
let idx3 = words.find("banana");  // 1
```

**`contains(value)`** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–µ:
```hemlock
let arr = [10, 20, 30, 40];
let has = arr.contains(20);  // true
let has2 = arr.contains(99); // false
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

**`slice(start, end)`** - –ò–∑–≤–ª–µ—á—å –ø–æ–¥–º–∞—Å—Å–∏–≤ (end –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è):
```hemlock
let arr = [1, 2, 3, 4, 5];
let sub = arr.slice(1, 4);   // [2, 3, 4] (–∏–Ω–¥–µ–∫—Å—ã 1, 2, 3)
let first = arr.slice(0, 2); // [1, 2]

// –û—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è
print(arr);                  // [1, 2, 3, 4, 5]
```

**`first()`** - –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è):
```hemlock
let arr = [1, 2, 3];
let f = arr.first();         // 1 (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è)
print(arr);                  // [1, 2, 3] (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

**`last()`** - –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è):
```hemlock
let arr = [1, 2, 3];
let l = arr.last();          // 3 (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è)
print(arr);                  // [1, 2, 3] (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

**`reverse()`** - –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ:
```hemlock
let arr = [1, 2, 3, 4, 5];
arr.reverse();               // [5, 4, 3, 2, 1]

print(arr);                  // [5, 4, 3, 2, 1] (–∏–∑–º–µ–Ω–µ–Ω)
```

**`join(delimiter)`** - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å—Ç—Ä–æ–∫—É:
```hemlock
let words = ["hello", "world", "foo"];
let joined = words.join(" ");  // "hello world foo"

let numbers = [1, 2, 3];
let csv = numbers.join(",");   // "1,2,3"

// –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–º–µ—à–∞–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
let mixed = [1, "hello", true, null];
print(mixed.join(" | "));  // "1 | hello | true | null"
```

**`concat(other)`** - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å –¥—Ä—É–≥–∏–º –º–∞—Å—Å–∏–≤–æ–º:
```hemlock
let a = [1, 2, 3];
let b = [4, 5, 6];
let combined = a.concat(b);  // [1, 2, 3, 4, 5, 6] (–Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤)

// –û—Ä–∏–≥–∏–Ω–∞–ª—ã –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è
print(a);                    // [1, 2, 3]
print(b);                    // [4, 5, 6]
```

### –°–ª—É–∂–µ–±–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**`clear()`** - –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
```hemlock
let arr = [1, 2, 3, 4, 5];
arr.clear();                 // []

print(arr.length);           // 0
print(arr);                  // []
```

## –¶–µ–ø–æ—á–∫–∞ –º–µ—Ç–æ–¥–æ–≤

–ú–µ—Ç–æ–¥—ã, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ –º–∞—Å—Å–∏–≤—ã –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫–∏:

```hemlock
let result = [1, 2, 3]
    .concat([4, 5, 6])
    .slice(2, 5);  // [3, 4, 5]

let text = ["apple", "banana", "cherry"]
    .slice(0, 2)
    .join(" and ");  // "apple and banana"

let numbers = [5, 3, 8, 1, 9]
    .slice(1, 4)
    .concat([10, 11]);  // [3, 8, 1, 10, 11]
```

## –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –º–µ—Ç–æ–¥–∞–º

| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –ò–∑–º–µ–Ω—è–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|------------|----------|----------|
| `push(value)` | any | void | –î–∞ | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü |
| `pop()` | - | any | –î–∞ | –£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π |
| `shift()` | - | any | –î–∞ | –£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤—ã–π |
| `unshift(value)` | any | void | –î–∞ | –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –Ω–∞—á–∞–ª–æ |
| `insert(index, value)` | i32, any | void | –î–∞ | –í—Å—Ç–∞–≤–∏—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É |
| `remove(index)` | i32 | any | –î–∞ | –£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É |
| `find(value)` | any | i32 | –ù–µ—Ç | –ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ (-1 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ) |
| `contains(value)` | any | bool | –ù–µ—Ç | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è |
| `slice(start, end)` | i32, i32 | array | –ù–µ—Ç | –ò–∑–≤–ª–µ—á—å –ø–æ–¥–º–∞—Å—Å–∏–≤ (–Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤) |
| `join(delimiter)` | string | string | –ù–µ—Ç | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ —Å—Ç—Ä–æ–∫—É |
| `concat(other)` | array | array | –ù–µ—Ç | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å (–Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤) |
| `reverse()` | - | void | –î–∞ | –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –º–µ—Å—Ç–µ |
| `first()` | - | any | –ù–µ—Ç | –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç |
| `last()` | - | any | –ù–µ—Ç | –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç |
| `clear()` | - | void | –î–∞ | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã |
| `map(callback)` | fn | array | –ù–µ—Ç | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç |
| `filter(predicate)` | fn | array | –ù–µ—Ç | –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã |
| `reduce(callback, initial)` | fn, any | any | –ù–µ—Ç | –°–≤–µ—Ä–Ω—É—Ç—å –∫ –æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é |

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ú–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏

- **–†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ –∫—É—á–µ** - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –µ–º–∫–æ—Å—Ç—å
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç** - –ï–º–∫–æ—Å—Ç—å —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- **–ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∂–∞—Ç–∏—è** - –ï–º–∫–æ—Å—Ç—å –Ω–µ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
- **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –µ–º–∫–æ—Å—Ç—å—é

```hemlock
let arr = [];  // –ù–∞—á–∞–ª—å–Ω–∞—è –µ–º–∫–æ—Å—Ç—å: 0

arr.push(1);   // –ï–º–∫–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 1
arr.push(2);   // –ï–º–∫–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 2
arr.push(3);   // –ï–º–∫–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 4 (—É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è)
arr.push(4);   // –í—Å–µ –µ—â–µ –µ–º–∫–æ—Å—Ç—å 4
arr.push(5);   // –ï–º–∫–æ—Å—Ç—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ 8 (—É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è)
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π

`find()` –∏ `contains()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π:

```hemlock
// –ü—Ä–∏–º–∏—Ç–∏–≤—ã: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é
let arr = [1, 2, 3];
arr.contains(2);  // true

// –°—Ç—Ä–æ–∫–∏: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é
let words = ["hello", "world"];
words.contains("hello");  // true

// –û–±—ä–µ–∫—Ç—ã: —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ
let obj1 = { x: 10 };
let obj2 = { x: 10 };
let arr2 = [obj1];
arr2.contains(obj1);  // true (—Ç–∞ –∂–µ —Å—Å—ã–ª–∫–∞)
arr2.contains(obj2);  // false (–¥—Ä—É–≥–∞—è —Å—Å—ã–ª–∫–∞)
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (map/filter/reduce)

–ú–∞—Å—Å–∏–≤—ã –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã `map`, `filter` –∏ `reduce`:

```hemlock
// map - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç
let numbers = [1, 2, 3, 4, 5];
let doubled = numbers.map(fn(x) { return x * 2; });
print(doubled);  // [2, 4, 6, 8, 10]

// filter - –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
let evens = numbers.filter(fn(x) { return x % 2 == 0; });
print(evens);  // [2, 4]

// reduce - —Å–≤–µ—Ä–Ω—É—Ç—å –∫ –æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
let sum = numbers.reduce(fn(acc, x) { return acc + x; }, 0);
print(sum);  // 15

// –¶–µ–ø–æ—á–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
let result = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    .filter(fn(x) { return x % 2 == 0; })  // [2, 4, 6, 8, 10]
    .map(fn(x) { return x * x; })          // [4, 16, 36, 64, 100]
    .reduce(fn(acc, x) { return acc + x; }, 0);  // 220
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ú–∞—Å—Å–∏–≤ –∫–∞–∫ —Å—Ç–µ–∫

```hemlock
let stack = [];

// Push –Ω–∞ —Å—Ç–µ–∫
stack.push(1);
stack.push(2);
stack.push(3);

// Pop —Å–æ —Å—Ç–µ–∫–∞
let top = stack.pop();    // 3
let next = stack.pop();   // 2
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ú–∞—Å—Å–∏–≤ –∫–∞–∫ –æ—á–µ—Ä–µ–¥—å

```hemlock
let queue = [];

// –î–æ–±–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å (–≤ –∫–æ–Ω–µ—Ü)
queue.push(1);
queue.push(2);
queue.push(3);

// –ò–∑–≤–ª–µ—á—å –∏–∑ –æ—á–µ—Ä–µ–¥–∏ (—Å –Ω–∞—á–∞–ª–∞)
let first = queue.shift();   // 1
let second = queue.shift();  // 2
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –∏ —è—Å–Ω–æ—Å—Ç—å
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã** - –ü—Ä—è–º–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã
3. **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –Ω–µ–∏–∑–º–µ–Ω—è—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `slice()` –∏ `concat()` –≤–º–µ—Å—Ç–æ –º—É—Ç–∞—Ü–∏–∏
4. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å –µ–º–∫–æ—Å—Ç—å—é** - –ï—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ —Ä–∞–∑–º–µ—Ä (–ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `contains()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–ª–µ–Ω—Å—Ç–≤–∞** - –Ø—Å–Ω–µ–µ —á–µ–º —Ä—É—á–Ω—ã–µ —Ü–∏–∫–ª—ã
6. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ü–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤** - –ß–∏—Ç–∞–±–µ–ª—å–Ω–µ–µ —á–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≤—É—à–∫–∏

### –õ–æ–≤—É—à–∫–∞: –ü—Ä—è–º–æ–π –∏–Ω–¥–µ–∫—Å –∑–∞ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏

```hemlock
let arr = [1, 2, 3];

// –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü!
arr[10] = 99;  // –°–æ–∑–¥–∞–µ—Ç —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å null
print(arr.length);  // 11 (–Ω–µ 3!)

// –õ—É—á—à–µ: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ push() –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–ª–∏–Ω—É
if (arr.length <= 10) {
    arr.push(99);
}
```

### –õ–æ–≤—É—à–∫–∞: –ú—É—Ç–∞—Ü–∏—è vs. –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤

```hemlock
let arr = [1, 2, 3];

// –ò–∑–º–µ–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª
arr.reverse();
print(arr);  // [3, 2, 1]

// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤
let sub = arr.slice(0, 2);
print(arr);  // [3, 2, 1] (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
print(sub);  // [3, 2]
```

### –õ–æ–≤—É—à–∫–∞: –†–∞–≤–µ–Ω—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫

```hemlock
let obj = { x: 10 };
let arr = [obj];

// –¢–∞ –∂–µ —Å—Å—ã–ª–∫–∞: true
arr.contains(obj);  // true

// –î—Ä—É–≥–∞—è —Å—Å—ã–ª–∫–∞: false
arr.contains({ x: 10 });  // false (–¥—Ä—É–≥–æ–π –æ–±—ä–µ–∫—Ç)
```

### –õ–æ–≤—É—à–∫–∞: –î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ –º–∞—Å—Å–∏–≤—ã

```hemlock
// –ú–∞—Å—Å–∏–≤—ã –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è, –Ω–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ/–¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ —Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è
let global_cache = [];  // –ù–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è, –∂–∏–≤–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

fn add_to_cache(item) {
    global_cache.push(item);  // –†–∞—Å—Ç–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
}

// –î–ª—è –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:
// - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é –æ—á–∏—Å—Ç–∫—É –º–∞—Å—Å–∏–≤–∞: global_cache.clear();
// - –†–∞–Ω–Ω–µ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∏: free(global_cache);
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–∞—Å—Å–∏–≤–∞

```hemlock
fn mean(arr) {
    let sum = 0;
    let i = 0;
    while (i < arr.length) {
        sum = sum + arr[i];
        i = i + 1;
    }
    return sum / arr.length;
}

fn max(arr) {
    if (arr.length == 0) {
        return null;
    }

    let max_val = arr[0];
    let i = 1;
    while (i < arr.length) {
        if (arr[i] > max_val) {
            max_val = arr[i];
        }
        i = i + 1;
    }
    return max_val;
}

let numbers = [3, 7, 2, 9, 1];
print(mean(numbers));  // 4.4
print(max(numbers));   // 9
```

### –ü—Ä–∏–º–µ—Ä: –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

```hemlock
fn unique(arr) {
    let result = [];
    let i = 0;
    while (i < arr.length) {
        if (!result.contains(arr[i])) {
            result.push(arr[i]);
        }
        i = i + 1;
    }
    return result;
}

let numbers = [1, 2, 2, 3, 1, 4, 3, 5];
let uniq = unique(numbers);  // [1, 2, 3, 4, 5]
```

### –ü—Ä–∏–º–µ—Ä: –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏

```hemlock
fn chunk(arr, size) {
    let result = [];
    let i = 0;

    while (i < arr.length) {
        let chunk = arr.slice(i, i + size);
        result.push(chunk);
        i = i + size;
    }

    return result;
}

let numbers = [1, 2, 3, 4, 5, 6, 7, 8];
let chunks = chunk(numbers, 3);
// [[1, 2, 3], [4, 5, 6], [7, 8]]
```

### –ü—Ä–∏–º–µ—Ä: –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞

```hemlock
fn flatten(arr) {
    let result = [];
    let i = 0;

    while (i < arr.length) {
        if (typeof(arr[i]) == "array") {
            // –í–ª–æ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ - –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –µ–≥–æ
            let nested = flatten(arr[i]);
            let j = 0;
            while (j < nested.length) {
                result.push(nested[j]);
                j = j + 1;
            }
        } else {
            result.push(arr[i]);
        }
        i = i + 1;
    }

    return result;
}

let nested = [1, [2, 3], [4, [5, 6]], 7];
let flat = flatten(nested);  // [1, 2, 3, 4, 5, 6, 7]
```

### –ü—Ä–∏–º–µ—Ä: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ø—É–∑—ã—Ä—å–∫–æ–≤–∞—è)

```hemlock
fn sort(arr) {
    let n = arr.length;
    let i = 0;

    while (i < n) {
        let j = 0;
        while (j < n - i - 1) {
            if (arr[j] > arr[j + 1]) {
                // –û–±–º–µ–Ω
                let temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
            j = j + 1;
        }
        i = i + 1;
    }
}

let numbers = [5, 2, 8, 1, 9];
sort(numbers);  // –ò–∑–º–µ–Ω—è–µ—Ç –Ω–∞ –º–µ—Å—Ç–µ
print(numbers);  // [1, 2, 5, 8, 9]
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- **–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏** - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
- **–†–∞–≤–µ–Ω—Å—Ç–≤–æ —Å—Å—ã–ª–æ–∫ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤** - `find()` –∏ `contains()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫
- **–ù–µ—Ç –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –º–∞—Å—Å–∏–≤–æ–≤** - –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `let [a, b] = arr`
- **–ù–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ spread** - –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `[...arr1, ...arr2]`

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–∞—Å—Å–∏–≤—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. –°–º. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](memory.md#internal-reference-counting) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–°—Ç—Ä–æ–∫–∏](#language-guide-strings) - –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ –ø–æ—Ö–æ–∂–∏ –Ω–∞ –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤
- [–û–±—ä–µ–∫—Ç—ã](#language-guide-objects) - –ú–∞—Å—Å–∏–≤—ã —Ç–∞–∫–∂–µ —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–ø–æ–¥–æ–±–Ω—ã–º–∏
- [–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions) - –§—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º](#language-guide-control-flow) - –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –º–∞—Å—Å–∏–≤–∞–º

## –°–º. —Ç–∞–∫–∂–µ

- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä**: –ú–∞—Å—Å–∏–≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Ç—É—Ç —Å —É–¥–≤–æ–µ–Ω–∏–µ–º –µ–º–∫–æ—Å—Ç–∏
- **–ú–µ—Ç–æ–¥—ã**: 18 –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –≤–∫–ª—é—á–∞—è map/filter/reduce
- **–ü–∞–º—è—Ç—å**: –°–º. [–ü–∞–º—è—Ç—å](#language-guide-memory) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤


--------------------------------------------------------------------------------
## –ú–æ–¥—É–ª–∏
--------------------------------------------------------------------------------

# –°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π Hemlock

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –º–æ–¥—É–ª–µ–π —Å –∏–º–ø–æ—Ä—Ç–æ–º/—ç–∫—Å–ø–æ—Ä—Ç–æ–º –≤ —Å—Ç–∏–ª–µ ES6, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –¥–ª—è Hemlock.

## –û–±–∑–æ—Ä

Hemlock –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –º–æ–¥—É–ª–µ–π —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ —Å—Ç–∏–ª–µ ES6. –ú–æ–¥—É–ª–∏:
- **–°–∏–Ω–≥–ª—Ç–æ–Ω—ã**: –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è
- **–§–∞–π–ª–æ–≤—ã–µ**: –ú–æ–¥—É–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ñ–∞–π–ª–∞–º .hml –Ω–∞ –¥–∏—Å–∫–µ
- **–Ø–≤–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏–º–ø–æ—Ä—Ç–∞
- **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ**: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–æ –∑–∞–≤–∏—Å—è—â–∏—Ö –æ—Ç –Ω–∏—Ö

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞–º–∏ –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–º. [hpm (Hemlock Package Manager)](https://github.com/hemlang/hpm).

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã:**
```hemlock
export fn add(a, b) {
    return a + b;
}

export const PI = 3.14159;
export let counter = 0;
```

**–°–ø–∏—Å–æ–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞:**
```hemlock
fn add(a, b) { return a + b; }
fn subtract(a, b) { return a - b; }

export { add, subtract };
```

**–≠–∫—Å–ø–æ—Ä—Ç Extern (FFI —Ñ—É–Ω–∫—Ü–∏–∏):**
```hemlock
import "libc.so.6";

// –≠–∫—Å–ø–æ—Ä—Ç FFI —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö
export extern fn strlen(s: string): i32;
export extern fn getpid(): i32;
```

–°–º. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é FFI](../advanced/ffi.md#exporting-ffi-functions) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —ç–∫—Å–ø–æ—Ä—Ç–∞ FFI —Ñ—É–Ω–∫—Ü–∏–π.

**–≠–∫—Å–ø–æ—Ä—Ç Define (—Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä):**
```hemlock
// –≠–∫—Å–ø–æ—Ä—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä
export define Vector2 {
    x: f32,
    y: f32,
}

export define Rectangle {
    x: f32,
    y: f32,
    width: f32,
    height: f32,
}
```

**–í–∞–∂–Ω–æ:** –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è. –û–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–≥–¥–∞ –≤—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ —á—Ç–æ-–ª–∏–±–æ –∏–∑ –º–æ–¥—É–ª—è - –≤–∞–º –ù–ï –Ω—É–∂–Ω–æ (–∏ –Ω–µ–ª—å–∑—è) —è–≤–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –∏–º–µ–Ω–∏:

```hemlock
// –•–û–†–û–®–û - —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä –∞–≤—Ç–æ-–¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ –ª—é–±–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
import { some_function } from "./my_module.hml";
let v: Vector2 = { x: 1.0, y: 2.0 };  // –†–∞–±–æ—Ç–∞–µ—Ç!

// –ü–õ–û–•–û - –Ω–µ–ª—å–∑—è —è–≤–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä
import { Vector2 } from "./my_module.hml";  // –û—à–∏–±–∫–∞: Undefined variable 'Vector2'
```

–°–º. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é FFI](../advanced/ffi.md#exporting-struct-types) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä.

**–†–µ—ç–∫—Å–ø–æ—Ä—Ç—ã:**
```hemlock
// –†–µ—ç–∫—Å–ø–æ—Ä—Ç –∏–∑ –¥—Ä—É–≥–æ–≥–æ –º–æ–¥—É–ª—è
export { add, subtract } from "./math.hml";
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏–º–ø–æ—Ä—Ç–∞

**–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã:**
```hemlock
import { add, subtract } from "./math.hml";
print(add(1, 2));  // 3
```

**–ò–º–ø–æ—Ä—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω:**
```hemlock
import * as math from "./math.hml";
print(math.add(1, 2));  // 3
print(math.PI);  // 3.14159
```

**–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã:**
```hemlock
import { add as sum, subtract as diff } from "./math.hml";
print(sum(1, 2));  // 3
```

## –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π

### –¢–∏–ø—ã –ø—É—Ç–µ–π

**–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏:**
```hemlock
import { foo } from "./module.hml";       // –¢–∞ –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
import { bar } from "../parent.hml";      // –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
import { baz } from "./sub/nested.hml";   // –ü–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
```

**–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏:**
```hemlock
import { foo } from "/absolute/path/to/module.hml";
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π:**
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.hml` –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å - –æ–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- `./math` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –≤ `./math.hml`

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ–æ–±—â–∞–µ—Ç –æ–± –æ—à–∏–±–∫–µ:

```
Error: Circular dependency detected when loading '/path/to/a.hml'
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π

–ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã —Ç–æ–≥–æ –∂–µ –º–æ–¥—É–ª—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä:

```hemlock
// counter.hml
export let count = 0;
export fn increment() {
    count = count + 1;
}

// a.hml
import { count, increment } from "./counter.hml";
increment();
print(count);  // 1

// b.hml
import { count } from "./counter.hml";  // –¢–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä!
print(count);  // –í—Å–µ –µ—â–µ 1 (—Ä–∞–∑–¥–µ–ª—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
```

### –ù–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å –∏–º–ø–æ—Ä—Ç–æ–≤

–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞—Ç—å:

```hemlock
import { add } from "./math.hml";
add = fn() { };  // –û–®–ò–ë–ö–ê: cannot reassign imported binding
```

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–§–∞–π–ª—ã:**
- `include/module.h` - API —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª–µ–π
- `src/module.c` - –ó–∞–≥—Ä—É–∑–∫–∞, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –≤ `src/parser.c`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ `src/interpreter/runtime.c`

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **ModuleCache**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏, –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É –ø—É—Ç–∏
2. **Module**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å —Å –µ–≥–æ AST –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏
3. **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—É—Ç–µ–π**: –†–∞–∑—Ä–µ—à–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ/–∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
4. **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–æ–¥—É–ª–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è

1. **–§–∞–∑–∞ —Ä–∞–∑–±–æ—Ä–∞**: –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–∑–±–æ—Ä —Ñ–∞–π–ª–∞ –º–æ–¥—É–ª—è
2. **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö –º–æ–¥—É–ª–µ–π
3. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤**: –ü—Ä–æ–≤–µ—Ä–∫–∞, –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ª–∏ —É–∂–µ –º–æ–¥—É–ª—å
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥—É–ª—è –≤ –∫—ç—à–µ –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É –ø—É—Ç–∏
5. **–§–∞–∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (—Å–Ω–∞—á–∞–ª–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

### API

```c
// –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API
int execute_file_with_modules(const char *file_path,
                               int argc, char **argv,
                               ExecutionContext *ctx);

// –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API
ModuleCache* module_cache_new(const char *initial_dir);
void module_cache_free(ModuleCache *cache);
Module* load_module(ModuleCache *cache, const char *module_path, ExecutionContext *ctx);
void execute_module(Module *module, ModuleCache *cache, ExecutionContext *ctx);
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `tests/modules/` –∏ `tests/parity/modules/`:

- `math.hml` - –ë–∞–∑–æ–≤—ã–π –º–æ–¥—É–ª—å —Å —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏
- `test_import_named.hml` - –¢–µ—Å—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
- `test_import_namespace.hml` - –¢–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω
- `test_import_alias.hml` - –¢–µ—Å—Ç –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ –∏–º–ø–æ—Ä—Ç–∞
- `export_extern.hml` - –¢–µ—Å—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ extern FFI —Ñ—É–Ω–∫—Ü–∏–π (Linux)

## –ò–º–ø–æ—Ä—Ç—ã –ø–∞–∫–µ—Ç–æ–≤ (hpm)

–° —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º [hpm](https://github.com/hemlang/hpm) –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø–∞–∫–µ—Ç—ã —Å GitHub:

```hemlock
// –ò–º–ø–æ—Ä—Ç –∏–∑ –∫–æ—Ä–Ω—è –ø–∞–∫–µ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç "main" –∏–∑ package.json)
import { app, router } from "hemlang/sprout";

// –ò–º–ø–æ—Ä—Ç –∏–∑ –ø–æ–¥–ø—É—Ç–∏
import { middleware } from "hemlang/sprout/middleware";

// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ Hemlock)
import { HashMap } from "@stdlib/collections";
```

–ü–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ `hem_modules/` –∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –∏—Å–ø–æ–ª—å–∑—É—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å GitHub `owner/repo`.

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞
hpm install hemlang/sprout

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏
hpm install hemlang/sprout@^1.0.0
```

–°–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é hpm](https://github.com/hemlang/hpm) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ù–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤**: `import()` –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
2. **–ù–µ—Ç —É—Å–ª–æ–≤–Ω—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤**: –≠–∫—Å–ø–æ—Ä—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ
3. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫**: –ò–º–ø–æ—Ä—Ç—ã FFI –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)

## –ë—É–¥—É—â–∞—è —Ä–∞–±–æ—Ç–∞

- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `import()`
- –£—Å–ª–æ–≤–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–µ–π (`import.meta`)
- Tree shaking –∏ —É–¥–∞–ª–µ–Ω–∏–µ –º–µ—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞

## –ü—Ä–∏–º–µ—Ä—ã

–°–º. `tests/modules/` –¥–ª—è —Ä–∞–±–æ—á–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª–µ–π.

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥—É–ª–µ–π:
```
project/
‚îú‚îÄ‚îÄ main.hml
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ math.hml
‚îÇ   ‚îú‚îÄ‚îÄ string.hml
‚îÇ   ‚îî‚îÄ‚îÄ index.hml (barrel module)
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ helpers.hml
```

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```hemlock
// lib/math.hml
export fn add(a, b) { return a + b; }
export fn multiply(a, b) { return a * b; }

// lib/index.hml (barrel)
export { add, multiply } from "./math.hml";

// main.hml
import { add } from "./lib/index.hml";
print(add(2, 3));  // 5
```


--------------------------------------------------------------------------------
## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
--------------------------------------------------------------------------------

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

Hemlock –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å `try`, `catch`, `finally`, `throw` –∏ `panic`. –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∏ –Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏ —Å panic.

## –û–±–∑–æ—Ä

```hemlock
// –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
try {
    risky_operation();
} catch (e) {
    print("Error: " + e);
}

// –° –æ—á–∏—Å—Ç–∫–æ–π
try {
    process_file();
} catch (e) {
    print("Failed: " + e);
} finally {
    cleanup();
}

// –í—ã–±—Ä–æ—Å –æ—à–∏–±–æ–∫
fn divide(a, b) {
    if (b == 0) {
        throw "division by zero";
    }
    return a / b;
}
```

## Try-Catch-Finally

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

**–ë–∞–∑–æ–≤—ã–π try/catch:**
```hemlock
try {
    // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
} catch (e) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏, e —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—ã–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
}
```

**Try/finally:**
```hemlock
try {
    // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
} finally {
    // –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
}
```

**Try/catch/finally:**
```hemlock
try {
    // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
} catch (e) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
} finally {
    // –∫–æ–¥ –æ—á–∏—Å—Ç–∫–∏
}
```

### –ë–ª–æ–∫ Try

–ë–ª–æ–∫ try –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:

```hemlock
try {
    print("Starting...");
    risky_operation();
    print("Success!");  // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–æ –ø–æ—Ä—è–¥–∫—É
- –ï—Å–ª–∏ –±—Ä–æ—à–µ–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ: –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ `catch` –∏–ª–∏ `finally`
- –ï—Å–ª–∏ –Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è: –≤—ã–ø–æ–ª–Ω—è–µ—Ç `finally` (–µ—Å–ª–∏ –µ—Å—Ç—å) –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç

### –ë–ª–æ–∫ Catch

–ë–ª–æ–∫ catch –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

```hemlock
try {
    throw "oops";
} catch (error) {
    print("Caught: " + error);  // error = "oops"
    // error –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
}
// error –∑–¥–µ—Å—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä catch:**
- –ü–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–ª—é–±–æ–≥–æ —Ç–∏–ø–∞)
- –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –±–ª–æ–∫–æ–º catch
- –ú–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ —É–≥–æ–¥–Ω–æ (–ø–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é `e`, `err` –∏–ª–∏ `error`)

**–ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ catch:**
```hemlock
try {
    risky_operation();
} catch (e) {
    // –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É
    print("Error: " + e);

    // –ü–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å —Ç—É –∂–µ –æ—à–∏–±–∫—É
    throw e;

    // –í—ã–±—Ä–æ—Å–∏—Ç—å –¥—Ä—É–≥—É—é –æ—à–∏–±–∫—É
    throw "different error";

    // –í–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    return null;

    // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
    // (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—ã–±—Ä–æ—Å–∞)
}
```

### –ë–ª–æ–∫ Finally

–ë–ª–æ–∫ finally **–≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è**:

```hemlock
try {
    print("1: try");
    throw "error";
} catch (e) {
    print("2: catch");
} finally {
    print("3: finally");  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞
}
print("4: after");

// –í—ã–≤–æ–¥: 1: try, 2: catch, 3: finally, 4: after
```

**–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è finally:**
- –ü–æ—Å–ª–µ –±–ª–æ–∫–∞ try (–µ—Å–ª–∏ –Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è)
- –ü–æ—Å–ª–µ –±–ª–æ–∫–∞ catch (–µ—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–π–º–∞–Ω–æ)
- –î–∞–∂–µ –µ—Å–ª–∏ try/catch —Å–æ–¥–µ—Ä–∂–∏—Ç `return`, `break` –∏–ª–∏ `continue`
- –î–æ –≤—ã—Ö–æ–¥–∞ –ø–æ—Ç–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑ try/catch

**Finally —Å return:**
```hemlock
fn example() {
    try {
        return 1;  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1 –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è finally
    } finally {
        print("cleanup");  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
    }
}

fn example2() {
    try {
        return 1;
    } finally {
        return 2;  // Return –≤ finally –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 2
    }
}
```

**Finally —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–º:**
```hemlock
for (let i = 0; i < 10; i = i + 1) {
    try {
        if (i == 5) {
            break;  // Break –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è finally
        }
    } finally {
        print("cleanup " + typeof(i));
    }
}
```

## –û–ø–µ—Ä–∞—Ç–æ—Ä Throw

### –ë–∞–∑–æ–≤—ã–π Throw

–í—ã–±—Ä–æ—Å–∏—Ç—å –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:

```hemlock
throw "error message";
throw 404;
throw { code: 500, message: "Internal error" };
throw null;
throw ["error", "details"];
```

**–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
1. –í—ã—á–∏—Å–ª—è–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
2. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –±–ª–∏–∂–∞–π—à–µ–º—É –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–º—É `catch`
3. –ï—Å–ª–∏ –Ω–µ—Ç `catch`, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –≤–≤–µ—Ä—Ö –ø–æ —Å—Ç–µ–∫—É –≤—ã–∑–æ–≤–æ–≤

### –í—ã–±—Ä–æ—Å –æ—à–∏–±–æ–∫

```hemlock
fn validate_age(age: i32) {
    if (age < 0) {
        throw "Age cannot be negative";
    }
    if (age > 150) {
        throw "Age is unrealistic";
    }
}

try {
    validate_age(-5);
} catch (e) {
    print("Validation error: " + e);
}
```

### –í—ã–±—Ä–æ—Å –æ–±—ä–µ–∫—Ç–æ–≤ –æ—à–∏–±–æ–∫

–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—à–∏–±–∫–µ:

```hemlock
fn read_file(path: string) {
    if (!file_exists(path)) {
        throw {
            type: "FileNotFound",
            path: path,
            message: "File does not exist"
        };
    }
    // ... —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
}

try {
    read_file("missing.txt");
} catch (e) {
    if (e.type == "FileNotFound") {
        print("File not found: " + e.path);
    }
}
```

### –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–±—Ä–æ—Å

–ü–æ–π–º–∞—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫–∏:

```hemlock
fn wrapper() {
    try {
        risky_operation();
    } catch (e) {
        print("Logging error: " + e);
        throw e;  // –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–±—Ä–æ—Å –≤—ã–∑—ã–≤–∞—é—â–µ–º—É
    }
}

try {
    wrapper();
} catch (e) {
    print("Caught in main: " + e);
}
```

## –ù–µ–ø–æ–π–º–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

–ï—Å–ª–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –¥–æ –≤–µ—Ä—à–∏–Ω—ã —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤ –±–µ–∑ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞:

```hemlock
fn foo() {
    throw "uncaught!";
}

foo();  // –ü–∞–¥–∞–µ—Ç —Å: Runtime error: uncaught!
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–∞–¥–∞–µ—Ç
- –ü–µ—á–∞—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ stderr
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º –∫–æ–¥–æ–º –≤—ã—Ö–æ–¥–∞
- –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Å—Ç–µ–∫–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö

## Panic - –Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏

### –ß—Ç–æ —Ç–∞–∫–æ–µ Panic?

`panic()` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è **–Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫**, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É:

```hemlock
panic();                    // –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: "panic!"
panic("custom message");    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
panic(42);                  // –ù–µ—Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã–≤–æ–¥—è—Ç—Å—è
```

**–°–µ–º–∞–Ω—Ç–∏–∫–∞:**
- **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç** –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –∫–æ–¥–æ–º –≤—ã—Ö–æ–¥–∞ 1
- –ü–µ—á–∞—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ stderr: `panic: <message>`
- **–ù–ï –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è** —Å –ø–æ–º–æ—â—å—é try/catch
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –±–∞–≥–æ–≤ –∏ –Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫

### Panic vs Throw

```hemlock
// throw - –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–∞—è –æ—à–∏–±–∫–∞ (–º–æ–∂–Ω–æ –ø–æ–π–º–∞—Ç—å)
try {
    throw "recoverable error";
} catch (e) {
    print("Caught: " + e);  // –£—Å–ø–µ—à–Ω–æ –ø–æ–π–º–∞–Ω–æ
}

// panic - –ù–µ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ–ª—å–∑—è –ø–æ–π–º–∞—Ç—å)
try {
    panic("unrecoverable error");  // –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
} catch (e) {
    print("This never runs");       // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
}
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Panic

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ panic –¥–ª—è:**
- **–ë–∞–≥–æ–≤**: –î–æ—Å—Ç–∏–≥–Ω—É—Ç –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–π –∫–æ–¥
- **–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**: –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- **–ù–µ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—É—Ä—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- **–°–±–æ–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π**: –ö–æ–≥–¥–∞ `assert()` –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –ù–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–π –∫–æ–¥
fn process_state(state: i32) {
    if (state == 1) {
        return "ready";
    } else if (state == 2) {
        return "running";
    } else if (state == 3) {
        return "stopped";
    } else {
        panic("invalid state: " + typeof(state));  // –ù–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏
    }
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞
fn init_system() {
    let config = read_file("config.json");
    if (config == null) {
        panic("config.json not found - cannot start");
    }
    // ...
}

// –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
fn pop_stack(stack) {
    if (stack.length == 0) {
        panic("pop() called on empty stack");
    }
    return stack.pop();
}
```

### –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Panic

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ throw –≤–º–µ—Å—Ç–æ –¥–ª—è:**
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω
- –°–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
- –û–∂–∏–¥–∞–µ–º—ã—Ö —É—Å–ª–æ–≤–∏–π –æ—à–∏–±–æ–∫

```hemlock
// –ü–õ–û–•–û: Panic –¥–ª—è –æ–∂–∏–¥–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫
fn divide(a, b) {
    if (b == 0) {
        panic("division by zero");  // –°–ª–∏—à–∫–æ–º –∂–µ—Å—Ç–∫–æ
    }
    return a / b;
}

// –•–û–†–û–®–û: Throw –¥–ª—è –æ–∂–∏–¥–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫
fn divide(a, b) {
    if (b == 0) {
        throw "division by zero";  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–æ
    }
    return a / b;
}
```

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–º

### Return –≤–Ω—É—Ç—Ä–∏ Try/Catch/Finally

```hemlock
fn example() {
    try {
        return 1;  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1 –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è finally
    } finally {
        print("cleanup");
    }
}

fn example2() {
    try {
        return 1;
    } finally {
        return 2;  // Return –≤ finally –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç try return - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 2
    }
}
```

**–ü—Ä–∞–≤–∏–ª–æ:** –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–ª–æ–∫–∞ finally –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è try/catch.

### Break/Continue –≤–Ω—É—Ç—Ä–∏ Try/Catch/Finally

```hemlock
for (let i = 0; i < 10; i = i + 1) {
    try {
        if (i == 5) { break; }  // Break –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è finally
    } finally {
        print("cleanup " + typeof(i));
    }
}
```

**–ü—Ä–∞–≤–∏–ª–æ:** Break/continue –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –±–ª–æ–∫–∞ finally.

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ Try/Catch

```hemlock
try {
    try {
        throw "inner";
    } catch (e) {
        print("Caught: " + e);  // –í—ã–≤–æ–¥–∏—Ç: Caught: inner
        throw "outer";  // –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–±—Ä–æ—Å –¥—Ä—É–≥–æ–π –æ—à–∏–±–∫–∏
    }
} catch (e) {
    print("Caught: " + e);  // –í—ã–≤–æ–¥–∏—Ç: Caught: outer
}
```

**–ü—Ä–∞–≤–∏–ª–æ:** –í–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ try/catch —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–µ—Ä–≤—ã–º–∏.

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω: –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `finally` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏:

```hemlock
fn process_file(filename) {
    let file = null;
    try {
        file = open(filename);
        let content = file.read();
        process(content);
    } catch (e) {
        print("Error processing file: " + e);
    } finally {
        if (file != null) {
            file.close();  // –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç, –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
        }
    }
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –û–±–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

–û–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:

```hemlock
fn load_config(path) {
    try {
        let content = read_file(path);
        return parse_json(content);
    } catch (e) {
        throw "Failed to load config from " + path + ": " + e;
    }
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Å–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ:

```hemlock
fn safe_divide(a, b) {
    try {
        if (b == 0) {
            throw "division by zero";
        }
        return a / b;
    } catch (e) {
        print("Error: " + e);
        return null;  // –ó–∞–ø–∞—Å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    }
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –í–∞–ª–∏–¥–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

```hemlock
fn validate_user(user) {
    if (user.name == null || user.name == "") {
        throw "Name is required";
    }
    if (user.age < 0 || user.age > 150) {
        throw "Invalid age";
    }
    if (user.email == null || !user.email.contains("@")) {
        throw "Invalid email";
    }
}

try {
    validate_user({ name: "Alice", age: -5, email: "invalid" });
} catch (e) {
    print("Validation failed: " + e);
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –æ—à–∏–±–æ–∫ –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫:

```hemlock
fn process_data(data) {
    if (data == null) {
        throw { type: "NullData", message: "Data is null" };
    }

    if (typeof(data) != "array") {
        throw { type: "TypeError", message: "Expected array" };
    }

    if (data.length == 0) {
        throw { type: "EmptyData", message: "Array is empty" };
    }

    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞
}

try {
    process_data(null);
} catch (e) {
    if (e.type == "NullData") {
        print("No data provided");
    } else if (e.type == "TypeError") {
        print("Wrong data type: " + e.message);
    } else {
        print("Error: " + e.message);
    }
}
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤** - –ù–µ –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º
2. **–í—ã–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –æ–±—ä–µ–∫—Ç—ã —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
3. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ finally –¥–ª—è –æ—á–∏—Å—Ç–∫–∏** - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
4. **–ù–µ –ª–æ–≤–∏—Ç–µ –∏ –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ** - –•–æ—Ç—è –±—ã –ª–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫—É
5. **–ü–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –∫–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ** - –ü–æ–∑–≤–æ–ª—å—Ç–µ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—Å–ª–∏ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ
6. **Panic –¥–ª—è –±–∞–≥–æ–≤** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ panic –¥–ª—è –Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫
7. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è** - –Ø—Å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ, —á—Ç–æ –º–æ–≥—É—Ç –±—Ä–æ—Å–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≤—É—à–∫–∏

### –õ–æ–≤—É—à–∫–∞: –ü—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

```hemlock
// –ü–õ–û–•–û: –ú–æ–ª—á–∞–ª–∏–≤—ã–π —Å–±–æ–π
try {
    risky_operation();
} catch (e) {
    // –û—à–∏–±–∫–∞ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∞ - –º–æ–ª—á–∞–ª–∏–≤—ã–π —Å–±–æ–π
}

// –•–û–†–û–®–û: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞
try {
    risky_operation();
} catch (e) {
    print("Operation failed: " + e);
    // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ
}
```

### –õ–æ–≤—É—à–∫–∞: –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ Finally

```hemlock
// –ü–õ–û–•–û: Finally –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç return
fn get_value() {
    try {
        return 42;
    } finally {
        return 0;  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0, –Ω–µ 42!
    }
}

// –•–û–†–û–®–û: –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –≤ finally
fn get_value() {
    try {
        return 42;
    } finally {
        cleanup();  // –¢–æ–ª—å–∫–æ –æ—á–∏—Å—Ç–∫–∞, –±–µ–∑ return
    }
}
```

### –õ–æ–≤—É—à–∫–∞: –ó–∞–±—ã—Ç–∞—è –æ—á–∏—Å—Ç–∫–∞

```hemlock
// –ü–õ–û–•–û: –§–∞–π–ª –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –∑–∞–∫—Ä—ã—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ
fn process() {
    let file = open("data.txt");
    let content = file.read();  // –ú–æ–∂–µ—Ç –±—Ä–æ—Å–∏—Ç—å
    file.close();  // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –ø—Ä–∏ –æ—à–∏–±–∫–µ
}

// –•–û–†–û–®–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ finally
fn process() {
    let file = null;
    try {
        file = open("data.txt");
        let content = file.read();
    } finally {
        if (file != null) {
            file.close();
        }
    }
}
```

### –õ–æ–≤—É—à–∫–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Panic –¥–ª—è –æ–∂–∏–¥–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫

```hemlock
// –ü–õ–û–•–û: Panic –¥–ª—è –æ–∂–∏–¥–∞–µ–º–æ–π –æ—à–∏–±–∫–∏
fn read_config(path) {
    if (!file_exists(path)) {
        panic("Config file not found");  // –°–ª–∏—à–∫–æ–º –∂–µ—Å—Ç–∫–æ
    }
    return read_file(path);
}

// –•–û–†–û–®–û: Throw –¥–ª—è –æ–∂–∏–¥–∞–µ–º–æ–π –æ—à–∏–±–∫–∏
fn read_config(path) {
    if (!file_exists(path)) {
        throw "Config file not found: " + path;  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–æ
    }
    return read_file(path);
}
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```hemlock
fn divide(a, b) {
    if (b == 0) {
        throw "division by zero";
    }
    return a / b;
}

try {
    print(divide(10, 0));
} catch (e) {
    print("Error: " + e);  // –í—ã–≤–æ–¥–∏—Ç: Error: division by zero
}
```

### –ü—Ä–∏–º–µ—Ä: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

```hemlock
fn copy_file(src, dst) {
    let src_file = null;
    let dst_file = null;

    try {
        src_file = open(src, "r");
        dst_file = open(dst, "w");

        let content = src_file.read();
        dst_file.write(content);

        print("File copied successfully");
    } catch (e) {
        print("Failed to copy file: " + e);
        throw e;  // –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–±—Ä–æ—Å
    } finally {
        if (src_file != null) { src_file.close(); }
        if (dst_file != null) { dst_file.close(); }
    }
}
```

### –ü—Ä–∏–º–µ—Ä: –í–ª–æ–∂–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```hemlock
fn process_users(users) {
    let success_count = 0;
    let error_count = 0;

    let i = 0;
    while (i < users.length) {
        try {
            validate_user(users[i]);
            save_user(users[i]);
            success_count = success_count + 1;
        } catch (e) {
            print("Failed to process user: " + e);
            error_count = error_count + 1;
        }
        i = i + 1;
    }

    print("Processed: " + typeof(success_count) + " success, " + typeof(error_count) + " errors");
}
```

### –ü—Ä–∏–º–µ—Ä: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

```hemlock
fn create_error(type, message, details) {
    return {
        type: type,
        message: message,
        details: details,
        toString: fn() {
            return self.type + ": " + self.message;
        }
    };
}

fn divide(a, b) {
    if (typeof(a) != "i32" && typeof(a) != "f64") {
        throw create_error("TypeError", "a must be a number", { value: a });
    }
    if (typeof(b) != "i32" && typeof(b) != "f64") {
        throw create_error("TypeError", "b must be a number", { value: b });
    }
    if (b == 0) {
        throw create_error("DivisionByZero", "Cannot divide by zero", { a: a, b: b });
    }
    return a / b;
}

try {
    divide(10, 0);
} catch (e) {
    print(e.toString());
    if (e.type == "DivisionByZero") {
        print("Details: a=" + typeof(e.details.a) + ", b=" + typeof(e.details.b));
    }
}
```

### –ü—Ä–∏–º–µ—Ä: –õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

```hemlock
fn retry(operation, max_attempts) {
    let attempt = 0;

    while (attempt < max_attempts) {
        try {
            return operation();  // –£—Å–ø–µ—Ö!
        } catch (e) {
            attempt = attempt + 1;
            if (attempt >= max_attempts) {
                throw "Operation failed after " + typeof(max_attempts) + " attempts: " + e;
            }
            print("Attempt " + typeof(attempt) + " failed, retrying...");
        }
    }
}

fn unreliable_operation() {
    // –ò–º–∏—Ç–∞—Ü–∏—è –Ω–µ–Ω–∞–¥–µ–∂–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
    if (random() < 0.7) {
        throw "Operation failed";
    }
    return "Success";
}

try {
    let result = retry(unreliable_operation, 3);
    print(result);
} catch (e) {
    print("All retries failed: " + e);
}
```

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```hemlock
try {
    print("1: try block start");
    throw "error";
    print("2: never reached");
} catch (e) {
    print("3: catch block");
} finally {
    print("4: finally block");
}
print("5: after try/catch/finally");

// –í—ã–≤–æ–¥:
// 1: try block start
// 3: catch block
// 4: finally block
// 5: after try/catch/finally
```

## –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–ù–µ—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ —Å—Ç–µ–∫–∞** - –ù–µ–ø–æ–π–º–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É —Å—Ç–µ–∫–∞ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è** - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å–µ –µ—â–µ –¥–µ–ª–∞—é—Ç `exit()` –≤–º–µ—Å—Ç–æ throw (–±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ–Ω–æ)
- **–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤ –∏—Å–∫–ª—é—á–µ–Ω–∏–π** - –õ—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω–æ, –Ω–æ –Ω–µ—Ç —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions) - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º](#language-guide-control-flow) - –ö–∞–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤–ª–∏—è—é—Ç –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º
- [–ü–∞–º—è—Ç—å](#language-guide-memory) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ finally –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–∞–º—è—Ç–∏

## –°–º. —Ç–∞–∫–∂–µ

- **–°–µ–º–∞–Ω—Ç–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**: –°–º. —Ä–∞–∑–¥–µ–ª "–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫" –≤ CLAUDE.md
- **Panic vs Throw**: –†–∞–∑–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- **–ì–∞—Ä–∞–Ω—Ç–∏—è Finally**: –í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –¥–∞–∂–µ —Å return/break/continue


--------------------------------------------------------------------------------
## –û–±—ä–µ–∫—Ç—ã
--------------------------------------------------------------------------------

# –û–±—ä–µ–∫—Ç—ã

Hemlock —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç—ã –≤ —Å—Ç–∏–ª–µ JavaScript —Å —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –≤ –∫—É—á–µ, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏, –º–µ—Ç–æ–¥–∞–º–∏ –∏ —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π. –û–±—ä–µ–∫—Ç—ã - —ç—Ç–æ –≥–∏–±–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

## –û–±–∑–æ—Ä

```hemlock
// –ê–Ω–æ–Ω–∏–º–Ω—ã–π –æ–±—ä–µ–∫—Ç
let person = { name: "Alice", age: 30, city: "NYC" };
print(person.name);  // "Alice"

// –û–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏
let counter = {
    count: 0,
    increment: fn() {
        self.count = self.count + 1;
    }
};

counter.increment();
print(counter.count);  // 1
```

## –õ–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
let person = {
    name: "Alice",
    age: 30,
    city: "NYC"
};
```

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
- –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ `{}` –æ–∫—Ä—É–∂–∞—é—Ç –æ–±—ä–µ–∫—Ç
- –ü–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç—ã–º–∏
- –ö–ª—é—á–∏ - —ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (–∫–∞–≤—ã—á–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã)
- –ó–Ω–∞—á–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±–æ–≥–æ —Ç–∏–ø–∞

### –ü—É—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã

```hemlock
let obj = {};  // –ü—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –ø–æ–∑–∂–µ
obj.name = "Alice";
obj.age = 30;
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

```hemlock
let user = {
    info: {
        name: "Bob",
        age: 25
    },
    active: true,
    settings: {
        theme: "dark",
        notifications: true
    }
};

print(user.info.name);           // "Bob"
print(user.settings.theme);      // "dark"
```

### –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –∑–Ω–∞—á–µ–Ω–∏–π

```hemlock
let mixed = {
    number: 42,
    text: "hello",
    flag: true,
    data: null,
    items: [1, 2, 3],
    config: { x: 10, y: 20 }
};
```

### –°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–≤–æ–π—Å—Ç–≤

–ö–æ–≥–¥–∞ –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∏–º–µ–Ω–µ–º —Å–≤–æ–π—Å—Ç–≤–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:

```hemlock
let name = "Alice";
let age = 30;
let active = true;

// –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ: { name } —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ { name: name }
let person = { name, age, active };

print(person.name);   // "Alice"
print(person.age);    // 30
print(person.active); // true
```

**–°–º–µ—à–∏–≤–∞–Ω–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π —Å –æ–±—ã—á–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:**
```hemlock
let city = "NYC";
let obj = { name, age, city, role: "admin" };
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è (spread)

–û–ø–µ—Ä–∞—Ç–æ—Ä spread (`...`) –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–ª—è –∏–∑ –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ –¥—Ä—É–≥–æ–π:

```hemlock
let base = { x: 1, y: 2 };
let extended = { ...base, z: 3 };

print(extended.x);  // 1
print(extended.y);  // 2
print(extended.z);  // 3
```

**–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —Å–æ spread:**
```hemlock
let defaults = { theme: "light", size: "medium", debug: false };
let custom = { ...defaults, theme: "dark" };

print(custom.theme);  // "dark" (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ)
print(custom.size);   // "medium" (–∏–∑ defaults)
print(custom.debug);  // false (–∏–∑ defaults)
```

**–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ spread (–±–æ–ª–µ–µ –ø–æ–∑–¥–Ω–∏–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Ä–∞–Ω–Ω–∏–µ):**
```hemlock
let a = { x: 1 };
let b = { y: 2 };
let merged = { ...a, ...b, z: 3 };

print(merged.x);  // 1
print(merged.y);  // 2
print(merged.z);  // 3

// –ë–æ–ª–µ–µ –ø–æ–∑–¥–Ω–∏–π spread –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–Ω–Ω–∏–π
let first = { val: "first" };
let second = { val: "second" };
let combined = { ...first, ...second };
print(combined.val);  // "second"
```

**–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –∏ spread:**
```hemlock
let status = "active";
let data = { id: 1, name: "Item" };
let full = { ...data, status };

print(full.id);      // 1
print(full.name);    // "Item"
print(full.status);  // "active"
```

**–ü–∞—Ç—Ç–µ—Ä–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```hemlock
let defaultConfig = {
    debug: false,
    timeout: 30,
    retries: 3
};

let prodConfig = { ...defaultConfig, timeout: 60 };
let devConfig = { ...defaultConfig, debug: true };

print(prodConfig.timeout);  // 60
print(devConfig.debug);     // true
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Spread –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç —Å—Å—ã–ª–∫–∏:
```hemlock
let nested = { inner: { val: 42 } };
let copied = { ...nested };
print(copied.inner.val);  // 42 (—Ç–∞ –∂–µ —Å—Å—ã–ª–∫–∞ —á—Ç–æ –∏ nested.inner)
```

## –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º

### –¢–æ—á–µ—á–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è

```hemlock
let person = { name: "Alice", age: 30 };

// –ß—Ç–µ–Ω–∏–µ –ø–æ–ª—è
let name = person.name;      // "Alice"
let age = person.age;        // 30

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª—è
person.age = 31;
print(person.age);           // 31
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```hemlock
let person = { name: "Alice" };

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è
person.email = "alice@example.com";
person.phone = "555-1234";

print(person.email);  // "alice@example.com"
```

### –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `null`:

```hemlock
let obj = { x: 10, y: 20 };

// –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—è (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
// obj.x = undefined;  // –ù–µ—Ç 'undefined' –≤ Hemlock

// –û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ null
obj.x = null;
```

## –ú–µ—Ç–æ–¥—ã –∏ `self`

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

–ú–µ—Ç–æ–¥—ã - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –ø–æ–ª—è—Ö –æ–±—ä–µ–∫—Ç–∞:

```hemlock
let counter = {
    count: 0,
    increment: fn() {
        self.count = self.count + 1;
    },
    decrement: fn() {
        self.count = self.count - 1;
    },
    get: fn() {
        return self.count;
    }
};
```

### –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `self`

–ö–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –º–µ—Ç–æ–¥, `self` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –æ–±—ä–µ–∫—Ç—É:

```hemlock
let counter = {
    count: 0,
    increment: fn() {
        self.count = self.count + 1;  // self —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ counter
    }
};

counter.increment();  // self –ø—Ä–∏–≤—è–∑–∞–Ω –∫ counter
print(counter.count);  // 1
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –í—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–æ–π, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–æ–º –∫ —Å–≤–æ–π—Å—Ç–≤—É
- `self` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –æ–±—ä–µ–∫—Ç—É –≤–æ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–∞
- `self` —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å–∞–º `self`)

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞

```hemlock
let obj = {
    value: 10,
    method: fn() {
        return self.value;
    }
};

// –í—ã–∑–æ–≤ –∫–∞–∫ –º–µ—Ç–æ–¥ - self –ø—Ä–∏–≤—è–∑–∞–Ω
print(obj.method());  // 10

// –í—ã–∑–æ–≤ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è - self —Ä–∞–≤–µ–Ω null (–æ—à–∏–±–∫–∞)
let f = obj.method;
print(f());  // –û–®–ò–ë–ö–ê: self –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
```

### –ú–µ—Ç–æ–¥—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```hemlock
let calculator = {
    result: 0,
    add: fn(x) {
        self.result = self.result + x;
    },
    multiply: fn(x) {
        self.result = self.result * x;
    },
    get: fn() {
        return self.result;
    }
};

calculator.add(5);
calculator.multiply(2);
print(calculator.get());  // 10
```

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —Å `define`

### –ë–∞–∑–æ–≤–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é `define`:

```hemlock
define Person {
    name: string,
    age: i32,
    active: bool,
}

// –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
let p = { name: "Alice", age: 30, active: true };
let typed_p: Person = p;  // –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É

print(typeof(typed_p));  // "Person"
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `define`:**
- –û–±—ä—è–≤–ª—è–µ—Ç —Ç–∏–ø —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- –í–∫–ª—é—á–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º—è —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è `typeof()`

### –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

–û–±—ä–µ–∫—Ç—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ `define` –∏—Å–ø–æ–ª—å–∑—É—è **—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**:

```hemlock
define Person {
    name: string,
    age: i32,
}

// OK: –ò–º–µ–µ—Ç –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
let p1: Person = { name: "Alice", age: 30 };

// OK: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
let p2: Person = {
    name: "Bob",
    age: 25,
    city: "NYC",
    active: true
};

// –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ 'age'
let p3: Person = { name: "Carol" };

// –û–®–ò–ë–ö–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è 'age'
let p4: Person = { name: "Dave", age: "thirty" };
```

**–ü—Ä–∞–≤–∏–ª–∞ —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏:**
- –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–æ–ª–∂–Ω—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
- –¢–∏–ø—ã –ø–æ–ª–µ–π –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è

### –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

–ü–æ–ª—è –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```hemlock
define Person {
    name: string,
    age: i32,
    active?: true,       // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    nickname?: string,   // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é null
}

// –û–±—ä–µ–∫—Ç —Ç–æ–ª—å–∫–æ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
let p = { name: "Alice", age: 30 };
let typed_p: Person = p;

print(typed_p.active);    // true (–ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
print(typed_p.nickname);  // null (–Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

// –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
let p2: Person = { name: "Bob", age: 25, active: false };
print(p2.active);  // false (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ)
```

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π:**
- `field?: default_value` - –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `field?: type` - –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π —Ç–∏–ø–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é null
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```hemlock
define Point {
    x: i32,
    y: i32,
}

let p = { x: 10, y: 20 };
let point: Point = p;  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–¥–µ—Å—å

print(typeof(point));  // "Point"
print(typeof(p));      // "object" (–æ—Ä–∏–≥–∏–Ω–∞–ª –≤—Å–µ –µ—â–µ –∞–Ω–æ–Ω–∏–º–Ω—ã–π)
```

**–ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:**
- –í–æ –≤—Ä–µ–º—è –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –ø–æ–ª–µ–π (—Å –Ω–µ—è–≤–Ω—ã–º–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è–º–∏)
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º—è —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞

## –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –≤ Define

–ë–ª–æ–∫–∏ define –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤, —Å–æ–∑–¥–∞–≤–∞—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø–æ–¥–æ–±–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º:

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```hemlock
define Comparable {
    value: i32,
    fn compare(other: Self): i32;  // –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
}

// –û–±—ä–µ–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
let a: Comparable = {
    value: 10,
    compare: fn(other) { return self.value - other.value; }
};
```

### –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```hemlock
define Serializable {
    fn serialize(): string;       // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π
    fn pretty?(): string;         // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ (–º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å)
}
```

### –¢–∏–ø `Self`

`Self` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–π —Ç–∏–ø, –ø–æ–∑–≤–æ–ª—è—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤:

```hemlock
define Cloneable {
    fn clone(): Self;  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ—Ç –∂–µ —Ç–∏–ø —á—Ç–æ –∏ –æ–±—ä–µ–∫—Ç
}

define Comparable {
    fn compare(other: Self): i32;  // –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ—Ç –∂–µ —Ç–∏–ø –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä
    fn equals(other: Self): bool;
}

let item: Cloneable = {
    value: 42,
    clone: fn() {
        return { value: self.value, clone: self.clone };
    }
};
```

### –°–º–µ—à–∞–Ω–Ω—ã–µ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã

```hemlock
define Entity {
    id: i32,
    name: string,
    fn validate(): bool;
    fn serialize(): string;
}

let user: Entity = {
    id: 1,
    name: "Alice",
    validate: fn() { return self.id > 0 && self.name != ""; },
    serialize: fn() { return '{"id":' + self.id + ',"name":"' + self.name + '"}'; }
};
```

## –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã (—Ç–∏–ø—ã –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è)

–°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `&` –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–ª –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º —Ç–∏–ø–æ–≤:

### –ë–∞–∑–æ–≤—ã–µ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã

```hemlock
define HasName { name: string }
define HasAge { age: i32 }

// –°–æ—Å—Ç–∞–≤–Ω–æ–π —Ç–∏–ø: –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –í–°–ï–ú —Ç–∏–ø–∞–º
let person: HasName & HasAge = { name: "Alice", age: 30 };
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π —Å —Å–æ—Å—Ç–∞–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏

```hemlock
fn greet(p: HasName & HasAge) {
    print(p.name + " is " + p.age);
}

greet({ name: "Bob", age: 25, city: "NYC" });  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è OK
```

### –¢—Ä–∏ –∏ –±–æ–ª–µ–µ —Ç–∏–ø–æ–≤

```hemlock
define HasEmail { email: string }

fn describe(p: HasName & HasAge & HasEmail) {
    print(p.name + " <" + p.email + ">");
}
```

### –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤

```hemlock
// –°–æ–∑–¥–∞–Ω–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Å–µ–≤–¥–æ–Ω–∏–º–∞ –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ —Ç–∏–ø–∞
type Person = HasName & HasAge;
type Employee = HasName & HasAge & HasEmail;

let emp: Employee = {
    name: "Charlie",
    age: 35,
    email: "charlie@example.com"
};
```

**–£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å —Å–æ—Å—Ç–∞–≤–Ω—ã–º–∏:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤—Å–µ–≥–¥–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã - –æ–±—ä–µ–∫—Ç –ø—Ä–æ—Å—Ç–æ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º –ø–æ–ª—è, —Ç—Ä–µ–±—É–µ–º—ã–µ –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Ç–∏–ø–∞.

## –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON

### –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—Ç—Ä–æ–∫–∏ JSON:

```hemlock
// obj.serialize() - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ —Å—Ç—Ä–æ–∫—É JSON
let obj = { x: 10, y: 20, name: "test" };
let json = obj.serialize();
print(json);  // {"x":10,"y":20,"name":"test"}

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
let nested = { inner: { a: 1, b: 2 }, outer: 3 };
print(nested.serialize());  // {"inner":{"a":1,"b":2},"outer":3}
```

### –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑ JSON

–†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫ JSON –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ–±—ä–µ–∫—Ç—ã:

```hemlock
// json.deserialize() - –†–∞–∑–æ–±—Ä–∞—Ç—å —Å—Ç—Ä–æ–∫—É JSON –≤ –æ–±—ä–µ–∫—Ç
let json_str = '{"x":10,"y":20,"name":"test"}';
let obj = json_str.deserialize();

print(obj.name);   // "test"
print(obj.x);      // 10
```

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤

–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –∏ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏:

```hemlock
let obj = { x: 10 };
obj.me = obj;  // –°–æ–∑–¥–∞–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–π —Å—Å—ã–ª–∫–∏

obj.serialize();  // –û–®–ò–ë–ö–ê: serialize() –æ–±–Ω–∞—Ä—É–∂–∏–ª —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã

–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- **–ß–∏—Å–ª–∞**: i8-i32, u8-u32, f32, f64
- **–ë—É–ª–µ–≤—ã**: true, false
- **–°—Ç—Ä–æ–∫–∏**: –° escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏
- **Null**: –∑–Ω–∞—á–µ–Ω–∏–µ null
- **–û–±—ä–µ–∫—Ç—ã**: –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- **–ú–∞—Å—Å–∏–≤—ã**: –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã

**–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:**
- –§—É–Ω–∫—Ü–∏–∏ (–º–æ–ª—á–∞ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è)
- –£–∫–∞–∑–∞—Ç–µ–ª–∏ (–æ—à–∏–±–∫–∞)
- –ë—É—Ñ–µ—Ä—ã (–æ—à–∏–±–∫–∞)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏:

```hemlock
// –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π JSON –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
try {
    let bad = "not valid json".deserialize();
} catch (e) {
    print("Parse error:", e);
}

// –£–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–µ–ª—å–∑—è —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å
let obj = { ptr: alloc(10) };
try {
    obj.serialize();
} catch (e) {
    print("Serialize error:", e);
}
```

### –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

```hemlock
define Config {
    host: string,
    port: i32,
    debug: bool
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
let config: Config = {
    host: "localhost",
    port: 8080,
    debug: true
};
let json = config.serialize();
print(json);  // {"host":"localhost","port":8080,"debug":true}

// –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ
let restored = json.deserialize();
print(restored.host);  // "localhost"
print(restored.port);  // 8080
```

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### `typeof(value)`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è —Ç–∏–ø–∞ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É:

```hemlock
let obj = { x: 10 };
print(typeof(obj));  // "object"

define Person { name: string, age: i32 }
let p: Person = { name: "Alice", age: 30 };
print(typeof(p));    // "Person"
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã: `"object"`
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ç–∏–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"Person"`)

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ú–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏

- **–†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ –∫—É—á–µ** - –í—Å–µ –æ–±—ä–µ–∫—Ç—ã —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ –∫—É—á–µ
- **–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –∫–æ–ø–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É, –Ω–µ –æ–±—ä–µ–∫—Ç
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è** - –•—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã –ø–∞—Ä –∏–º—è/–∑–Ω–∞—á–µ–Ω–∏–µ
- **–ü–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫** - –û–±—ä–µ–∫—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

### –°–µ–º–∞–Ω—Ç–∏–∫–∞ —Å—Å—ã–ª–æ–∫

```hemlock
let obj1 = { x: 10 };
let obj2 = obj1;  // –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç–∞ –∂–µ —Å—Å—ã–ª–∫–∞)

obj2.x = 20;
print(obj1.x);  // 20 (–æ–±–∞ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç)
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤

–ú–µ—Ç–æ–¥—ã - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –ø–æ–ª—è—Ö:

```hemlock
let obj = {
    value: 10,
    method: fn() { return self.value; }
};

// method —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, —Ö—Ä–∞–Ω—è—â–∞—è—Å—è –≤ obj.method
print(typeof(obj.method));  // "function"
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω: –§—É–Ω–∫—Ü–∏—è-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```hemlock
fn createPerson(name: string, age: i32) {
    return {
        name: name,
        age: age,
        greet: fn() {
            return "Hi, I'm " + self.name;
        }
    };
}

let person = createPerson("Alice", 30);
print(person.greet());  // "Hi, I'm Alice"
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –°—Ç—Ä–æ–∏—Ç–µ–ª—å –æ–±—ä–µ–∫—Ç–æ–≤

```hemlock
fn PersonBuilder() {
    return {
        name: null,
        age: null,

        setName: fn(n) {
            self.name = n;
            return self;  // –í–∫–ª—é—á–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É
        },

        setAge: fn(a) {
            self.age = a;
            return self;
        },

        build: fn() {
            return { name: self.name, age: self.age };
        }
    };
}

let person = PersonBuilder()
    .setName("Alice")
    .setAge(30)
    .build();
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –û–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è

```hemlock
let state = {
    status: "idle",
    data: null,
    error: null,

    setState: fn(new_status) {
        self.status = new_status;
    },

    setData: fn(new_data) {
        self.data = new_data;
        self.status = "success";
    },

    setError: fn(err) {
        self.error = err;
        self.status = "error";
    }
};
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –û–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```hemlock
let config = {
    defaults: {
        timeout: 30,
        retries: 3,
        debug: false
    },

    get: fn(key) {
        if (self.defaults[key] != null) {
            return self.defaults[key];
        }
        return null;
    },

    set: fn(key, value) {
        self.defaults[key] = value;
    }
};
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `define` –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –æ–∂–∏–¥–∞–µ–º—ã–µ —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤
2. **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ —Ñ–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏
3. **–î–µ—Ä–∂–∏—Ç–µ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–æ—Å—Ç—ã–º–∏** - –ù–µ –≤–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `self`** - –î–µ–ª–∞–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ —è—Å–Ω—ã–º
5. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ç–∏–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –¥–ª—è —Ä–∞–Ω–Ω–µ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
6. **–ò–∑–±–µ–≥–∞–π—Ç–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫** - –í—ã–∑–æ–≤—É—Ç –æ—à–∏–±–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
7. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è** - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≤—É—à–∫–∏

### –õ–æ–≤—É—à–∫–∞: –°—Å—ã–ª–∫–∞ vs –∑–Ω–∞—á–µ–Ω–∏–µ

```hemlock
let obj1 = { x: 10 };
let obj2 = obj1;  // –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

obj2.x = 20;
print(obj1.x);  // 20 (—Å—é—Ä–ø—Ä–∏–∑! –æ–±–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)

// –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
let obj3 = { x: obj1.x };  // –ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤—Ä—É—á–Ω—É—é)
```

### –õ–æ–≤—É—à–∫–∞: `self` –ø—Ä–∏ –Ω–µ-–º–µ—Ç–æ–¥–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö

```hemlock
let obj = {
    value: 10,
    method: fn() { return self.value; }
};

// –†–∞–±–æ—Ç–∞–µ—Ç: –í—ã–∑–≤–∞–Ω –∫–∞–∫ –º–µ—Ç–æ–¥
print(obj.method());  // 10

// –û–®–ò–ë–ö–ê: –í—ã–∑–≤–∞–Ω –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è
let f = obj.method;
print(f());  // –û–®–ò–ë–ö–ê: self –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
```

### –õ–æ–≤—É—à–∫–∞: –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –æ–±—ä–µ–∫—Ç–∞—Ö

```hemlock
// –û–±—ä–µ–∫—Ç—ã –∞–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è, –Ω–æ —Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤–Ω—É—Ç—Ä–∏ –ù–ï–¢
fn create_objects() {
    let obj = { data: alloc(1000) };  // —Å—ã—Ä–æ–π ptr –Ω—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –≤—Ä—É—á–Ω—É—é
    // obj –∞–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏, –Ω–æ obj.data —É—Ç–µ–∫–∞–µ—Ç!
}

// –†–µ—à–µ–Ω–∏–µ: –û—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ —Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ –æ–±–ª–∞—Å—Ç–∏
fn safe_create() {
    let obj = { data: alloc(1000) };
    // ... –∏—Å–ø–æ–ª—å–∑—É–µ–º obj.data ...
    free(obj.data);  // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Å—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å —è–≤–Ω–æ
}  // —Å–∞–º obj –∞–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è
```

### –õ–æ–≤—É—à–∫–∞: –ü—É—Ç–∞–Ω–∏—Ü–∞ —Å —Ç–∏–ø–∞–º–∏

```hemlock
let obj = { x: 10 };

define Point { x: i32, y: i32 }

// –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ 'y'
let p: Point = obj;
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: –í–µ–∫—Ç–æ—Ä–Ω–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞

```hemlock
fn createVector(x, y) {
    return {
        x: x,
        y: y,

        add: fn(other) {
            return createVector(
                self.x + other.x,
                self.y + other.y
            );
        },

        length: fn() {
            return sqrt(self.x * self.x + self.y * self.y);
        },

        toString: fn() {
            return "(" + typeof(self.x) + ", " + typeof(self.y) + ")";
        }
    };
}

let v1 = createVector(3, 4);
let v2 = createVector(1, 2);
let v3 = v1.add(v2);

print(v3.toString());  // "(4, 6)"
```

### –ü—Ä–∏–º–µ—Ä: –ü—Ä–æ—Å—Ç–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```hemlock
fn createDatabase() {
    let records = [];
    let next_id = 1;

    return {
        insert: fn(data) {
            let record = { id: next_id, data: data };
            records.push(record);
            next_id = next_id + 1;
            return record.id;
        },

        find: fn(id) {
            let i = 0;
            while (i < records.length) {
                if (records[i].id == id) {
                    return records[i];
                }
                i = i + 1;
            }
            return null;
        },

        count: fn() {
            return records.length;
        }
    };
}

let db = createDatabase();
let id = db.insert({ name: "Alice", age: 30 });
let record = db.find(id);
print(record.data.name);  // "Alice"
```

### –ü—Ä–∏–º–µ—Ä: –≠–º–∏—Ç—Ç–µ—Ä —Å–æ–±—ã—Ç–∏–π

```hemlock
fn createEventEmitter() {
    let listeners = {};

    return {
        on: fn(event, handler) {
            if (listeners[event] == null) {
                listeners[event] = [];
            }
            listeners[event].push(handler);
        },

        emit: fn(event, data) {
            if (listeners[event] != null) {
                let i = 0;
                while (i < listeners[event].length) {
                    listeners[event][i](data);
                    i = i + 1;
                }
            }
        }
    };
}

let emitter = createEventEmitter();

emitter.on("message", fn(data) {
    print("Received: " + data);
});

emitter.emit("message", "Hello!");
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- **–ù–µ—Ç –≥–ª—É–±–æ–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è** - –ù—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (spread –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–π)
- **–ù–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é** - –û–±—ä–µ–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ
- **–ù–µ—Ç –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö —Å–≤–æ–π—Å—Ç–≤** - –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `{[key]: value}`
- **`self` —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è** - –ù–µ–ª—å–∑—è –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å `self` –≤ –º–µ—Ç–æ–¥–∞—Ö
- **–ù–µ—Ç —É–¥–∞–ª–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤** - –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û–±—ä–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. –°–º. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](memory.md#internal-reference-counting) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions) - –ú–µ—Ç–æ–¥—ã —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –æ–±—ä–µ–∫—Ç–∞—Ö
- [–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays) - –ú–∞—Å—Å–∏–≤—ã —Ç–∞–∫–∂–µ —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–ø–æ–¥–æ–±–Ω—ã–º–∏
- [–¢–∏–ø—ã](#language-guide-types) - –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#language-guide-error-handling) - –í—ã–±—Ä–æ—Å –æ–±—ä–µ–∫—Ç–æ–≤ –æ—à–∏–±–æ–∫

## –°–º. —Ç–∞–∫–∂–µ

- **–£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**: –°–º. —Ä–∞–∑–¥–µ–ª "–û–±—ä–µ–∫—Ç—ã" –≤ CLAUDE.md –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- **JSON**: –°–º. CLAUDE.md –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON
- **–ü–∞–º—è—Ç—å**: –°–º. [–ü–∞–º—è—Ç—å](#language-guide-memory) –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤


--------------------------------------------------------------------------------
## –†—É–Ω—ã
--------------------------------------------------------------------------------

# –†—É–Ω—ã

–†—É–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç **–∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ Unicode** (U+0000 –¥–æ U+10FFFF) –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –≤ Hemlock. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–∞–π—Ç–æ–≤ (u8), —Ä—É–Ω—ã —è–≤–ª—è—é—Ç—Å—è –ø–æ–ª–Ω—ã–º–∏ Unicode-—Å–∏–º–≤–æ–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ª—é–±–æ–π —Å–∏–º–≤–æ–ª –ª—é–±–æ–≥–æ —è–∑—ã–∫–∞ –∏–ª–∏ —ç–º–æ–¥–∑–∏.

## –û–±–∑–æ—Ä

```hemlock
let ch = 'A';           // –õ–∏—Ç–µ—Ä–∞–ª —Ä—É–Ω—ã
let emoji = '(—Ä–∞–∫–µ—Ç–∞)'; // –ú–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã–π —Å–∏–º–≤–æ–ª –∫–∞–∫ –æ–¥–Ω–∞ —Ä—É–Ω–∞
print(ch);              // 'A'
print(emoji);           // U+1F680

let s = "Hello " + '!'; // –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ + —Ä—É–Ω—ã
let r = '>' + " msg";   // –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Ä—É–Ω—ã + —Å—Ç—Ä–æ–∫–∏
```

## –ß—Ç–æ —Ç–∞–∫–æ–µ —Ä—É–Ω–∞?

–†—É–Ω–∞ - —ç—Ç–æ **32-–±–∏—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ**, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–µ–µ –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É Unicode:

- **–î–∏–∞–ø–∞–∑–æ–Ω:** 0 –¥–æ 0x10FFFF (1,114,111 –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫)
- **–ù–µ —á–∏—Å–ª–æ–≤–æ–π —Ç–∏–ø** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤
- **–û—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç u8/char** - –†—É–Ω—ã —ç—Ç–æ –ø–æ–ª–Ω—ã–π Unicode, u8 –ø—Ä–æ—Å—Ç–æ –±–∞–π—Ç—ã
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∫** - `str[0]` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä—É–Ω—É, –Ω–µ –±–∞–π—Ç

**–ó–∞—á–µ–º —Ä—É–Ω—ã?**
- –°—Ç—Ä–æ–∫–∏ Hemlock –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ UTF-8
- –û–¥–∏–Ω —Å–∏–º–≤–æ–ª Unicode –º–æ–∂–µ—Ç –±—ã—Ç—å 1-4 –±–∞–π—Ç–∞ –≤ UTF-8
- –†—É–Ω—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ–ª–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏, –Ω–µ —á–∞—Å—Ç–∏—á–Ω—ã–º–∏ –±–∞–π—Ç–∞–º–∏

## –õ–∏—Ç–µ—Ä–∞–ª—ã —Ä—É–Ω

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

–û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –æ–±–æ–∑–Ω–∞—á–∞—é—Ç –ª–∏—Ç–µ—Ä–∞–ª—ã —Ä—É–Ω:

```hemlock
let a = 'A';            // ASCII —Å–∏–º–≤–æ–ª
let b = '0';            // –°–∏–º–≤–æ–ª —Ü–∏—Ñ—Ä—ã
let c = '!';            // –ü—É–Ω–∫—Ç—É–∞—Ü–∏—è
let d = ' ';            // –ü—Ä–æ–±–µ–ª
```

### –ú–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã–µ UTF-8 —Å–∏–º–≤–æ–ª—ã

–†—É–Ω—ã –º–æ–≥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ª—é–±–æ–π —Å–∏–º–≤–æ–ª Unicode:

```hemlock
// –≠–º–æ–¥–∑–∏
let rocket = '(—Ä–∞–∫–µ—Ç–∞)';// –≠–º–æ–¥–∑–∏ (U+1F680)
let heart = '(—Å–µ—Ä–¥—Ü–µ)'; // –°–µ—Ä–¥—Ü–µ (U+2764)
let smile = '(—É–ª—ã–±–∫–∞)'; // –£–ª—ã–±–∞—é—â–µ–µ—Å—è –ª–∏—Ü–æ (U+1F600)

// CJK —Å–∏–º–≤–æ–ª—ã
let chinese = '(–∫–∏—Ç)';  // –ö–∏—Ç–∞–π—Å–∫–∏–π (U+4E2D)
let japanese = '(—è–ø)';  // –•–∏—Ä–∞–≥–∞–Ω–∞ (U+3042)
let korean = '(–∫–æ—Ä)';   // –•–∞–Ω–≥—ã–ª—å (U+D55C)

// –°–∏–º–≤–æ–ª—ã
let check = '(–≥–∞–ª–æ—á–∫–∞)';// –ì–∞–ª–æ—á–∫–∞ (U+2713)
let arrow = '(—Å—Ç—Ä–µ–ª–∫–∞)';// –°—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ (U+2192)
```

### Escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤:

```hemlock
let newline = '\n';     // –ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ (U+000A)
let tab = '\t';         // –¢–∞–±—É–ª—è—Ü–∏—è (U+0009)
let backslash = '\\';   // –û–±—Ä–∞—Ç–Ω—ã–π —Å–ª–µ—à (U+005C)
let quote = '\'';       // –û–¥–∏–Ω–∞—Ä–Ω–∞—è –∫–∞–≤—ã—á–∫–∞ (U+0027)
let dquote = '"';       // –î–≤–æ–π–Ω–∞—è –∫–∞–≤—ã—á–∫–∞ (U+0022)
let null_char = '\0';   // –ù—É–ª–µ–≤–æ–π —Å–∏–º–≤–æ–ª (U+0000)
let cr = '\r';          // –í–æ–∑–≤—Ä–∞—Ç –∫–∞—Ä–µ—Ç–∫–∏ (U+000D)
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- `\n` - –ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ (–ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏)
- `\t` - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±—É–ª—è—Ü–∏—è
- `\r` - –í–æ–∑–≤—Ä–∞—Ç –∫–∞—Ä–µ—Ç–∫–∏
- `\0` - –ù—É–ª–µ–≤–æ–π —Å–∏–º–≤–æ–ª
- `\\` - –û–±—Ä–∞—Ç–Ω—ã–π —Å–ª–µ—à
- `\'` - –û–¥–∏–Ω–∞—Ä–Ω–∞—è –∫–∞–≤—ã—á–∫–∞
- `\"` - –î–≤–æ–π–Ω–∞—è –∫–∞–≤—ã—á–∫–∞

### Unicode escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `\u{XXXXXX}` –¥–ª—è –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ Unicode (–¥–æ 6 hex —Ü–∏—Ñ—Ä):

```hemlock
let rocket = '\u{1F680}';   // (—Ä–∞–∫–µ—Ç–∞) –≠–º–æ–¥–∑–∏ —á–µ—Ä–µ–∑ Unicode escape
let heart = '\u{2764}';     // (—Å–µ—Ä–¥—Ü–µ) –°–µ—Ä–¥—Ü–µ
let ascii = '\u{41}';       // 'A' —á–µ—Ä–µ–∑ escape
let max = '\u{10FFFF}';     // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ Unicode

// –í–µ–¥—É—â–∏–µ –Ω—É–ª–∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
let a = '\u{41}';           // –¢–æ –∂–µ —á—Ç–æ '\u{0041}'
let b = '\u{0041}';
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –î–∏–∞–ø–∞–∑–æ–Ω: `\u{0}` –¥–æ `\u{10FFFF}`
- Hex —Ü–∏—Ñ—Ä—ã: –æ—Ç 1 –¥–æ 6 —Ü–∏—Ñ—Ä
- –†–µ–≥–∏—Å—Ç—Ä –Ω–µ –≤–∞–∂–µ–Ω: `\u{1F680}` –∏–ª–∏ `\u{1f680}`
- –ó–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ Unicode –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É

## –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ + —Ä—É–Ω

–†—É–Ω—ã –º–æ–∂–Ω–æ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏:

```hemlock
// –°—Ç—Ä–æ–∫–∞ + —Ä—É–Ω–∞
let greeting = "Hello" + '!';       // "Hello!"
let decorated = "Text" + '(–≥–∞–ª–æ—á–∫–∞)'; // "Text(–≥–∞–ª–æ—á–∫–∞)"

// –†—É–Ω–∞ + —Å—Ç—Ä–æ–∫–∞
let prefix = '>' + " Message";      // "> Message"
let bullet = '(—Ç–æ—á–∫–∞)' + " Item";   // "(—Ç–æ—á–∫–∞) Item"

// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏
let msg = "Hi " + '(—Ä—É–∫–∞)' + " World " + '(–∑–µ–º–ª—è)';  // "Hi (—Ä—É–∫–∞) World (–∑–µ–º–ª—è)"

// –¶–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
let result = ('>' + " Important").to_upper();  // "> IMPORTANT"
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –†—É–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ UTF-8
- –ü—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–∏ –≤–æ –≤—Ä–µ–º—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏
- –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤

–†—É–Ω—ã –º–æ–≥—É—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –≤/–∏–∑ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤.

### –¶–µ–ª–æ–µ <-> –†—É–Ω–∞

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Ü–µ–ª—ã–º–∏ –∏ —Ä—É–Ω–∞–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫:

```hemlock
// –¶–µ–ª–æ–µ –≤ —Ä—É–Ω—É (–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏)
let code: rune = 65;            // 'A' (ASCII 65)
let emoji_code: rune = 128640;  // U+1F680 ((—Ä–∞–∫–µ—Ç–∞))

// –†—É–Ω–∞ –≤ —Ü–µ–ª–æ–µ (–ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏)
let r = 'Z';
let value: i32 = r;             // 90 (ASCII –∑–Ω–∞—á–µ–Ω–∏–µ)

let rocket = '(—Ä–∞–∫–µ—Ç–∞)';
let code: i32 = rocket;         // 128640 (U+1F680)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞:**
- –¶–µ–ª–æ–µ –≤ —Ä—É–Ω—É: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ [0, 0x10FFFF]
- –ó–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –†—É–Ω–∞ –≤ —Ü–µ–ª–æ–µ: –í—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É)

### –†—É–Ω–∞ -> –°—Ç—Ä–æ–∫–∞

–†—É–Ω—ã –º–æ–∂–Ω–æ —è–≤–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –≤ —Å—Ç—Ä–æ–∫–∏:

```hemlock
// –Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
let ch: string = 'H';           // "H"
let emoji: string = '(—Ä–∞–∫–µ—Ç–∞)'; // "(—Ä–∞–∫–µ—Ç–∞)"

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏
let s = "" + 'A';               // "A"
let s2 = "x" + 'y' + "z";       // "xyz"
```

### u8 (–ë–∞–π—Ç) -> –†—É–Ω–∞

–õ—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ u8 (0-255) –º–æ–∂–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å—Å—è –≤ —Ä—É–Ω—É:

```hemlock
// –î–∏–∞–ø–∞–∑–æ–Ω ASCII (0-127)
let byte: u8 = 65;
let rune_val: rune = byte;      // 'A'

// –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π ASCII / Latin-1 (128-255)
let extended: u8 = 200;
let r: rune = extended;         // U+00C8 (E —Å –≥—Ä–∞–≤–∏—Å–æ–º)

// –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ó–Ω–∞—á–µ–Ω–∏—è 0-127 —ç—Ç–æ ASCII, 128-255 —ç—Ç–æ Latin-1
```

### –¶–µ–ø–æ—á–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤ —Ü–µ–ø–æ—á–∫–∏:

```hemlock
// i32 -> —Ä—É–Ω–∞ -> —Å—Ç—Ä–æ–∫–∞
let code: i32 = 128512;         // –ö–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ —É–ª—ã–±–∞—é—â–µ–≥–æ—Å—è –ª–∏—Ü–∞
let r: rune = code;             // (—É–ª—ã–±–∫–∞)
let s: string = r;              // "(—É–ª—ã–±–∫–∞)"

// –í—Å–µ –≤ –æ–¥–Ω–æ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–∏
let emoji: string = 128640;     // –ù–µ—è–≤–Ω–æ–µ i32 -> —Ä—É–Ω–∞ -> —Å—Ç—Ä–æ–∫–∞ ((—Ä–∞–∫–µ—Ç–∞))
```

## –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä—É–Ω–∞–º–∏

### –í—ã–≤–æ–¥

–ö–∞–∫ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ä—É–Ω—ã –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏:

```hemlock
let ascii = 'A';
print(ascii);                   // 'A' (–≤ –∫–∞–≤—ã—á–∫–∞—Ö, –ø–µ—á–∞—Ç–Ω—ã–π ASCII)

let emoji = '(—Ä–∞–∫–µ—Ç–∞)';
print(emoji);                   // U+1F680 (Unicode –Ω–æ—Ç–∞—Ü–∏—è –¥–ª—è –Ω–µ-ASCII)

let tab = '\t';
print(tab);                     // U+0009 (–Ω–µ–ø–µ—á–∞—Ç–Ω—ã–π –∫–∞–∫ hex)

let space = ' ';
print(space);                   // ' ' (–ø–µ—á–∞—Ç–Ω—ã–π)
```

**–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:**
- –ü–µ—á–∞—Ç–Ω—ã–π ASCII (32-126): –°–∏–º–≤–æ–ª –≤ –∫–∞–≤—ã—á–∫–∞—Ö `'A'`
- –ù–µ–ø–µ—á–∞—Ç–Ω—ã–π –∏–ª–∏ Unicode: Hex –Ω–æ—Ç–∞—Ü–∏—è `U+XXXX`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `typeof()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä—É–Ω–æ–π:

```hemlock
let r = '(—Ä–∞–∫–µ—Ç–∞)';
print(typeof(r));               // "rune"

let s = "text";
let ch = s[0];
print(typeof(ch));              // "rune" (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä—É–Ω—ã)

let num = 65;
print(typeof(num));             // "i32"
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

–†—É–Ω—ã –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ:

```hemlock
let a = 'A';
let b = 'B';
print(a == a);                  // true
print(a == b);                  // false

// –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É
let upper = 'A';
let lower = 'a';
print(upper == lower);          // false

// –†—É–Ω—ã –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å —Ü–µ–ª—ã–º–∏ (–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫)
print(a == 65);                 // true (–Ω–µ—è–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)
print('(—Ä–∞–∫–µ—Ç–∞)' == 128640);    // true
```

**–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**
- `==` - –†–∞–≤–Ω–æ
- `!=` - –ù–µ —Ä–∞–≤–Ω–æ
- `<`, `>`, `<=`, `>=` - –ü–æ—Ä—è–¥–æ–∫ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫

```hemlock
print('A' < 'B');               // true (65 < 66)
print('a' > 'Z');               // true (97 > 90)
```

## –†–∞–±–æ—Ç–∞ —Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∫

–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä—É–Ω—ã, –Ω–µ –±–∞–π—Ç—ã:

```hemlock
let s = "Hello(—Ä–∞–∫–µ—Ç–∞)";
let h = s[0];                   // 'H' (—Ä—É–Ω–∞)
let rocket = s[5];              // '(—Ä–∞–∫–µ—Ç–∞)' (—Ä—É–Ω–∞)

print(typeof(h));               // "rune"
print(typeof(rocket));          // "rune"

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —Å—Ç—Ä–æ–∫—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
let h_str: string = h;          // "H"
let rocket_str: string = rocket; // "(—Ä–∞–∫–µ—Ç–∞)"
```

**–í–∞–∂–Ω–æ:** –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫, –Ω–µ –±–∞–π—Ç–æ–≤—ã–µ —Å–º–µ—â–µ–Ω–∏—è:

```hemlock
let text = "Hi(—Ä–∞–∫–µ—Ç–∞)!";
// –ü–æ–∑–∏—Ü–∏–∏ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫: 0='H', 1='i', 2='(—Ä–∞–∫–µ—Ç–∞)', 3='!'
// –ü–æ–∑–∏—Ü–∏–∏ –±–∞–π—Ç:          0='H', 1='i', 2-5='(—Ä–∞–∫–µ—Ç–∞)', 6='!'

let r = text[2];                // '(—Ä–∞–∫–µ—Ç–∞)' (–∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ 2)
print(typeof(r));               // "rune"
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏–º–≤–æ–ª–æ–≤

```hemlock
fn is_digit(r: rune): bool {
    return r >= '0' && r <= '9';
}

fn is_upper(r: rune): bool {
    return r >= 'A' && r <= 'Z';
}

fn is_lower(r: rune): bool {
    return r >= 'a' && r <= 'z';
}

print(is_digit('5'));           // true
print(is_upper('A'));           // true
print(is_lower('z'));           // true
```

### –ü—Ä–∏–º–µ—Ä: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞

```hemlock
fn to_upper_rune(r: rune): rune {
    if (r >= 'a' && r <= 'z') {
        // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (–≤—ã—á–µ—Å—Ç—å 32)
        let code: i32 = r;
        code = code - 32;
        return code;
    }
    return r;
}

fn to_lower_rune(r: rune): rune {
    if (r >= 'A' && r <= 'Z') {
        // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (–¥–æ–±–∞–≤–∏—Ç—å 32)
        let code: i32 = r;
        code = code + 32;
        return code;
    }
    return r;
}

print(to_upper_rune('a'));      // 'A'
print(to_lower_rune('Z'));      // 'z'
```

### –ü—Ä–∏–º–µ—Ä: –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å–∏–º–≤–æ–ª–∞–º

```hemlock
fn print_chars(s: string) {
    let i = 0;
    while (i < s.length) {
        let ch = s[i];
        print("Position " + typeof(i) + ": " + typeof(ch));
        i = i + 1;
    }
}

print_chars("Hi(—Ä–∞–∫–µ—Ç–∞)");
// Position 0: 'H'
// Position 1: 'i'
// Position 2: U+1F680
```

### –ü—Ä–∏–º–µ—Ä: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –∏–∑ —Ä—É–Ω

```hemlock
fn repeat_char(ch: rune, count: i32): string {
    let result = "";
    let i = 0;
    while (i < count) {
        result = result + ch;
        i = i + 1;
    }
    return result;
}

let line = repeat_char('=', 40);     // "========================================"
let stars = repeat_char('(–∑–≤–µ–∑–¥–∞)', 5); // "(–∑–≤–µ–∑–¥–∞)(–∑–≤–µ–∑–¥–∞)(–∑–≤–µ–∑–¥–∞)(–∑–≤–µ–∑–¥–∞)(–∑–≤–µ–∑–¥–∞)"
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω: –§–∏–ª—å—Ç—Ä —Å–∏–º–≤–æ–ª–æ–≤

```hemlock
fn filter_digits(s: string): string {
    let result = "";
    let i = 0;
    while (i < s.length) {
        let ch = s[i];
        if (ch >= '0' && ch <= '9') {
            result = result + ch;
        }
        i = i + 1;
    }
    return result;
}

let text = "abc123def456";
let digits = filter_digits(text);  // "123456"
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ü–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤

```hemlock
fn count_char(s: string, target: rune): i32 {
    let count = 0;
    let i = 0;
    while (i < s.length) {
        if (s[i] == target) {
            count = count + 1;
        }
        i = i + 1;
    }
    return count;
}

let text = "hello world";
let l_count = count_char(text, 'l');  // 3
let o_count = count_char(text, 'o');  // 2
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä—É–Ω—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Å–∏–º–≤–æ–ª–∞–º–∏** - –ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–π—Ç–∞–º–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞
2. **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä—É–Ω—ã** - –ü–æ–º–Ω–∏—Ç–µ —á—Ç–æ `str[i]` –¥–∞–µ—Ç –≤–∞–º —Ä—É–Ω—É
3. **Unicode-aware —Å—Ä–∞–≤–Ω–µ–Ω–∏—è** - –†—É–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ª—é–±–æ–π —Å–∏–º–≤–æ–ª Unicode
4. **–ü—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ** - –†—É–Ω—ã –ª–µ–≥–∫–æ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–∏ –∏ —Ü–µ–ª—ã–µ
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —ç–º–æ–¥–∑–∏** - –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å–∏–º–≤–æ–ª–∞–º–∏ —Å –º–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≤—É—à–∫–∏

### –õ–æ–≤—É—à–∫–∞: –ü—É—Ç–∞–Ω–∏—Ü–∞ —Ä—É–Ω–∞ vs –±–∞–π—Ç

```hemlock
// –ù–ï–õ–¨–ó–Ø: –û–±—Ä–∞—â–∞—Ç—å—Å—è —Å —Ä—É–Ω–∞–º–∏ –∫–∞–∫ —Å –±–∞–π—Ç–∞–º–∏
let r: rune = '(—Ä–∞–∫–µ—Ç–∞)';
let b: u8 = r;              // –û–®–ò–ë–ö–ê: –ö–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ —Ä—É–Ω—ã 128640 –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ u8

// –ù–£–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
let r: rune = '(—Ä–∞–∫–µ—Ç–∞)';
let code: i32 = r;          // OK: 128640
```

### –õ–æ–≤—É—à–∫–∞: –ë–∞–π—Ç–æ–≤–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–æ–∫

```hemlock
// –ù–ï–õ–¨–ó–Ø: –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—Ç—å –±–∞–π—Ç–æ–≤—É—é –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
let s = "(—Ä–∞–∫–µ—Ç–∞)";
let byte = s.byte_at(0);    // 240 (–ø–µ—Ä–≤—ã–π –±–∞–π—Ç UTF-8, –Ω–µ –ø–æ–ª–Ω—ã–π —Å–∏–º–≤–æ–ª)

// –ù–£–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ø–æ –∫–æ–¥–æ–≤—ã–º —Ç–æ—á–∫–∞–º
let s = "(—Ä–∞–∫–µ—Ç–∞)";
let rune = s[0];            // '(—Ä–∞–∫–µ—Ç–∞)' (–ø–æ–ª–Ω—ã–π —Å–∏–º–≤–æ–ª)
let rune2 = s.char_at(0);   // '(—Ä–∞–∫–µ—Ç–∞)' (—è–≤–Ω—ã–π –º–µ—Ç–æ–¥)
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–°—Ç—Ä–æ–∫–∏](#language-guide-strings) - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ UTF-8
- [–¢–∏–ø—ã](#language-guide-types) - –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º](#language-guide-control-flow) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä—É–Ω –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è—Ö

## –°–º. —Ç–∞–∫–∂–µ

- **–°—Ç–∞–Ω–¥–∞—Ä—Ç Unicode**: –ö–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ Unicode –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ö–æ–Ω—Å–æ—Ä—Ü–∏—É–º–æ–º Unicode
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8**: –°–º. [–°—Ç—Ä–æ–∫–∏](#language-guide-strings) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π UTF-8
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤**: –°–º. [–¢–∏–ø—ã](#language-guide-types) –¥–ª—è –ø—Ä–∞–≤–∏–ª –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è


--------------------------------------------------------------------------------
## –°–∏–Ω—Ç–∞–∫—Å–∏—Å
--------------------------------------------------------------------------------

# –û–±–∑–æ—Ä —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–≥—Ä–∞–º–º –Ω–∞ Hemlock.

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

### –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç JavaScript –∏–ª–∏ Python, —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π **–≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** –≤ –∫–æ–Ω—Ü–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:

```hemlock
let x = 42;
let y = 10;
print(x + y);
```

**–≠—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É:**
```hemlock
let x = 42  // –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π
let y = 10  // –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π
```

### –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã

–í—Å–µ –±–ª–æ–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏, –¥–∞–∂–µ –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:

```hemlock
// –ü–†–ê–í–ò–õ–¨–ù–û
if (x > 0) {
    print("positive");
}

// –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏
if (x > 0)
    print("positive");
```

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

```hemlock
// –≠—Ç–æ –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

/*
   –≠—Ç–æ
   –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
*/

let x = 42;  // –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `let`:

```hemlock
let count = 0;
let name = "Alice";
let pi = 3.14159;
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```hemlock
let age: i32 = 30;
let ratio: f64 = 1.618;
let flag: bool = true;
let text: string = "hello";
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `const` –¥–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:

```hemlock
const MAX_SIZE: i32 = 1000;
const PI: f64 = 3.14159;
```

–ü–æ–ø—ã—Ç–∫–∞ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∏—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: "Cannot assign to const variable".

## –í—ã—Ä–∞–∂–µ–Ω–∏—è

### –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```hemlock
let a = 10;
let b = 3;

print(a + b);   // 13 - –°–ª–æ–∂–µ–Ω–∏–µ
print(a - b);   // 7  - –í—ã—á–∏—Ç–∞–Ω–∏–µ
print(a * b);   // 30 - –£–º–Ω–æ–∂–µ–Ω–∏–µ
print(a / b);   // 3  - –î–µ–ª–µ–Ω–∏–µ (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ)
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

```hemlock
print(a == b);  // false - –†–∞–≤–Ω–æ
print(a != b);  // true  - –ù–µ —Ä–∞–≤–Ω–æ
print(a > b);   // true  - –ë–æ–ª—å—à–µ
print(a < b);   // false - –ú–µ–Ω—å—à–µ
print(a >= b);  // true  - –ë–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
print(a <= b);  // false - –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
```

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```hemlock
let x = true;
let y = false;

print(x && y);  // false - –ò
print(x || y);  // true  - –ò–õ–ò
print(!x);      // false - –ù–ï
```

### –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```hemlock
let a = 12;  // 1100
let b = 10;  // 1010

print(a & b);   // 8  - –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò
print(a | b);   // 14 - –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò
print(a ^ b);   // 6  - –ü–æ–±–∏—Ç–æ–≤–æ–µ –∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò
print(a << 2);  // 48 - –°–¥–≤–∏–≥ –≤–ª–µ–≤–æ
print(a >> 1);  // 6  - –°–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ
print(~a);      // -13 - –ü–æ–±–∏—Ç–æ–≤–æ–µ –ù–ï
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

–û—Ç –≤—ã—Å—à–µ–≥–æ –∫ –Ω–∏–∑—à–µ–º—É:

1. `()` - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞
2. `!`, `~`, `-` (—É–Ω–∞—Ä–Ω—ã–π) - –£–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
3. `*`, `/` - –£–º–Ω–æ–∂–µ–Ω–∏–µ, –î–µ–ª–µ–Ω–∏–µ
4. `+`, `-` - –°–ª–æ–∂–µ–Ω–∏–µ, –í—ã—á–∏—Ç–∞–Ω–∏–µ
5. `<<`, `>>` - –ü–æ–±–∏—Ç–æ–≤—ã–µ —Å–¥–≤–∏–≥–∏
6. `<`, `<=`, `>`, `>=` - –°—Ä–∞–≤–Ω–µ–Ω–∏—è
7. `==`, `!=` - –†–∞–≤–µ–Ω—Å—Ç–≤–æ
8. `&` - –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò
9. `^` - –ü–æ–±–∏—Ç–æ–≤–æ–µ –∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò
10. `|` - –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò
11. `&&` - –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò
12. `||` - –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let x = 2 + 3 * 4;      // 14 (–Ω–µ 20)
let y = (2 + 3) * 4;    // 20
let z = 5 << 2 + 1;     // 40 (5 << 3)
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º

### –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã If

```hemlock
if (condition) {
    // —Ç–µ–ª–æ
}

if (condition) {
    // –≤–µ—Ç–∫–∞ then
} else {
    // –≤–µ—Ç–∫–∞ else
}

if (condition1) {
    // –≤–µ—Ç–∫–∞ 1
} else if (condition2) {
    // –≤–µ—Ç–∫–∞ 2
} else {
    // –≤–µ—Ç–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
}
```

### –¶–∏–∫–ª—ã While

```hemlock
while (condition) {
    // —Ç–µ–ª–æ
}
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let i = 0;
while (i < 10) {
    print(i);
    i = i + 1;
}
```

### –¶–∏–∫–ª—ã For

**–¶–∏–∫–ª for –≤ —Å—Ç–∏–ª–µ C:**
```hemlock
for (initializer; condition; increment) {
    // —Ç–µ–ª–æ
}
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
for (let i = 0; i < 10; i = i + 1) {
    print(i);
}
```

**For-in (–º–∞—Å—Å–∏–≤—ã):**
```hemlock
for (let item in array) {
    // —Ç–µ–ª–æ
}
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let items = [10, 20, 30];
for (let x in items) {
    print(x);
}
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã Switch

```hemlock
switch (expression) {
    case value1:
        // —Ç–µ–ª–æ
        break;
    case value2:
        // —Ç–µ–ª–æ
        break;
    default:
        // —Ç–µ–ª–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        break;
}
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let day = 3;
switch (day) {
    case 1:
        print("Monday");
        break;
    case 2:
        print("Tuesday");
        break;
    case 3:
        print("Wednesday");
        break;
    default:
        print("Other");
        break;
}
```

### Break –∏ Continue

```hemlock
// Break: –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
for (let i = 0; i < 10; i = i + 1) {
    if (i == 5) {
        break;
    }
    print(i);
}

// Continue: –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
for (let i = 0; i < 10; i = i + 1) {
    if (i == 5) {
        continue;
    }
    print(i);
}
```

## –§—É–Ω–∫—Ü–∏–∏

### –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
fn function_name(param1: type1, param2: type2): return_type {
    // —Ç–µ–ª–æ
    return value;
}
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
fn add(a: i32, b: i32): i32 {
    return a + b;
}
```

### –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
let func = fn(params) {
    // —Ç–µ–ª–æ
};
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let multiply = fn(x, y) {
    return x * y;
};
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```hemlock
// –ë–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π (—Ç–∏–ø—ã –≤—ã–≤–æ–¥—è—Ç—Å—è)
fn greet(name) {
    return "Hello, " + name;
}

// –° –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ (–ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
fn divide(a: i32, b: i32): f64 {
    return a / b;
}
```

## –û–±—ä–µ–∫—Ç—ã

### –õ–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤

```hemlock
let obj = {
    field1: value1,
    field2: value2,
};
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let person = {
    name: "Alice",
    age: 30,
    active: true,
};
```

### –ú–µ—Ç–æ–¥—ã

```hemlock
let obj = {
    method: fn() {
        self.field = value;
    },
};
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let counter = {
    count: 0,
    increment: fn() {
        self.count = self.count + 1;
    },
};
```

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤

```hemlock
define TypeName {
    field1: type1,
    field2: type2,
    optional_field?: default_value,
}
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
define Person {
    name: string,
    age: i32,
    active?: true,
}
```

## –ú–∞—Å—Å–∏–≤—ã

### –õ–∏—Ç–µ—Ä–∞–ª—ã –º–∞—Å—Å–∏–≤–æ–≤

```hemlock
let arr = [element1, element2, element3];
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let numbers = [1, 2, 3, 4, 5];
let mixed = [1, "two", true, null];
let empty = [];
```

### –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤

```hemlock
let arr = [10, 20, 30];
print(arr[0]);   // 10
arr[1] = 99;     // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Try/Catch

```hemlock
try {
    // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
} catch (e) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
}
```

### Try/Finally

```hemlock
try {
    // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
} finally {
    // –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞
}
```

### Try/Catch/Finally

```hemlock
try {
    // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
} catch (e) {
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
} finally {
    // –æ—á–∏—Å—Ç–∫–∞
}
```

### Throw

```hemlock
throw expression;
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
if (x < 0) {
    throw "x must be positive";
}
```

### Panic

```hemlock
panic(message);
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
panic("unrecoverable error");
```

## –ú–æ–¥—É–ª–∏ (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

```hemlock
export fn function_name() { }
export const CONSTANT = value;
export let variable = value;
export { name1, name2 };
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏–º–ø–æ—Ä—Ç–∞

```hemlock
import { name1, name2 } from "./module.hml";
import * as namespace from "./module.hml";
import { name as alias } from "./module.hml";
```

## Async (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
async fn function_name(params): return_type {
    // —Ç–µ–ª–æ
}
```

### Spawn/Join

```hemlock
let task = spawn(async_function, arg1, arg2);
let result = join(task);
```

### –ö–∞–Ω–∞–ª—ã

```hemlock
let ch = channel(capacity);
ch.send(value);
let value = ch.recv();
ch.close();
```

## FFI (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π)

### –ò–º–ø–æ—Ä—Ç —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```hemlock
import "library_name.so";
```

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–π —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
extern fn function_name(param: type): return_type;
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
import "libc.so.6";
extern fn strlen(s: string): i32;
```

## –õ–∏—Ç–µ—Ä–∞–ª—ã

### –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã

```hemlock
let decimal = 42;
let negative = -100;
let large = 5000000000;  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ i64

// –®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ (–ø—Ä–µ—Ñ–∏–∫—Å 0x)
let hex = 0xDEADBEEF;
let hex2 = 0xFF;

// –î–≤–æ–∏—á–Ω—ã–µ (–ø—Ä–µ—Ñ–∏–∫—Å 0b)
let bin = 0b1010;
let bin2 = 0b11110000;

// –í–æ—Å—å–º–µ—Ä–∏—á–Ω—ã–µ (–ø—Ä–µ—Ñ–∏–∫—Å 0o)
let oct = 0o777;
let oct2 = 0O123;

// –ß–∏—Å–ª–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
let million = 1_000_000;
let hex_sep = 0xFF_FF_FF;
let bin_sep = 0b1111_0000_1010_0101;
let oct_sep = 0o77_77;
```

### –õ–∏—Ç–µ—Ä–∞–ª—ã —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π

```hemlock
let f = 3.14;
let e = 2.71828;
let sci = 1.5e-10;       // –ù–∞—É—á–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è
let sci2 = 2.5E+3;       // –ó–∞–≥–ª–∞–≤–Ω–∞—è E —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
let no_lead = .5;        // –ë–µ–∑ –≤–µ–¥—É—â–µ–≥–æ –Ω—É–ª—è (0.5)
let sep = 3.14_159_265;  // –ß–∏—Å–ª–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏
```

### –°—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã

```hemlock
let s = "hello";
let escaped = "line1\nline2\ttabbed";
let quote = "She said \"hello\"";

// –®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
let hex_esc = "\x48\x65\x6c\x6c\x6f";  // "Hello"

// Unicode escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
let emoji = "\u{1F600}";               // (—Å–º–∞–π–ª–∏–∫)
let heart = "\u{2764}";                // (—Å–µ—Ä–¥—Ü–µ)
let mixed = "Hello \u{1F30D}!";        // Hello (–∑–µ–º–ª—è)!
```

**Escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- `\n` - –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞
- `\t` - —Ç–∞–±—É–ª—è—Ü–∏—è
- `\r` - –≤–æ–∑–≤—Ä–∞—Ç –∫–∞—Ä–µ—Ç–∫–∏
- `\\` - –æ–±—Ä–∞—Ç–Ω—ã–π —Å–ª–µ—à
- `\"` - –¥–≤–æ–π–Ω–∞—è –∫–∞–≤—ã—á–∫–∞
- `\'` - –æ–¥–∏–Ω–∞—Ä–Ω–∞—è –∫–∞–≤—ã—á–∫–∞
- `\0` - –Ω—É–ª–µ–≤–æ–π —Å–∏–º–≤–æ–ª
- `\xNN` - —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–π escape (2 —Ü–∏—Ñ—Ä—ã)
- `\u{XXXX}` - unicode escape (1-6 —Ü–∏—Ñ—Ä)

### –õ–∏—Ç–µ—Ä–∞–ª—ã —Ä—É–Ω

```hemlock
let ch = 'A';
let emoji = '(—Ä–∞–∫–µ—Ç–∞)';
let escaped = '\n';
let unicode = '\u{1F680}';
let hex_rune = '\x41';      // 'A'
```

### –ë—É–ª–µ–≤—ã –ª–∏—Ç–µ—Ä–∞–ª—ã

```hemlock
let t = true;
let f = false;
```

### –õ–∏—Ç–µ—Ä–∞–ª Null

```hemlock
let nothing = null;
```

## –ü—Ä–∞–≤–∏–ª–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

### –ë–ª–æ—á–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –±–ª–∏–∂–∞–π—à–∏–º –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–º –±–ª–æ–∫–æ–º:

```hemlock
let x = 1;  // –í–Ω–µ—à–Ω—è—è –æ–±–ª–∞—Å—Ç—å

if (true) {
    let x = 2;  // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ–±–ª–∞—Å—Ç—å (–∑–∞—Ç–µ–Ω—è–µ—Ç –≤–Ω–µ—à–Ω—é—é)
    print(x);   // 2
}

print(x);  // 1
```

### –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–π

–§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏:

```hemlock
let global = "global";

fn foo() {
    let local = "local";
    print(global);  // –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –≤–Ω–µ—à–Ω—é—é –æ–±–ª–∞—Å—Ç—å
}

foo();
// print(local);  // –û–®–ò–ë–ö–ê: 'local' –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∑–¥–µ—Å—å
```

### –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∑–∞–º—ã–∫–∞–Ω–∏–π

–ó–∞–º—ã–∫–∞–Ω–∏—è –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –æ—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–π –æ–±–ª–∞—Å—Ç–∏:

```hemlock
fn makeCounter() {
    let count = 0;
    return fn() {
        count = count + 1;  // –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç 'count'
        return count;
    };
}

let counter = makeCounter();
print(counter());  // 1
print(counter());  // 2
```

## –ü—Ä–æ–±–µ–ª—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û—Ç—Å—Ç—É–ø—ã

Hemlock –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç—Å—Ç—É–ø–∞, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4 –ø—Ä–æ–±–µ–ª–∞:

```hemlock
fn example() {
    if (true) {
        print("indented");
    }
}
```

### –†–∞–∑—Ä—ã–≤—ã —Å—Ç—Ä–æ–∫

–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫:

```hemlock
let result =
    very_long_function_name(
        arg1,
        arg2,
        arg3
    );
```

## –û–ø–µ—Ä–∞—Ç–æ—Ä Loop

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `loop` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤:

```hemlock
loop {
    // ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
    if (done) {
        break;
    }
}
```

–≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `while (true)`, –Ω–æ –¥–µ–ª–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –±–æ–ª–µ–µ —è—Å–Ω—ã–º.

## –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞

–°–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã –≤ Hemlock:

```
let, const, fn, if, else, while, for, in, loop, break, continue,
return, true, false, null, typeof, import, export, from,
try, catch, finally, throw, panic, async, await, spawn, join,
detach, channel, define, switch, case, default, extern, self,
type, defer, enum, ref, buffer, Self
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#language-guide-types) - –£–∑–Ω–∞–π—Ç–µ –æ —Å–∏—Å—Ç–µ–º–µ —Ç–∏–ø–æ–≤ Hemlock
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º](#language-guide-control-flow) - –£–≥–ª—É–±–ª–µ–Ω–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- [–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions) - –û—Å–≤–æ–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#language-guide-memory) - –ü–æ–Ω–∏–º–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –±—É—Ñ–µ—Ä–æ–≤


--------------------------------------------------------------------------------
## –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º
--------------------------------------------------------------------------------

# –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º —á–µ—Ä–µ–∑ –≤—ã—Ä–∞–∂–µ–Ω–∏—è `match`, –ø—Ä–µ–¥–ª–∞–≥–∞—è –ª–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø—ã –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏.

## –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
let result = match (value) {
    pattern1 => expression1,
    pattern2 => expression2,
    _ => default_expression
};
```

–í—ã—Ä–∞–∂–µ–Ω–∏—è match –≤—ã—á–∏—Å–ª—è—é—Ç `value` –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø–æ –ø–æ—Ä—è–¥–∫—É, –≤–æ–∑–≤—Ä–∞—â–∞—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π —Å–æ–≤–ø–∞–≤—à–µ–π –≤–µ—Ç–∫–∏.

## –¢–∏–ø—ã –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### –õ–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å —Ç–æ—á–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

```hemlock
let x = 42;
let msg = match (x) {
    0 => "zero",
    1 => "one",
    42 => "the answer",
    _ => "other"
};
print(msg);  // "the answer"
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã:
- **–¶–µ–ª—ã–µ —á–∏—Å–ª–∞**: `0`, `42`, `-5`
- **–ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π**: `3.14`, `-0.5`
- **–°—Ç—Ä–æ–∫–∏**: `"hello"`, `"world"`
- **–ë—É–ª–µ–≤—ã**: `true`, `false`
- **Null**: `null`

### –ü–∞—Ç—Ç–µ—Ä–Ω-–∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—å (`_`)

–°–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ª—é–±—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –±–µ–∑ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è:

```hemlock
let x = "anything";
let result = match (x) {
    "specific" => "found it",
    _ => "wildcard matched"
};
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å–æ–≤–ø–∞–≤—à–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:

```hemlock
let x = 100;
let result = match (x) {
    0 => "zero",
    n => "value is " + n  // n —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ 100
};
print(result);  // "value is 100"
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ò–õ–ò (`|`)

–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏:

```hemlock
let x = 2;
let size = match (x) {
    1 | 2 | 3 => "small",
    4 | 5 | 6 => "medium",
    _ => "large"
};

// –†–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
let cmd = "quit";
let action = match (cmd) {
    "exit" | "quit" | "q" => "exiting",
    "help" | "h" | "?" => "showing help",
    _ => "unknown"
};
```

### Guard-–≤—ã—Ä–∞–∂–µ–Ω–∏—è (`if`)

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∫ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º:

```hemlock
let x = 15;
let category = match (x) {
    n if n < 0 => "negative",
    n if n == 0 => "zero",
    n if n < 10 => "small",
    n if n < 100 => "medium",
    n => "large: " + n
};
print(category);  // "medium"

// –°–ª–æ–∂–Ω—ã–µ guards
let y = 12;
let result = match (y) {
    n if n % 2 == 0 && n > 10 => "even and greater than 10",
    n if n % 2 == 0 => "even",
    n => "odd"
};
```

### –¢–∏–ø–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞:

```hemlock
let val = 42;
let desc = match (val) {
    num: i32 => "integer: " + num,
    str: string => "string: " + str,
    flag: bool => "boolean: " + flag,
    _ => "other type"
};
print(desc);  // "integer: 42"
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã: `i8`, `i16`, `i32`, `i64`, `u8`, `u16`, `u32`, `u64`, `f32`, `f64`, `bool`, `string`, `array`, `object`

## –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤

–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª–µ–π –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤:

```hemlock
let point = { x: 10, y: 20 };
let result = match (point) {
    { x, y } => "point at " + x + "," + y
};
print(result);  // "point at 10,20"

// –° –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ–ª–µ–π
let origin = { x: 0, y: 0 };
let name = match (origin) {
    { x: 0, y: 0 } => "origin",
    { x: 0, y } => "on y-axis at " + y,
    { x, y: 0 } => "on x-axis at " + x,
    { x, y } => "point at " + x + "," + y
};
print(name);  // "origin"
```

### –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤

–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞:

```hemlock
let arr = [1, 2, 3];
let desc = match (arr) {
    [] => "empty",
    [x] => "single: " + x,
    [x, y] => "pair: " + x + "," + y,
    [x, y, z] => "triple: " + x + "," + y + "," + z,
    _ => "many elements"
};
print(desc);  // "triple: 1,2,3"

// –° –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
let pair = [1, 2];
let result = match (pair) {
    [0, 0] => "both zero",
    [1, x] => "starts with 1, second is " + x,
    [x, 1] => "ends with 1",
    _ => "other"
};
print(result);  // "starts with 1, second is 2"
```

### Rest-–ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ (`...`)

–ó–∞—Ö–≤–∞—Ç –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

```hemlock
let nums = [1, 2, 3, 4, 5];

// –ì–æ–ª–æ–≤–∞ –∏ —Ö–≤–æ—Å—Ç
let result = match (nums) {
    [first, ...rest] => "first: " + first,
    [] => "empty"
};
print(result);  // "first: 1"

// –ü–µ—Ä–≤—ã–µ –¥–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
let result2 = match (nums) {
    [a, b, ...rest] => "first two: " + a + "," + b,
    _ => "too short"
};
print(result2);  // "first two: 1,2"
```

### –í–ª–æ–∂–µ–Ω–Ω–∞—è –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è

–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```hemlock
let user = {
    name: "Alice",
    address: { city: "NYC", zip: 10001 }
};

let result = match (user) {
    { name, address: { city, zip } } => name + " lives in " + city,
    _ => "unknown"
};
print(result);  // "Alice lives in NYC"

// –û–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–∞—Å—Å–∏–≤
let data = { items: [1, 2, 3], count: 3 };
let result2 = match (data) {
    { items: [first, ...rest], count } => "first: " + first + ", total: " + count,
    _ => "no items"
};
print(result2);  // "first: 1, total: 3"
```

## Match –∫–∞–∫ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

Match —ç—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ:

```hemlock
// –ü—Ä—è–º–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
let grade = 85;
let letter = match (grade) {
    n if n >= 90 => "A",
    n if n >= 80 => "B",
    n if n >= 70 => "C",
    n if n >= 60 => "D",
    _ => "F"
};

// –í –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫
let msg = "Grade: " + match (grade) {
    n if n >= 70 => "passing",
    _ => "failing"
};

// –í –≤–æ–∑–≤—Ä–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏
fn classify(n: i32): string {
    return match (n) {
        0 => "zero",
        n if n > 0 => "positive",
        _ => "negative"
    };
}
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –æ–±—Ä–∞–∑—Ü–æ–º

1. **–ü–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω**: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑; –ø–æ–º–µ—â–∞–π—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–µ—Ä–µ–¥ –æ–±—â–∏–º–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã**: –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π—Ç–µ –∑–∞–ø–∞—Å–Ω–æ–π `_` –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ –≤—Å–µ —Å–ª—É—á–∞–∏ –ø–æ–∫—Ä—ã—Ç—ã
3. **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ guards –≤–ª–æ–∂–µ–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º**: Guards –¥–µ–ª–∞—é—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ —è—Å–Ω–µ–µ
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—é –≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—è–º**: –ë–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ

```hemlock
// –•–æ—Ä–æ—à–æ: Guards –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
match (score) {
    n if n >= 90 => "A",
    n if n >= 80 => "B",
    _ => "below B"
}

// –•–æ—Ä–æ—à–æ: –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—è–º
match (point) {
    { x: 0, y: 0 } => "origin",
    { x, y } => "at " + x + "," + y
}

// –ò–∑–±–µ–≥–∞–π—Ç–µ: –°–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
// –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ match –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ guards
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —è–∑—ã–∫–∞–º–∏

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | Hemlock | Rust | JavaScript |
|-------------|---------|------|------------|
| –ë–∞–∑–æ–≤–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ | `match (x) { ... }` | `match x { ... }` | `switch (x) { ... }` |
| –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è | –î–∞ | –î–∞ | –ß–∞—Å—Ç–∏—á–Ω–æ (switch –Ω–µ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç) |
| Guards | `n if n > 0 =>` | `n if n > 0 =>` | –ù/–î |
| –ò–õ–ò –ø–∞—Ç—Ç–µ—Ä–Ω—ã | `1 \| 2 \| 3 =>` | `1 \| 2 \| 3 =>` | `case 1: case 2: case 3:` |
| Rest –ø–∞—Ç—Ç–µ—Ä–Ω—ã | `[a, ...rest]` | `[a, rest @ ..]` | –ù/–î |
| –¢–∏–ø–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã | `n: i32` | –¢–∏–ø —á–µ—Ä–µ–∑ `match` –≤–µ—Ç–∫—É | –ù/–î |
| –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ | –î–∞ | –î–∞ | –ù–µ—Ç (–æ–ø–µ—Ä–∞—Ç–æ—Ä) |

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –æ–±–æ–∏—Ö –±—ç–∫–µ–Ω–¥–∞—Ö - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–µ –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ - —Å –ø–æ–ª–Ω—ã–º –ø–∞—Ä–∏—Ç–µ—Ç–æ–º: –æ–±–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –≤—Ö–æ–¥–∞. –§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Hemlock v1.8.0+.


--------------------------------------------------------------------------------
## –°—Ç—Ä–æ–∫–∏
--------------------------------------------------------------------------------

# –°—Ç—Ä–æ–∫–∏

–°—Ç—Ä–æ–∫–∏ Hemlock - —ç—Ç–æ **–∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ UTF-8 –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞** —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Unicode –∏ –±–æ–≥–∞—Ç—ã–º –Ω–∞–±–æ—Ä–æ–º –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º–Ω–æ–≥–∏—Ö —è–∑—ã–∫–æ–≤, —Å—Ç—Ä–æ–∫–∏ Hemlock –∏–∑–º–µ–Ω—è–µ–º—ã –∏ –Ω–∞—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ Unicode.

## –û–±–∑–æ—Ä

```hemlock
let s = "hello";
s[0] = 'H';             // –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é rune (—Ç–µ–ø–µ—Ä—å "Hello")
print(s.length);        // 5 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫)
let c = s[0];           // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç rune (–∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É Unicode)
let msg = s + " world"; // –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è
let emoji = "(—Ä–∞–∫–µ—Ç–∞)";
print(emoji.length);    // 1 (–æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)
print(emoji.byte_length); // 4 (—á–µ—Ç—ã—Ä–µ –±–∞–π—Ç–∞ UTF-8)
```

## –°–≤–æ–π—Å—Ç–≤–∞

–°—Ç—Ä–æ–∫–∏ Hemlock –∏–º–µ—é—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8** - –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode (U+0000 –¥–æ U+10FFFF)
- **–ò–∑–º–µ–Ω—è–µ–º—ã–µ** - –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç—Ä–æ–∫ Python, JavaScript –∏ Java
- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ –∫–æ–¥–æ–≤—ã–º —Ç–æ—á–∫–∞–º** - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `rune` (–∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É Unicode), –Ω–µ –±–∞–π—Ç
- **–†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ –∫—É—á–µ** - –° –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –µ–º–∫–æ—Å—Ç–∏
- **–î–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª–∏–Ω—ã**:
  - `.length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ (—á–∏—Å–ª–æ —Å–∏–º–≤–æ–ª–æ–≤)
  - `.byte_length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç (—Ä–∞–∑–º–µ—Ä –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8)

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ UTF-8

–í—Å–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å **–∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏** (—Å–∏–º–≤–æ–ª–∞–º–∏), –Ω–µ —Å –±–∞–π—Ç–∞–º–∏:

```hemlock
let text = "Hello(—Ä–∞–∫–µ—Ç–∞)World";
print(text.length);        // 11 (–∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫)
print(text.byte_length);   // 15 (–±–∞–π—Ç, —ç–º–æ–¥–∑–∏ –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞)

// –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏
let h = text[0];           // 'H' (rune)
let rocket = text[5];      // '(—Ä–∞–∫–µ—Ç–∞)' (rune)
```

**–ú–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –∫–∞–∫ –æ–¥–∏–Ω:**
```hemlock
"Hello".length;      // 5
"(—Ä–∞–∫–µ—Ç–∞)".length;   // 1 (–æ–¥–∏–Ω —ç–º–æ–¥–∑–∏)
"(–ø—Ä–∏–≤–µ—Ç)".length;   // 2 (–¥–≤–∞ –∫–∏—Ç–∞–π—Å–∫–∏—Ö —Å–∏–º–≤–æ–ª–∞)
"cafe".length;       // 4 (e —Å —É–¥–∞—Ä–µ–Ω–∏–µ–º - –æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)
```

## –°—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã

```hemlock
// –ë–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏
let s1 = "hello";
let s2 = "world";

// –° escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏
let s3 = "Line 1\nLine 2\ttabbed";
let s4 = "Quote: \"Hello\"";
let s5 = "Backslash: \\";

// Unicode —Å–∏–º–≤–æ–ª—ã
let s6 = "(—Ä–∞–∫–µ—Ç–∞) Emoji";
let s7 = "(–∫–∏—Ç–∞–π—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã)";
```

## –®–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å—Ç—Ä–æ–∫)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫ —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏:

```hemlock
let name = "Alice";
let age = 30;

// –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
let greeting = `Hello, ${name}!`;           // "Hello, Alice!"
let info = `${name} is ${age} years old`;   // "Alice is 30 years old"

// –í—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏
let x = 5;
let y = 10;
let sum = `${x} + ${y} = ${x + y}`;         // "5 + 10 = 15"

// –í—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤
let upper = `Name: ${name.to_upper()}`;     // "Name: ALICE"

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
let person = { name: "Bob", city: "NYC" };
let desc = `${person.name} lives in ${person.city}`;  // "Bob lives in NYC"

// –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫)
let multi = `Line 1
Line 2
Line 3`;
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫:**
- –í—ã—Ä–∞–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ `${...}` –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫–∏
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π, –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫—É)
- –°—Ç—Ä–æ–∫–∏ —Å –æ–±—Ä–∞—Ç–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ç–µ –∂–µ escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á—Ç–æ –∏ –æ–±—ã—á–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–æ–∫ –±–µ–∑ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏

### –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö

–ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –±—É–∫–≤–∞–ª—å–Ω—ã–π `${` –≤ —à–∞–±–ª–æ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É, —ç–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ –∑–Ω–∞–∫ –¥–æ–ª–ª–∞—Ä–∞:

```hemlock
let price = 100;
let text = `Price: \${price} or ${price}`;
// "Price: ${price} or 100"

// –ë—É–∫–≤–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è –∫–∞–≤—ã—á–∫–∞
let code = `Use \` for template strings`;
// "Use ` for template strings"
```

### –°–ª–æ–∂–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

–®–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±–æ–µ –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:

```hemlock
// –¢–µ—Ä–Ω–∞—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
let age = 25;
let status = `Status: ${age >= 18 ? "adult" : "minor"}`;

// –î–æ—Å—Ç—É–ø –∫ –º–∞—Å—Å–∏–≤—É
let items = ["apple", "banana", "cherry"];
let first = `First item: ${items[0]}`;

// –í—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
fn format_price(p) { return "$" + p; }
let msg = `Total: ${format_price(99.99)}`;  // "Total: $99.99"

// –¶–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤
let name = "alice";
let formatted = `Hello, ${name.to_upper().slice(0, 1)}${name.slice(1)}!`;
// "Hello, Alice!"
```

### –®–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ vs –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è

–®–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ —á–∞—Å—Ç–æ —á–∏—â–µ —á–µ–º –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è:

```hemlock
// –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è (—Å–ª–æ–∂–Ω–µ–µ —á–∏—Ç–∞—Ç—å)
let msg1 = "Hello, " + name + "! You have " + count + " messages.";

// –®–∞–±–ª–æ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (–ª–µ–≥—á–µ —á–∏—Ç–∞—Ç—å)
let msg2 = `Hello, ${name}! You have ${count} messages.`;
```

## –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ

### –ß—Ç–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤

–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `rune` (–∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É Unicode):

```hemlock
let s = "Hello";
let first = s[0];      // 'H' (rune)
let last = s[4];       // 'o' (rune)

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "Hi(—Ä–∞–∫–µ—Ç–∞)!";
let rocket = emoji[2];  // '(—Ä–∞–∫–µ—Ç–∞)' (rune –ø–æ –∏–Ω–¥–µ–∫—Å—É –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ 2)
```

### –ó–∞–ø–∏—Å—å —Å–∏–º–≤–æ–ª–æ–≤

–°—Ç—Ä–æ–∫–∏ –∏–∑–º–µ–Ω—è–µ–º—ã - –≤—ã –º–æ–∂–µ—Ç–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã:

```hemlock
let s = "hello";
s[0] = 'H';            // –¢–µ–ø–µ—Ä—å "Hello"
s[4] = '!';            // –¢–µ–ø–µ—Ä—å "Hell!"

// –° Unicode
let msg = "Go!";
msg[0] = '(—Ä–∞–∫–µ—Ç–∞)';   // –¢–µ–ø–µ—Ä—å "(—Ä–∞–∫–µ—Ç–∞)o!"
```

## –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `+` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫:

```hemlock
let greeting = "Hello" + " " + "World";  // "Hello World"

// –° –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
let name = "Alice";
let msg = "Hi, " + name + "!";  // "Hi, Alice!"

// –° rune (—Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Runes)
let s = "Hello" + '!';          // "Hello!"
```

## –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 19 –º–µ—Ç–æ–¥–æ–≤ —Å—Ç—Ä–æ–∫ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–º.

### –ü–æ–¥—Å—Ç—Ä–æ–∫–∞ –∏ —Å—Ä–µ–∑—ã

**`substr(start, length)`** - –ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –ø–æ–∑–∏—Ü–∏–∏ –∏ –¥–ª–∏–Ω–µ:
```hemlock
let s = "hello world";
let sub = s.substr(6, 5);       // "world" (–Ω–∞—á–∞–ª–æ —Å 6, –¥–ª–∏–Ω–∞ 5)
let first = s.substr(0, 5);     // "hello"

// –ü—Ä–∏–º–µ—Ä UTF-8
let text = "Hi(—Ä–∞–∫–µ—Ç–∞)!";
let emoji = text.substr(2, 1);  // "(—Ä–∞–∫–µ—Ç–∞)" (–ø–æ–∑–∏—Ü–∏—è 2, –¥–ª–∏–Ω–∞ 1)
```

**`slice(start, end)`** - –ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É (end –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è):
```hemlock
let s = "hello world";
let slice = s.slice(0, 5);      // "hello" (–∏–Ω–¥–µ–∫—Å —Å 0 –¥–æ 4)
let slice2 = s.slice(6, 11);    // "world"
```

**–†–∞–∑–Ω–∏—Ü–∞:**
- `substr(start, length)` - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª–∏–Ω—ã
- `slice(start, end)` - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω–µ—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–Ω–µ –≤–∫–ª—é—á–∞—è)

### –ü–æ–∏—Å–∫

**`find(needle)`** - –ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ:
```hemlock
let s = "hello world";
let pos = s.find("world");      // 6 (–∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è)
let pos2 = s.find("foo");       // -1 (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ)
let pos3 = s.find("l");         // 2 (–ø–µ—Ä–≤–∞—è 'l')
```

**`contains(needle)`** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥—Å—Ç—Ä–æ–∫—É:
```hemlock
let s = "hello world";
let has = s.contains("world");  // true
let has2 = s.contains("foo");   // false
```

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏ –æ–±—Ä–µ–∑–∫–∞

**`split(delimiter)`** - –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫:
```hemlock
let csv = "apple,banana,cherry";
let parts = csv.split(",");     // ["apple", "banana", "cherry"]

let words = "one two three".split(" ");  // ["one", "two", "three"]

// –ü—É—Å—Ç–æ–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Ä–∞–∑–¥–µ–ª—è–µ—Ç –ø–æ —Å–∏–º–≤–æ–ª–∞–º
let chars = "abc".split("");    // ["a", "b", "c"]
```

**`trim()`** - –£–¥–∞–ª–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ/–∫–æ–Ω–µ—á–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã:
```hemlock
let s = "  hello  ";
let clean = s.trim();           // "hello"

let s2 = "\t\ntext\n\t";
let clean2 = s2.trim();         // "text"
```

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞

**`to_upper()`** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä:
```hemlock
let s = "hello world";
let upper = s.to_upper();       // "HELLO WORLD"

// –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–µ-ASCII
let s2 = "cafe";
let upper2 = s2.to_upper();     // "CAFE"
```

**`to_lower()`** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä:
```hemlock
let s = "HELLO WORLD";
let lower = s.to_lower();       // "hello world"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞/—Å—É—Ñ—Ñ–∏–∫—Å–∞

**`starts_with(prefix)`** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª–∏ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞:
```hemlock
let s = "hello world";
let starts = s.starts_with("hello");  // true
let starts2 = s.starts_with("world"); // false
```

**`ends_with(suffix)`** - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ª–∏ —Å—É—Ñ—Ñ–∏–∫—Å–æ–º:
```hemlock
let s = "hello world";
let ends = s.ends_with("world");      // true
let ends2 = s.ends_with("hello");     // false
```

### –ó–∞–º–µ–Ω–∞

**`replace(old, new)`** - –ó–∞–º–µ–Ω–∏—Ç—å –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ:
```hemlock
let s = "hello world";
let s2 = s.replace("world", "there");      // "hello there"

let s3 = "foo foo foo";
let s4 = s3.replace("foo", "bar");         // "bar foo foo" (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ)
```

**`replace_all(old, new)`** - –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è:
```hemlock
let s = "foo foo foo";
let s2 = s.replace_all("foo", "bar");      // "bar bar bar"

let s3 = "hello world, world!";
let s4 = s3.replace_all("world", "hemlock"); // "hello hemlock, hemlock!"
```

### –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ

**`repeat(count)`** - –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å—Ç—Ä–æ–∫—É n —Ä–∞–∑:
```hemlock
let s = "ha";
let laugh = s.repeat(3);        // "hahaha"

let line = "=".repeat(40);      // "========================================"
```

### –î–æ—Å—Ç—É–ø –∫ —Å–∏–º–≤–æ–ª–∞–º –∏ –±–∞–π—Ç–∞–º

**`char_at(index)`** - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É Unicode –ø–æ –∏–Ω–¥–µ–∫—Å—É (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç rune):
```hemlock
let s = "hello";
let char = s.char_at(0);        // 'h' (rune)

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "(—Ä–∞–∫–µ—Ç–∞)";
let rocket = emoji.char_at(0);  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç rune U+1F680
```

**`chars()`** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤ rune (–∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫):
```hemlock
let s = "hello";
let chars = s.chars();          // ['h', 'e', 'l', 'l', 'o'] (–º–∞—Å—Å–∏–≤ rune)

// –ü—Ä–∏–º–µ—Ä UTF-8
let text = "Hi(—Ä–∞–∫–µ—Ç–∞)";
let chars2 = text.chars();      // ['H', 'i', '(—Ä–∞–∫–µ—Ç–∞)']
```

**`byte_at(index)`** - –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–π—Ç–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç u8):
```hemlock
let s = "hello";
let byte = s.byte_at(0);        // 104 (ASCII –∑–Ω–∞—á–µ–Ω–∏–µ 'h')

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "(—Ä–∞–∫–µ—Ç–∞)";
let first_byte = emoji.byte_at(0);  // 240 (–ø–µ—Ä–≤—ã–π –±–∞–π—Ç UTF-8)
```

**`bytes()`** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç (–∑–Ω–∞—á–µ–Ω–∏–π u8):
```hemlock
let s = "hello";
let bytes = s.bytes();          // [104, 101, 108, 108, 111] (–º–∞—Å—Å–∏–≤ u8)

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "(—Ä–∞–∫–µ—Ç–∞)";
let bytes2 = emoji.bytes();     // [240, 159, 154, 128] (4 –±–∞–π—Ç–∞ UTF-8)
```

**`to_bytes()`** - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –¥–ª—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:
```hemlock
let s = "hello";
let buf = s.to_bytes();         // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±—É—Ñ–µ—Ä —Å –±–∞–π—Ç–∞–º–∏ UTF-8
print(buf.length);              // 5
free(buf);                      // –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å
```

## –¶–µ–ø–æ—á–∫–∞ –º–µ—Ç–æ–¥–æ–≤

–í—Å–µ –º–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏, –ø–æ–∑–≤–æ–ª—è—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫–∏:

```hemlock
let result = "  Hello World  "
    .trim()
    .to_lower()
    .replace("world", "hemlock");  // "hello hemlock"

let processed = "foo,bar,baz"
    .split(",")
    .join(" | ")
    .to_upper();                    // "FOO | BAR | BAZ"
```

## –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –º–µ—Ç–æ–¥–∞–º

| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|------------|----------|
| `substr(start, length)` | i32, i32 | string | –ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –ø–æ–∑–∏—Ü–∏–∏ –∏ –¥–ª–∏–Ω–µ |
| `slice(start, end)` | i32, i32 | string | –ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É (end –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è) |
| `find(needle)` | string | i32 | –ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ (-1 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ) |
| `contains(needle)` | string | bool | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ |
| `split(delimiter)` | string | array | –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ |
| `trim()` | - | string | –£–¥–∞–ª–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ/–∫–æ–Ω–µ—á–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã |
| `to_upper()` | - | string | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä |
| `to_lower()` | - | string | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä |
| `starts_with(prefix)` | string | bool | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∞–ª–æ –Ω–∞ –ø—Ä–µ—Ñ–∏–∫—Å |
| `ends_with(suffix)` | string | bool | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–µ—Ü –Ω–∞ —Å—É—Ñ—Ñ–∏–∫—Å |
| `replace(old, new)` | string, string | string | –ó–∞–º–µ–Ω–∏—Ç—å –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ |
| `replace_all(old, new)` | string, string | string | –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è |
| `repeat(count)` | i32 | string | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å—Ç—Ä–æ–∫—É n —Ä–∞–∑ |
| `char_at(index)` | i32 | rune | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É –ø–æ –∏–Ω–¥–µ–∫—Å—É |
| `byte_at(index)` | i32 | u8 | –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–π—Ç–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É |
| `chars()` | - | array | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤ rune |
| `bytes()` | - | array | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç u8 |
| `to_bytes()` | - | buffer | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä (–Ω—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å) |

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

```hemlock
fn process_input(text: string): string {
    return text
        .trim()
        .to_lower()
        .replace_all("  ", " ");  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–µ–ª–æ–≤
}

let input = "  HELLO   WORLD  ";
let clean = process_input(input);  // "hello world"
```

### –ü—Ä–∏–º–µ—Ä: –ü–∞—Ä—Å–µ—Ä CSV

```hemlock
fn parse_csv_line(line: string): array {
    let trimmed = line.trim();
    let fields = trimmed.split(",");

    let result = [];
    let i = 0;
    while (i < fields.length) {
        result.push(fields[i].trim());
        i = i + 1;
    }

    return result;
}

let csv = "apple, banana , cherry";
let fields = parse_csv_line(csv);  // ["apple", "banana", "cherry"]
```

### –ü—Ä–∏–º–µ—Ä: –°—á–µ—Ç—á–∏–∫ —Å–ª–æ–≤

```hemlock
fn count_words(text: string): i32 {
    let words = text.trim().split(" ");
    return words.length;
}

let sentence = "The quick brown fox";
let count = count_words(sentence);  // 4
```

### –ü—Ä–∏–º–µ—Ä: –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä–æ–∫

```hemlock
fn is_valid_email(email: string): bool {
    if (!email.contains("@")) {
        return false;
    }

    if (!email.contains(".")) {
        return false;
    }

    if (email.starts_with("@") || email.ends_with("@")) {
        return false;
    }

    return true;
}

print(is_valid_email("user@example.com"));  // true
print(is_valid_email("invalid"));            // false
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

–°—Ç—Ä–æ–∫–∏ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ –∫—É—á–µ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –ø–æ–¥—Å—á–µ—Ç–æ–º —Å—Å—ã–ª–æ–∫:

- **–°–æ–∑–¥–∞–Ω–∏–µ**: –†–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ –∫—É—á–µ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –µ–º–∫–æ—Å—Ç–∏
- **–ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è**: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É (—Å—Ç–∞—Ä—ã–µ —Å—Ç—Ä–æ–∫–∏ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è)
- **–ú–µ—Ç–æ–¥—ã**: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏
- **–í—Ä–µ–º—è –∂–∏–∑–Ω–∏**: –°—Ç—Ä–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞:**
```hemlock
fn create_strings() {
    let s = "hello";
    let s2 = s + " world";  // –ù–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ
}  // –û–±–µ s –∏ s2 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `free()` —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–Ω–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏ –¥–æ –∫–æ–Ω—Ü–∞ –æ–±–ª–∞—Å—Ç–∏ –∏–ª–∏ –¥–ª—è –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö/–≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –°–º. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](memory.md#internal-reference-counting) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ø–æ –∫–æ–¥–æ–≤—ã–º —Ç–æ—á–∫–∞–º** - –°—Ç—Ä–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–∑–∏—Ü–∏–∏ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫, –Ω–µ –±–∞–π—Ç–æ–≤—ã–µ —Å–º–µ—â–µ–Ω–∏—è
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å Unicode** - –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
3. **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –Ω–µ–∏–∑–º–µ–Ω—è—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏, –∞ –Ω–µ –º—É—Ç–∞—Ü–∏—é
4. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã** - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null/–æ—à–∏–±–∫—É –ø—Ä–∏ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–º)
5. **–ù–æ—Ä–º–∞–ª–∏–∑—É–π—Ç–µ –≤–≤–æ–¥** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `trim()` –∏ `to_lower()` –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≤—É—à–∫–∏

### –õ–æ–≤—É—à–∫–∞: –ü—É—Ç–∞–Ω–∏—Ü–∞ –±–∞–π—Ç vs –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞

```hemlock
let emoji = "(—Ä–∞–∫–µ—Ç–∞)";
print(emoji.length);        // 1 (–∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)
print(emoji.byte_length);   // 4 (–±–∞–π—Ç—ã)

// –ù–µ —Å–º–µ—à–∏–≤–∞–π—Ç–µ –±–∞–π—Ç–æ–≤—ã–µ –∏ –∫–æ–¥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
let byte = emoji.byte_at(0);  // 240 (–ø–µ—Ä–≤—ã–π –±–∞–π—Ç)
let char = emoji.char_at(0);  // '(—Ä–∞–∫–µ—Ç–∞)' (–ø–æ–ª–Ω–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)
```

### –õ–æ–≤—É—à–∫–∞: –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–∏ –º—É—Ç–∞—Ü–∏–∏

```hemlock
let s1 = "hello";
let s2 = s1;       // –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è
s1[0] = 'H';       // –ò–∑–º–µ–Ω—è–µ—Ç s1
print(s2);         // –í—Å–µ –µ—â–µ "hello" (—Å—Ç—Ä–æ–∫–∏ - —Ç–∏–ø—ã –∑–Ω–∞—á–µ–Ω–∏–π)
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–†—É–Ω—ã](#language-guide-runes) - –¢–∏–ø –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ Unicode, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫
- [–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays) - –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ —á–∞—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∏–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- [–¢–∏–ø—ã](#language-guide-types) - –î–µ—Ç–∞–ª–∏ —Ç–∏–ø–∞ string –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

## –°–º. —Ç–∞–∫–∂–µ

- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8**: –°–º. —Ä–∞–∑–¥–µ–ª "–°—Ç—Ä–æ–∫–∏" –≤ CLAUDE.md
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤**: –°–º. [–¢–∏–ø—ã](#language-guide-types) –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π —Å—Ç—Ä–æ–∫
- **–ü–∞–º—è—Ç—å**: –°–º. [–ü–∞–º—è—Ç—å](#language-guide-memory) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Ç—Ä–æ–∫


--------------------------------------------------------------------------------
## –¢–∏–ø—ã
--------------------------------------------------------------------------------

# –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤

Hemlock –∏–º–µ–µ—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤** —Å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Ç–∏–ø–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

---

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—ã–±–æ—Ä—É —Ç–∏–ø–æ–≤: –ö–∞–∫–æ–π —Ç–∏–ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

**–ù–æ–≤–∏—á–æ–∫ –≤ —Ç–∏–ø–∞—Ö?** –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å. –ï—Å–ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —Ç–∏–ø–æ–≤, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Ä–∞–∑–¥–µ–ª—É [–§–∏–ª–æ—Å–æ—Ñ–∏—è](#—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è).

### –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–ü—Ä–æ—Å—Ç–æ –ø–æ–∑–≤–æ–ª—å—Ç–µ Hemlock —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è:**

```hemlock
let count = 42;        // Hemlock –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
let price = 19.99;     // Hemlock –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –¥–µ—Å—è—Ç–∏—á–Ω–æ–µ
let name = "Alice";    // Hemlock –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ —Ç–µ–∫—Å—Ç
let active = true;     // Hemlock –∑–Ω–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –¥–∞/–Ω–µ—Ç
```

Hemlock –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è –≤–∞—à–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –í–∞–º *–Ω–µ –Ω—É–∂–Ω–æ* —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø—ã.

### –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

–î–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∏–ø—ã, –∫–æ–≥–¥–∞ —Ö–æ—Ç–∏—Ç–µ:

1. **–ë—ã—Ç—å —Ç–æ—á–Ω—ã–º –≤ —Ä–∞–∑–º–µ—Ä–µ** - `i8` vs `i64` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–∞–º—è—Ç–∏ –∏–ª–∏ FFI
2. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥** - –¢–∏–ø—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –æ–∂–∏–¥–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è
3. **–õ–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏ —Ä–∞–Ω—å—à–µ** - Hemlock –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```hemlock
// –ë–µ–∑ —Ç–∏–ø–æ–≤ (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ):
fn add(a, b) {
    return a + b;
}

// –° —Ç–∏–ø–∞–º–∏ (–±–æ–ª–µ–µ —è–≤–Ω–æ):
fn add(a: i32, b: i32): i32 {
    return a + b;
}
```

### –ö—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –í—ã–±–æ—Ä —á–∏—Å–ª–æ–≤—ã—Ö —Ç–∏–ø–æ–≤

| –ß—Ç–æ –≤—ã —Ö—Ä–∞–Ω–∏—Ç–µ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ç–∏–ø | –ü—Ä–∏–º–µ—Ä |
|----------------|-------------------|--------|
| –û–±—ã—á–Ω—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ | `i32` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | `let count = 42;` |
| –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞ | `i64` | `let population = 8000000000;` |
| –ù–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —Å—á–µ—Ç—á–∏–∫–∏ | `u32` | `let items: u32 = 100;` |
| –ë–∞–π—Ç—ã (0-255) | `u8` | `let pixel: u8 = 255;` |
| –î–µ—Å—è—Ç–∏—á–Ω—ã–µ/–¥—Ä–æ–±–Ω—ã–µ | `f64` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | `let price = 19.99;` |
| –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ | `f32` | `let x: f32 = 1.5;` |

### –ö—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫: –í—Å–µ —Ç–∏–ø—ã

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–∏–ø—ã | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|-----------|------|-------------------|
| **–¶–µ–ª—ã–µ —á–∏—Å–ª–∞** | `i8`, `i16`, `i32`, `i64` | –°—á–µ—Ç—á–∏–∫–∏, ID, –≤–æ–∑—Ä–∞—Å—Ç –∏ —Ç.–¥. |
| **–¢–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞** | `u8`, `u16`, `u32`, `u64` | –ë–∞–π—Ç—ã, —Ä–∞–∑–º–µ—Ä—ã, –¥–ª–∏–Ω—ã –º–∞—Å—Å–∏–≤–æ–≤ |
| **–î–µ—Å—è—Ç–∏—á–Ω—ã–µ** | `f32`, `f64` | –î–µ–Ω—å–≥–∏, –∏–∑–º–µ—Ä–µ–Ω–∏—è, –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ |
| **–î–∞/–ù–µ—Ç** | `bool` | –§–ª–∞–≥–∏, —É—Å–ª–æ–≤–∏—è |
| **–¢–µ–∫—Å—Ç** | `string` | –ò–º–µ–Ω–∞, —Å–æ–æ–±—â–µ–Ω–∏—è, –ª—é–±–æ–π —Ç–µ–∫—Å—Ç |
| **–û–¥–∏–Ω —Å–∏–º–≤–æ–ª** | `rune` | –û—Ç–¥–µ–ª—å–Ω—ã–µ –±—É–∫–≤—ã, —ç–º–æ–¥–∑–∏ |
| **–°–ø–∏—Å–∫–∏** | `array` | –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π |
| **–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è** | `object` | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| **–°—ã—Ä–∞—è –ø–∞–º—è—Ç—å** | `ptr`, `buffer` | –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **–ù–∏—á–µ–≥–æ** | `null` | –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è |

### –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**"–ú–Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ —á–∏—Å–ª–æ"**
```hemlock
let x = 42;  // –ì–æ—Ç–æ–≤–æ! Hemlock –≤—ã–±–∏—Ä–∞–µ—Ç i32
```

**"–ú–Ω–µ –Ω—É–∂–Ω—ã –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ"**
```hemlock
let price = 19.99;  // –ì–æ—Ç–æ–≤–æ! Hemlock –≤—ã–±–∏—Ä–∞–µ—Ç f64
```

**"–Ø —Ä–∞–±–æ—Ç–∞—é —Å –±–∞–π—Ç–∞–º–∏ (—Ñ–∞–π–ª—ã, —Å–µ—Ç—å)"**
```hemlock
let byte: u8 = 255;  // –î–∏–∞–ø–∞–∑–æ–Ω 0-255
```

**"–ú–Ω–µ –Ω—É–∂–Ω—ã –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞"**
```hemlock
let big = 9000000000000;  // Hemlock –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç i64 (> i32 max)
// –ò–ª–∏ —è–≤–Ω–æ:
let big: i64 = 9000000000000;
```

**"–Ø —Ö—Ä–∞–Ω—é –¥–µ–Ω—å–≥–∏"**
```hemlock
// –í–∞—Ä–∏–∞–Ω—Ç 1: Float (–ø—Ä–æ—Å—Ç–æ, –Ω–æ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏)
let price: f64 = 19.99;

// –í–∞—Ä–∏–∞–Ω—Ç 2: –•—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —Ü–µ–Ω—Ç—ã (–±–æ–ª–µ–µ —Ç–æ—á–Ω–æ)
let price_cents: i32 = 1999;  // $19.99 –∫–∞–∫ —Ü–µ–ª—ã–µ —Ü–µ–Ω—Ç—ã
```

**"–Ø –ø–µ—Ä–µ–¥–∞—é –¥–∞–Ω–Ω—ã–µ –≤ C-–∫–æ–¥ (FFI)"**
```hemlock
// –¢–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–π—Ç–µ —Ç–∏–ø–∞–º C
let c_int: i32 = 100;      // C 'int'
let c_long: i64 = 100;     // C 'long' (–Ω–∞ 64-–±–∏—Ç)
let c_char: u8 = 65;       // C 'char'
let c_double: f64 = 3.14;  // C 'double'
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ —Å–º–µ—à–∏–≤–∞–Ω–∏–∏ —Ç–∏–ø–æ–≤?

–ö–æ–≥–¥–∞ –≤—ã –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã, Hemlock –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç –∫ "–±–æ–ª—å—à–µ–º—É" —Ç–∏–ø—É:

```hemlock
let a: i32 = 10;
let b: f64 = 2.5;
let result = a + b;  // result —ç—Ç–æ f64 (12.5)
// –¶–µ–ª–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–ª–æ –¥–µ—Å—è—Ç–∏—á–Ω—ã–º
```

**–ü—Ä–∞–≤–∏–ª–æ –±–æ–ª—å—à–æ–≥–æ –ø–∞–ª—å—Ü–∞:** –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –≤—Å–µ–≥–¥–∞ "–ø–æ–±–µ–∂–¥–∞—é—Ç" - —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –ª—é–±–æ–≥–æ —Ü–µ–ª–æ–≥–æ —Å float –¥–∞–µ—Ç float.

### –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤

–ï—Å–ª–∏ –≤—ã –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø, Hemlock —Å–æ–æ–±—â–∏—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```hemlock
let age: i32 = "thirty";  // –û–®–ò–ë–ö–ê: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ - –æ–∂–∏–¥–∞–ª—Å—è i32, –ø–æ–ª—É—á–µ–Ω string
```

–î–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Ç–∏–ø–æ–≤:

```hemlock
let text = "42";
let number = i32(text);   // –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫–∏ –≤ —Ü–µ–ª–æ–µ: 42
let back = text + "";     // –£–∂–µ —Å—Ç—Ä–æ–∫–∞
```

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è

- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - –ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ç–µ–≥ —Ç–∏–ø–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –≤—ã–±–æ—Ä—É** - –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–Ø–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è** - –ù–µ—è–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å–ª–µ–¥—É—é—Ç —á–µ—Ç–∫–∏–º –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è
- **–ß–µ—Å—Ç–Ω—ã–π –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ —Ç–∏–ø–æ–≤** - `typeof()` –≤—Å–µ–≥–¥–∞ –≥–æ–≤–æ—Ä–∏—Ç –ø—Ä–∞–≤–¥—É

## –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã

### –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã

**–ó–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ:**
```hemlock
let tiny: i8 = 127;              // 8-–±–∏—Ç  (-128 –¥–æ 127)
let small: i16 = 32767;          // 16-–±–∏—Ç (-32768 –¥–æ 32767)
let normal: i32 = 2147483647;    // 32-–±–∏—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
let large: i64 = 9223372036854775807;  // 64-–±–∏—Ç
```

**–ë–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ:**
```hemlock
let byte: u8 = 255;              // 8-–±–∏—Ç  (0 –¥–æ 255)
let word: u16 = 65535;           // 16-–±–∏—Ç (0 –¥–æ 65535)
let dword: u32 = 4294967295;     // 32-–±–∏—Ç (0 –¥–æ 4294967295)
let qword: u64 = 18446744073709551615;  // 64-–±–∏—Ç
```

**–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤:**
```hemlock
let i: integer = 42;   // –ü—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è i32
let b: byte = 255;     // –ü—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è u8
```

### –¢–∏–ø—ã —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π

```hemlock
let f: f32 = 3.14159;        // 32-–±–∏—Ç float
let d: f64 = 2.718281828;    // 64-–±–∏—Ç float (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
let n: number = 1.618;       // –ü—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è f64
```

### –ë—É–ª–µ–≤ —Ç–∏–ø

```hemlock
let flag: bool = true;
let active: bool = false;
```

### –°—Ç—Ä–æ–∫–æ–≤—ã–π —Ç–∏–ø

```hemlock
let text: string = "Hello, World!";
let empty: string = "";
```

–°—Ç—Ä–æ–∫–∏ —è–≤–ª—è—é—Ç—Å—è **–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏**, **–∫–æ–¥–∏—Ä—É—é—Ç—Å—è –≤ UTF-8** –∏ **—Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ –∫—É—á–µ**.

–°–º. [–°—Ç—Ä–æ–∫–∏](#language-guide-strings) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

### –¢–∏–ø Rune

```hemlock
let ch: rune = 'A';
let emoji: rune = '(—Ä–∞–∫–µ—Ç–∞)';
let newline: rune = '\n';
let unicode: rune = '\u{1F680}';
```

–†—É–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç **–∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ Unicode** (U+0000 –¥–æ U+10FFFF).

–°–º. [–†—É–Ω—ã](#language-guide-runes) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

### –¢–∏–ø Null

```hemlock
let nothing = null;
let uninitialized: string = null;
```

`null` - —ç—Ç–æ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–∏–ø —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

## –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã

### –¢–∏–ø Array

```hemlock
let numbers: array = [1, 2, 3, 4, 5];
let mixed = [1, "two", true, null];  // –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
let empty: array = [];
```

–°–º. [–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

### –¢–∏–ø Object

```hemlock
let obj: object = { x: 10, y: 20 };
let person = { name: "Alice", age: 30 };
```

–°–º. [–û–±—ä–µ–∫—Ç—ã](#language-guide-objects) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

### –¢–∏–ø—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

**–°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å:**
```hemlock
let p: ptr = alloc(64);
// –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü, —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
free(p);
```

**–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä:**
```hemlock
let buf: buffer = buffer(64);
// –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –¥–ª–∏–Ω—É –∏ –µ–º–∫–æ—Å—Ç—å
free(buf);
```

–°–º. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#language-guide-memory) –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## –¢–∏–ø—ã Enum

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –Ω–∞–±–æ—Ä –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç:

### –ë–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è

```hemlock
enum Color {
    RED,
    GREEN,
    BLUE
}

let c = Color.RED;
print(c);              // 0
print(typeof(c));      // "Color"

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ
if (c == Color.RED) {
    print("It's red!");
}

// Switch –ø–æ enum
switch (c) {
    case Color.RED:
        print("Stop");
        break;
    case Color.GREEN:
        print("Go");
        break;
    case Color.BLUE:
        print("Blue?");
        break;
}
```

### –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –∏–º–µ—Ç—å —è–≤–Ω—ã–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```hemlock
enum Status {
    OK = 0,
    ERROR = 1,
    PENDING = 2
}

print(Status.OK);      // 0
print(Status.ERROR);   // 1

enum HttpCode {
    OK = 200,
    NOT_FOUND = 404,
    SERVER_ERROR = 500
}

let code = HttpCode.NOT_FOUND;
print(code);           // 404
```

### –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ë–µ–∑ —è–≤–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –æ—Ç 0:

```hemlock
enum Priority {
    LOW,       // 0
    MEDIUM,    // 1
    HIGH,      // 2
    CRITICAL   // 3
}

// –ú–æ–∂–Ω–æ —Å–º–µ—à–∏–≤–∞—Ç—å —è–≤–Ω—ã–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
enum Level {
    DEBUG = 10,
    INFO,      // 11
    WARN,      // 12
    ERROR = 50,
    FATAL      // 51
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Enum

```hemlock
// –ö–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π
fn set_priority(p: Priority) {
    if (p == Priority.CRITICAL) {
        print("Urgent!");
    }
}

set_priority(Priority.HIGH);

// –í –æ–±—ä–µ–∫—Ç–∞—Ö
define Task {
    name: string,
    priority: Priority
}

let task: Task = {
    name: "Fix bug",
    priority: Priority.HIGH
};
```

## –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã

### –¢–∏–ø File

```hemlock
let f: file = open("data.txt", "r");
f.close();
```

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞.

### –¢–∏–ø Task

```hemlock
async fn compute(): i32 { return 42; }
let task = spawn(compute);
let result: i32 = join(task);
```

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏.

### –¢–∏–ø Channel

```hemlock
let ch: channel = channel(10);
ch.send(42);
let value = ch.recv();
```

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏.

### –¢–∏–ø Void

```hemlock
extern fn exit(code: i32): void;
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ FFI).

## –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤

### –í—ã–≤–æ–¥ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤

Hemlock –≤—ã–≤–æ–¥–∏—Ç —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–π:

```hemlock
let a = 42;              // i32 (–ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ 32-–±–∏—Ç)
let b = 5000000000;      // i64 (> i32 max)
let c = 128;             // i32
let d: u8 = 128;         // u8 (—è–≤–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è)
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ó–Ω–∞—á–µ–Ω–∏—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ i32 (-2147483648 –¥–æ 2147483647): –≤—ã–≤–æ–¥—è—Ç—Å—è –∫–∞–∫ `i32`
- –ó–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ i32, –Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö i64: –≤—ã–≤–æ–¥—è—Ç—Å—è –∫–∞–∫ `i64`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ (i8, i16, u8, u16, u32, u64)

### –í—ã–≤–æ–¥ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π

```hemlock
let x = 3.14;        // f64 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
let y: f32 = 3.14;   // f32 (—è–≤–Ω–æ)
```

### –ù–∞—É—á–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è

Hemlock –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–∞—É—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤:

```hemlock
let a = 1e10;        // 10000000000.0 (f64)
let b = 1e-12;       // 0.000000000001 (f64)
let c = 3.14e2;      // 314.0 (f64)
let d = 2.5e-3;      // 0.0025 (f64)
let e = 1E10;        // –†–µ–≥–∏—Å—Ç—Ä –Ω–µ –≤–∞–∂–µ–Ω
let f = 1e+5;        // –Ø–≤–Ω–∞—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç–∞
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –õ—é–±–æ–π –ª–∏—Ç–µ—Ä–∞–ª —Å –Ω–∞—É—á–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–µ–π –≤—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –∫–∞–∫ `f64`.

### –í—ã–≤–æ–¥ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤

```hemlock
let s = "hello";     // string
let ch = 'A';        // rune
let flag = true;     // bool
let arr = [1, 2, 3]; // array
let obj = { x: 10 }; // object
let nothing = null;  // null
```

## –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```hemlock
let age: i32 = 30;
let ratio: f64 = 1.618;
let name: string = "Alice";
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

```hemlock
fn greet(name: string, age: i32) {
    print("Hello, " + name + "!");
}
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–π

```hemlock
fn add(a: i32, b: i32): i32 {
    return a + b;
}
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ (—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è)

```hemlock
define Person {
    name: string,
    age: i32,
}

let p: Person = { name: "Bob", age: 25 };
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–æ **–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**, –∞ –Ω–µ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:

```hemlock
let x: i32 = 42;     // OK
let y: i32 = 3.14;   // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤

fn add(a: i32, b: i32): i32 {
    return a + b;
}

add(5, 3);           // OK
add(5, "hello");     // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤
```

### –ó–∞–ø—Ä–æ—Å—ã —Ç–∏–ø–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `typeof()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–π:

```hemlock
print(typeof(42));         // "i32"
print(typeof(3.14));       // "f64"
print(typeof("hello"));    // "string"
print(typeof(true));       // "bool"
print(typeof(null));       // "null"
print(typeof([1, 2, 3]));  // "array"
print(typeof({ x: 10 }));  // "object"
```

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤

### –ù–µ—è–≤–Ω–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

–ü—Ä–∏ —Å–º–µ—à–∏–≤–∞–Ω–∏–∏ —Ç–∏–ø–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö Hemlock –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç –∫ "–≤—ã—Å—à–µ–º—É" —Ç–∏–ø—É:

**–ò–µ—Ä–∞—Ä—Ö–∏—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è (–æ—Ç –Ω–∏–∑—à–µ–≥–æ –∫ –≤—ã—Å—à–µ–º—É):**
```
i8 -> i16 -> i32 -> u32 -> i64 -> u64 -> f32 -> f64
      ^      ^      ^
     u8     u16
```

**Float –≤—Å–µ–≥–¥–∞ –ø–æ–±–µ–∂–¥–∞–µ—Ç:**
```hemlock
let x: i32 = 10;
let y: f64 = 3.5;
let result = x + y;  // result —ç—Ç–æ f64 (13.5)
```

**–ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä –ø–æ–±–µ–∂–¥–∞–µ—Ç:**
```hemlock
let a: i32 = 100;
let b: i64 = 200;
let sum = a + b;     // sum —ç—Ç–æ i64 (300)
```

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏:** –ü—Ä–∏ —Å–º–µ—à–∏–≤–∞–Ω–∏–∏ 64-–±–∏—Ç–Ω—ã—Ö —Ü–µ–ª—ã—Ö —Å f32, Hemlock –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç
–∫ f64 –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ (f32 –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ 24-–±–∏—Ç–Ω—É—é –º–∞–Ω—Ç–∏—Å—Å—É, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è i64/u64):
```hemlock
let big: i64 = 9007199254740993;
let small: f32 = 1.0;
let result = big + small;  // result —ç—Ç–æ f64, –Ω–µ f32!
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
u8 + i32  -> i32
i32 + i64 -> i64
u32 + u64 -> u64
i32 + f32 -> f32    // f32 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è i32
i64 + f32 -> f64    // f64 –Ω—É–∂–µ–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ i64
i64 + f64 -> f64
i8 + f64  -> f64
```

### –Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

**–¶–µ–ª–æ–µ <-> Float:**
```hemlock
let i: i32 = 42;
let f: f64 = i;      // i32 -> f64 (42.0)

let x: f64 = 3.14;
let n: i32 = x;      // f64 -> i32 (3, —É—Å–µ—á–µ–Ω–æ)
```

**–¶–µ–ª–æ–µ <-> Rune:**
```hemlock
let code: i32 = 65;
let ch: rune = code;  // i32 -> rune ('A')

let r: rune = 'Z';
let value: i32 = r;   // rune -> i32 (90)
```

**Rune -> String:**
```hemlock
let ch: rune = '(—Ä–∞–∫–µ—Ç–∞)';
let s: string = ch;   // rune -> string ("(—Ä–∞–∫–µ—Ç–∞)")
```

**u8 -> Rune:**
```hemlock
let b: u8 = 65;
let r: rune = b;      // u8 -> rune ('A')
```

### –§—É–Ω–∫—Ü–∏–∏-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã —Ç–∏–ø–æ–≤

–ò–º–µ–Ω–∞ —Ç–∏–ø–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Ä–∞–∑–±–æ—Ä–∞ –∑–Ω–∞—á–µ–Ω–∏–π:

**–†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫ –≤ —á–∏—Å–ª–∞:**
```hemlock
let n = i32("42");       // –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫–∏ –≤ i32: 42
let f = f64("3.14159");  // –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫–∏ –≤ f64: 3.14159
let b = bool("true");    // –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫–∏ –≤ bool: true

// –í—Å–µ —á–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
let a = i8("-128");      // –†–∞–∑–±–æ—Ä –≤ i8
let c = u8("255");       // –†–∞–∑–±–æ—Ä –≤ u8
let d = i16("1000");     // –†–∞–∑–±–æ—Ä –≤ i16
let e = u16("50000");    // –†–∞–∑–±–æ—Ä –≤ u16
let g = i64("9000000000000"); // –†–∞–∑–±–æ—Ä –≤ i64
let h = u64("18000000000000"); // –†–∞–∑–±–æ—Ä –≤ u64
let j = f32("1.5");      // –†–∞–∑–±–æ—Ä –≤ f32
```

**–®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞:**
```hemlock
let hex = i32("0xFF");   // 255
let neg = i32("-42");    // -42
let bin = i32("0b1010"); // 10 (–¥–≤–æ–∏—á–Ω–æ–µ)
```

**–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
```hemlock
let x = integer("100");  // –¢–æ –∂–µ —á—Ç–æ i32("100")
let y = number("1.5");   // –¢–æ –∂–µ —á—Ç–æ f64("1.5")
let z = byte("200");     // –¢–æ –∂–µ —á—Ç–æ u8("200")
```

**–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —á–∏—Å–ª–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏:**
```hemlock
let big = i64(42);           // i32 –≤ i64
let truncated = i32(3.99);   // f64 –≤ i32 (—É—Å–µ–∫–∞–µ—Ç—Å—è –¥–æ 3)
let promoted = f64(100);     // i32 –≤ f64 (100.0)
let narrowed = i8(127);      // i32 –≤ i8
```

**–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –≤—ã–ø–æ–ª–Ω—è—é—Ç —á–∏—Å–ª–æ–≤–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ (–Ω–æ –ù–ï —Ä–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫):**
```hemlock
let f: f64 = 100;        // i32 –≤ f64 —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é (OK)
let s: string = 'A';     // Rune –≤ string —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é (OK)
let code: i32 = 'A';     // Rune –≤ i32 —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é (–ø–æ–ª—É—á–∞–µ—Ç –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É, OK)

// –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ —Ç–∏–ø–æ–≤:
let n = i32("42");       // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ç–∏–ø–∞ –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ —Å—Ç—Ä–æ–∫
// let x: i32 = "42";    // –û–®–ò–ë–ö–ê - –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –Ω–µ —Ä–∞–∑–±–∏—Ä–∞—é—Ç —Å—Ç—Ä–æ–∫–∏
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```hemlock
// –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ —Ç–∏–ø–æ–≤
let bad = i32("hello");  // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –Ω–µ –º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å "hello" –∫–∞–∫ i32
let overflow = u8("256"); // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 256 –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–ª—è u8
```

**–†–∞–∑–±–æ—Ä –±—É–ª–µ–≤—ã—Ö:**
```hemlock
let t = bool("true");    // true
let f = bool("false");   // false
let bad = bool("yes");   // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "true" –∏–ª–∏ "false"
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏:

```hemlock
let x: u8 = 255;    // OK
let y: u8 = 256;    // –û–®–ò–ë–ö–ê: –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–ª—è u8

let a: i8 = 127;    // OK
let b: i8 = 128;    // –û–®–ò–ë–ö–ê: –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–ª—è i8

let c: i64 = 2147483647;   // OK
let d: u64 = 4294967295;   // OK
let e: u64 = -1;           // –û–®–ò–ë–ö–ê: u64 –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
```

## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤

### –°–º–µ—à–∞–Ω–Ω—ã–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã

```hemlock
let a: i8 = 10;
let b: i32 = 20;
let sum = a + b;     // i32 (30)

let c: u8 = 100;
let d: u32 = 200;
let total = c + d;   // u32 (300)
```

### –¶–µ–ª–æ–µ + Float

```hemlock
let i: i32 = 5;
let f: f32 = 2.5;
let result = i * f;  // f32 (12.5)
```

### –°–ª–æ–∂–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

```hemlock
let a: i8 = 10;
let b: i32 = 20;
let c: f64 = 3.0;

let result = a + b * c;  // f64 (70.0)
// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ: b * c -> f64(60.0)
//             a + f64(60.0) -> f64(70.0)
```

## –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (–æ–±—ä–µ–∫—Ç—ã)

–û–±—ä–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é** (—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è):

```hemlock
define Person {
    name: string,
    age: i32,
}

// OK: –ò–º–µ–µ—Ç –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
let p1: Person = { name: "Alice", age: 30 };

// OK: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω—ã
let p2: Person = { name: "Bob", age: 25, city: "NYC" };

// –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ 'age'
let p3: Person = { name: "Carol" };

// –û–®–ò–ë–ö–ê: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è 'age'
let p4: Person = { name: "Dave", age: "thirty" };
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ç–∏–ø—ã –ø–æ–ª–µ–π —Å–æ–≤–ø–∞–¥–∞—é—Ç
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º—è —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è `typeof()`

## –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

```hemlock
define Config {
    host: string,
    port: i32,
    debug?: false,     // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    timeout?: i32,     // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é null
}

let cfg1: Config = { host: "localhost", port: 8080 };
print(cfg1.debug);    // false (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
print(cfg1.timeout);  // null

let cfg2: Config = { host: "0.0.0.0", port: 80, debug: true };
print(cfg2.debug);    // true (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ)
```

## –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤

Hemlock –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `type`:

### –ë–∞–∑–æ–≤—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤

```hemlock
// –ü—Ä–æ—Å—Ç–æ–π –ø—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
type Integer = i32;
type Text = string;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º–∞
let x: Integer = 42;
let msg: Text = "hello";
```

### –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤

```hemlock
// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞
type Callback = fn(i32): void;
type Predicate = fn(i32): bool;
type AsyncHandler = async fn(string): i32;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤
let cb: Callback = fn(n) { print(n); };
let isEven: Predicate = fn(n) { return n % 2 == 0; };
```

### –°–æ—Å—Ç–∞–≤–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤

```hemlock
// –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö define –≤ –æ–¥–∏–Ω —Ç–∏–ø
define HasName { name: string }
define HasAge { age: i32 }

type Person = HasName & HasAge;

let p: Person = { name: "Alice", age: 30 };
```

### –û–±–æ–±—â–µ–Ω–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤

```hemlock
// –û–±–æ–±—â–µ–Ω–Ω—ã–π –ø—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
type Pair<T> = { first: T, second: T };
type Result<T, E> = { value: T?, error: E? };

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±–æ–±—â–µ–Ω–Ω—ã—Ö –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤
let coords: Pair<f64> = { first: 3.14, second: 2.71 };
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã - `typeof()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞, –∞ –Ω–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º–∞.

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤

–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- **–ù–µ—Ç –æ–±–æ–±—â–µ–Ω–∏–π –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π** - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
- **–ù–µ—Ç —Ç–∏–ø–æ–≤ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è** - –ù–µ–ª—å–∑—è –≤—ã—Ä–∞–∑–∏—Ç—å "A –∏–ª–∏ B"
- **–ù–µ—Ç nullable —Ç–∏–ø–æ–≤** - –í—Å–µ —Ç–∏–ø—ã –º–æ–≥—É—Ç –±—ã—Ç—å null (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—Ñ—Ñ–∏–∫—Å `?` –¥–ª—è —è–≤–Ω–æ–π nullable)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä (`hemlockc`) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –°–º. [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞](#design-implementation) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

**–ò–°–ü–û–õ–¨–ó–£–ô–¢–ï –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–æ–≥–¥–∞:**
- –¢–æ—á–Ω—ã–π —Ç–∏–ø –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `u8` –¥–ª—è –±–∞–π—Ç–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π)
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)

```hemlock
fn hash(data: buffer, length: u32): u64 {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
}
```

**–ù–ï –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∫–æ–≥–¥–∞:**
- –¢–∏–ø –æ—á–µ–≤–∏–¥–µ–Ω –∏–∑ –ª–∏—Ç–µ—Ä–∞–ª–∞
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ò–∑–ª–∏—à–Ω—è—è —Ü–µ—Ä–µ–º–æ–Ω–∏—è

```hemlock
// –ò–∑–ª–∏—à–Ω–µ
let x: i32 = 42;

// –õ—É—á—à–µ
let x = 42;
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤

**–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:**
```hemlock
if (typeof(value) == "i32") {
    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ i32
}
```

**–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π:**
```hemlock
fn divide(a, b) {
    if (typeof(a) != "i32" || typeof(b) != "i32") {
        throw "arguments must be integers";
    }
    if (b == 0) {
        throw "division by zero";
    }
    return a / b;
}
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Ç–∏–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏:**
```hemlock
define Printable {
    toString: fn,
}

fn print_item(item: Printable) {
    print(item.toString());
}
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [–°—Ç—Ä–æ–∫–∏](#language-guide-strings) - –¢–∏–ø —Å—Ç—Ä–æ–∫ UTF-8 –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
- [–†—É–Ω—ã](#language-guide-runes) - –¢–∏–ø –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ Unicode
- [–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays) - –¢–∏–ø –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤
- [–û–±—ä–µ–∫—Ç—ã](#language-guide-objects) - –õ–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- [–ü–∞–º—è—Ç—å](#language-guide-memory) - –¢–∏–ø—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –±—É—Ñ–µ—Ä–æ–≤


--------------------------------------------------------------------------------
## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
--------------------------------------------------------------------------------

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

Hemlock –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é** —Å —è–≤–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –Ω–∞–¥ –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º. –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏ Hemlock, –¥–≤–∞ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –ø–æ–ª–Ω—ã–π API –ø–∞–º—è—Ç–∏.

---

## –ü–∞–º—è—Ç—å 101: –û—Å–Ω–æ–≤—ã

**–ù–æ–≤–∏—á–æ–∫ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏?** –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å. –ï—Å–ª–∏ –≤—ã —É–∂–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Ä–∞–∑–¥–µ–ª—É [–§–∏–ª–æ—Å–æ—Ñ–∏—è](#—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è).

### –ß—Ç–æ —Ç–∞–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é?

–ö–æ–≥–¥–∞ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (—Ç–µ–∫—Å—Ç, —á–∏—Å–ª–∞, —Å–ø–∏—Å–∫–∏), –µ–π –Ω—É–∂–Ω–æ –º–µ—Å—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ. –≠—Ç–æ –º–µ—Å—Ç–æ –±–µ—Ä–µ—Ç—Å—è –∏–∑ –ø–∞–º—è—Ç–∏ –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (RAM). –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é —ç—Ç–æ:

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ—Å—Ç–∞** - –∑–∞–ø—Ä–æ—Å –ø–∞–º—è—Ç–∏ –∫–æ–≥–¥–∞ –æ–Ω–∞ –Ω—É–∂–Ω–∞
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Å—Ç–∞** - —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
3. **–í–æ–∑–≤—Ä–∞—Ç** - –≤–æ–∑–≤—Ä–∞—Ç –ø–∞–º—è—Ç–∏ –∫–æ–≥–¥–∞ –≤—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏

### –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–Ω–∏–≥:
- –ï—Å–ª–∏ –≤—ã –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç–µ –±—Ä–∞—Ç—å –∫–Ω–∏–≥–∏ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç–µ –∏—Ö, –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –∏—Ö –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è
- –ï—Å–ª–∏ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å —á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É, –∫–æ—Ç–æ—Ä—É—é —É–∂–µ –≤–µ—Ä–Ω—É–ª–∏, –≤—ã –∑–∞–ø—É—Ç–∞–µ—Ç–µ—Å—å –∏–ª–∏ –≤—ã–∑–æ–≤–µ—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü–∞–º—è—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ. –ï—Å–ª–∏ –≤—ã –∑–∞–±—ã–≤–∞–µ—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–∞–º—è—Ç—å, –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–µ–¥–ª–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –±–æ–ª—å—à–µ –∏ –±–æ–ª—å—à–µ ("—É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏"). –ï—Å–ª–∏ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å –ø–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–ª–æ—Ö–∏–µ –≤–µ—â–∏.

### –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏

**–í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –æ–± —ç—Ç–æ–º –¥—É–º–∞—Ç—å!**

Hemlock –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤:

```hemlock
fn example() {
    let name = "Alice";       // Hemlock —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–∏–º
    let numbers = [1, 2, 3];  // –ò —ç—Ç–∏–º
    let person = { age: 30 }; // –ò —ç—Ç–∏–º —Ç–æ–∂–µ

    // –ö–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –≤—Å–µ —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞–µ—Ç—Å—è!
}
```

### –ö–æ–≥–¥–∞ –ù–£–ñ–ù–û –¥—É–º–∞—Ç—å –æ–± —ç—Ç–æ–º

–í–∞–º –Ω—É–∂–Ω–æ —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:

1. **`alloc()`** - —Å—ã—Ä–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ptr`)
2. **`buffer()`** - –∫–æ–≥–¥–∞ —Ö–æ—Ç–∏—Ç–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–∞–Ω—å—à–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –∞–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏)

```hemlock
// –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏:
let raw = alloc(100);   // –°—ã—Ä–∞—è –ø–∞–º—è—Ç—å - –í–´ –¥–æ–ª–∂–Ω—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –µ—ë
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ raw ...
free(raw);              // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ! –ò–Ω–∞—á–µ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏

// –≠—Ç–æ –æ—á–∏—â–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–Ω–æ –ú–û–ñ–ù–û –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–∞–Ω—å—à–µ):
let buf = buffer(100);  // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ buf ...
// free(buf);           // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –∞–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏
```

### –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ

> **–ï—Å–ª–∏ –≤—ã –≤—ã–∑–≤–∞–ª–∏ `alloc()`, –≤—ã –¥–æ–ª–∂–Ω—ã –≤—ã–∑–≤–∞—Ç—å `free()`.**
>
> –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –≤–∞—Å.

### –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

| –°–∏—Ç—É–∞—Ü–∏—è | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ | –ü–æ—á–µ–º—É |
|----------|-----------------|--------|
| **–¢–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç–µ** | `buffer()` | –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π, —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü, –∞–≤—Ç–æ-–æ—á–∏—Å—Ç–∫–∞ |
| **–ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –±–∞–π—Ç—ã** | `buffer()` | –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –ø—Ä–æ—Å—Ç–æ |
| **–†–∞–±–æ—Ç–∞ —Å C –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (FFI)** | `alloc()` / `ptr` | –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è C interop |
| **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | `alloc()` / `ptr` | –ù–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –≥—Ä–∞–Ω–∏—Ü |
| **–ù–µ —É–≤–µ—Ä–µ–Ω—ã** | `buffer()` | –í—Å–µ–≥–¥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ |

### –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–∏–º–µ—Ä: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π vs –°—ã—Ä–æ–π

```hemlock
// –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä
fn safe_example() {
    let data = buffer(10);
    data[0] = 65;           // OK
    data[5] = 66;           // OK
    // data[100] = 67;      // –û–®–ò–ë–ö–ê - Hemlock –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–∞—Å (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü)
    free(data);             // –û—á–∏—Å—Ç–∫–∞
}

// –ü–†–û–î–í–ò–ù–£–¢–û: –°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å (—Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω)
fn raw_example() {
    let data = alloc(10);
    *data = 65;             // OK
    *(data + 5) = 66;       // OK
    *(data + 100) = 67;     // –û–ü–ê–°–ù–û–°–¢–¨ - –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü, –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏!
    free(data);             // –û—á–∏—Å—Ç–∫–∞
}
```

**–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å `buffer()`. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `alloc()` —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –Ω—É–∂–Ω—ã —Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏.**

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è

Hemlock —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É —è–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é —Å —Ä–∞–∑—É–º–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- –ù–µ—Ç —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞ (–Ω–µ—Ç –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã—Ö –ø–∞—É–∑)
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ (string, array, object, buffer)
- –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`ptr`) —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ `free()`

–≠—Ç–æ—Ç –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–∞–µ—Ç –≤–∞–º –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ (—Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏) –ø—Ä–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (refcounted —Ç–∏–ø—ã –∞–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏).

## –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫

–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö refcounted —Ç–∏–ø–æ–≤ –æ—á–∏—Å—Ç–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è.

### –ß—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫

–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫–∞–º–∏ —Å—Å—ã–ª–æ–∫ –∫–æ–≥–¥–∞:

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è** - —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è:
   ```hemlock
   let x = "first";   // ref_count = 1
   x = "second";      // "first" –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ, "second" ref_count = 1
   ```

2. **–û–±–ª–∞—Å—Ç–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è** - –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è:
   ```hemlock
   fn example() {
       let arr = [1, 2, 3];  // ref_count = 1
   }  // arr –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏
   ```

3. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è** - —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è:
   ```hemlock
   let arr = [obj1, obj2];
   free(arr);  // ref_count obj1 –∏ obj2 —É–º–µ–Ω—å—à–∞—é—Ç—Å—è
   ```

### –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω `free()` vs –∫–æ–≥–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–Ω–µ –Ω—É–∂–µ–Ω `free()`):** –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ refcounted —Ç–∏–ø–æ–≤ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏:

```hemlock
fn process_data() {
    let arr = [1, 2, 3];
    let obj = { name: "test" };
    let buf = buffer(64);
    // ... –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö ...
}  // –í—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ - free() –Ω–µ –Ω—É–∂–µ–Ω
```

**–†—É—á–Ω–æ–π `free()` —Ç—Ä–µ–±—É–µ—Ç—Å—è:**

1. **–°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏** - `alloc()` –Ω–µ –∏–º–µ–µ—Ç –ø–æ–¥—Å—á–µ—Ç–∞ —Å—Å—ã–ª–æ–∫:
   ```hemlock
   let p = alloc(64);
   // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ p ...
   free(p);  // –í—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è - –∏–Ω–∞—á–µ —É—Ç–µ—á–∫–∞
   ```

2. **–†–∞–Ω–Ω—è—è –æ—á–∏—Å—Ç–∫–∞** - –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –¥–æ –∫–æ–Ω—Ü–∞ –æ–±–ª–∞—Å—Ç–∏ –¥–ª—è –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–µ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏:
   ```hemlock
   fn long_running() {
       let big = buffer(10000000);  // 10MB
       // ... –∑–∞–∫–æ–Ω—á–∏–ª–∏ —Å big ...
       free(big);  // –û—Å–≤–æ–±–æ–¥–∏—Ç—å —Å–µ–π—á–∞—Å, –Ω–µ –∂–¥–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏
       // ... –µ—â—ë —Ä–∞–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –Ω—É–∂–µ–Ω big ...
   }
   ```

3. **–î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ** - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö:
   ```hemlock
   let cache = {};  // –ù–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è, –∂–∏–≤–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–∫–∞ –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å

   fn cleanup() {
       free(cache);  // –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–ª—è –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   }
   ```

### –ü–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ vs –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞

| –ê—Å–ø–µ–∫—Ç | –ü–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ Hemlock | –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ |
|--------|------------------------|---------------|
| –í—Ä–µ–º—è –æ—á–∏—Å—Ç–∫–∏ | –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ ref = 0) | –ù–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ (GC —Ä–µ—à–∞–µ—Ç –∫–æ–≥–¥–∞) |
| –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | –ù—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å `free()` | –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| –ü–∞—É–∑—ã —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | –ù–µ—Ç | "Stop the world" –ø–∞—É–∑—ã |
| –í–∏–¥–∏–º–æ—Å—Ç—å | –°–∫—Ä—ã—Ç–∞—è –¥–µ—Ç–∞–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | –û–±—ã—á–Ω–æ –Ω–µ–≤–∏–¥–∏–º–∞ |
| –¶–∏–∫–ª—ã | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º visited-set | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π |

### –ö–∞–∫–∏–µ —Ç–∏–ø—ã –∏–º–µ—é—Ç –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫

| –¢–∏–ø | Refcounted | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|-----|------------|------------|
| `ptr` | –ù–µ—Ç | –í—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ `free()` |
| `buffer` | –î–∞ | –ê–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏; —Ä—É—á–Ω–æ–π `free()` –¥–ª—è —Ä–∞–Ω–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏ |
| `array` | –î–∞ | –ê–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏; —Ä—É—á–Ω–æ–π `free()` –¥–ª—è —Ä–∞–Ω–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏ |
| `object` | –î–∞ | –ê–≤—Ç–æ-–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏; —Ä—É—á–Ω–æ–π `free()` –¥–ª—è —Ä–∞–Ω–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏ |
| `string` | –î–∞ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, `free()` –Ω–µ –Ω—É–∂–µ–Ω |
| `function` | –î–∞ | –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–π) |
| `task` | –î–∞ | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞—Ç–æ–º–∞—Ä–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ |
| `channel` | –î–∞ | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞—Ç–æ–º–∞—Ä–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ |
| –ü—Ä–∏–º–∏—Ç–∏–≤—ã | –ù–µ—Ç | –†–∞–∑–º–µ—â–∞—é—Ç—Å—è –Ω–∞ —Å—Ç–µ–∫–µ, –Ω–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤ –∫—É—á–µ |

### –ü–æ—á–µ–º—É —Ç–∞–∫–æ–π –¥–∏–∑–∞–π–Ω?

–≠—Ç–æ—Ç –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–∞–µ—Ç –≤–∞–º:
- **–Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** - –í—ã —Ä–µ—à–∞–µ—Ç–µ –∫–æ–≥–¥–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ—Ç –æ—à–∏–±–æ–∫ –æ–±–ª–∞—Å—Ç–∏** - –ü–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ —É—Ç–µ–∫–∞–µ—Ç
- **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ù–µ—Ç –ø–∞—É–∑ GC
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–º—ã–∫–∞–Ω–∏–π** - –§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–§–∏–ª–æ—Å–æ—Ñ–∏—è –æ—Å—Ç–∞–µ—Ç—Å—è: –≤—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ, –Ω–æ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ —Ç–∏–ø–∞ —É—Ç–µ—á–µ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∏–ª–∏ –¥–≤–æ–π–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

## –î–≤–∞ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π, –∫–∞–∂–¥—ã–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

### `ptr` - –°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å (–æ–ø–∞—Å–Ω—ã–π)

–°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ - —ç—Ç–æ **–ø—Ä–æ—Å—Ç–æ –∞–¥—Ä–µ—Å–∞** —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –≥–∞—Ä–∞–Ω—Ç–∏—è–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```hemlock
let p: ptr = alloc(64);
memset(p, 0, 64);
free(p);  // –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–º–Ω–∏—Ç—å –æ—Å–≤–æ–±–æ–¥–∏—Ç—å
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ü—Ä–æ—Å—Ç–æ 8-–±–∞–π—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü
- –ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–ª–∏–Ω—ã
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏
- –î–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –∏ FFI

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (FFI)
- –ö—Ä–∏—Ç–∏—á–Ω—ã–π –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

**–û–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```hemlock
let p = alloc(10);
let q = p + 100;  // –î–∞–ª–µ–∫–æ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è - —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –Ω–æ –æ–ø–∞—Å–Ω–æ
free(p);
let x = *p;       // –í–∏—Å—è—á–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å - –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
free(p);          // –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ - —É–ø–∞–¥–µ—Ç
```

### `buffer` - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ë—É—Ñ–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç **–¥–æ—Å—Ç—É–ø —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü** –ø—Ä–∏ –≤—Å–µ –µ—â–µ —Ç—Ä–µ–±—É–µ–º–æ–º —Ä—É—á–Ω–æ–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏:

```hemlock
let b: buffer = buffer(64);
b[0] = 65;              // –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
print(b.length);        // 64
free(b);                // –≤—Å–µ –µ—â–µ —Ä—É—á–Ω–æ–π
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –£–∫–∞–∑–∞—Ç–µ–ª—å + –¥–ª–∏–Ω–∞ + –µ–º–∫–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ
- –í—Å–µ –µ—â–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ `free()`
- –õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∫–æ–¥–∞

**–°–≤–æ–π—Å—Ç–≤–∞:**
```hemlock
let buf = buffer(100);
print(buf.length);      // 100 (—Ç–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä)
print(buf.capacity);    // 100 (–≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è –µ–º–∫–æ—Å—Ç—å)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü:**
```hemlock
let buf = buffer(10);
buf[5] = 42;      // OK
buf[100] = 42;    // –û–®–ò–ë–ö–ê: Index out of bounds
```

## API –ø–∞–º—è—Ç–∏

### –ë–∞–∑–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ

**`alloc(bytes)` - –í—ã–¥–µ–ª–∏—Ç—å —Å—ã—Ä—É—é –ø–∞–º—è—Ç—å**
```hemlock
let p = alloc(1024);  // –í—ã–¥–µ–ª–∏—Ç—å 1KB, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ptr
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free(p);
```

**`buffer(size)` - –í—ã–¥–µ–ª–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä**
```hemlock
let buf = buffer(256);  // –í—ã–¥–µ–ª–∏—Ç—å 256-–±–∞–π—Ç–Ω—ã–π –±—É—Ñ–µ—Ä
buf[0] = 65;            // 'A'
buf[1] = 66;            // 'B'
free(buf);
```

**`free(ptr)` - –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å**
```hemlock
let p = alloc(100);
free(p);  // –ù—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

let buf = buffer(100);
free(buf);  // –†–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ ptr –∏ –Ω–∞ buffer
```

**–í–∞–∂–Ω–æ:** `free()` —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ `ptr` –∏ –Ω–∞ `buffer` —Ç–∏–ø–∞—Ö.

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é

**`memset(ptr, byte, size)` - –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞–º—è—Ç—å**
```hemlock
let p = alloc(100);
memset(p, 0, 100);     // –û–±–Ω—É–ª–∏—Ç—å 100 –±–∞–π—Ç
memset(p, 65, 10);     // –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–≤—ã–µ 10 –±–∞–π—Ç 'A'
free(p);
```

**`memcpy(dest, src, size)` - –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å**
```hemlock
let src = alloc(50);
let dst = alloc(50);
memset(src, 42, 50);
memcpy(dst, src, 50);  // –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å 50 –±–∞–π—Ç –∏–∑ src –≤ dst
free(src);
free(dst);
```

**`realloc(ptr, size)` - –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª–µ–Ω–∏—è**
```hemlock
let p = alloc(100);
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 100 –±–∞–π—Ç
p = realloc(p, 200);   // –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –¥–æ 200 –±–∞–π—Ç
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 200 –±–∞–π—Ç
free(p);
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ `realloc()` —Å—Ç–∞—Ä—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å.

### –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–º–æ—â–Ω–∏–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞:

```hemlock
let arr = talloc(i32, 100);  // –í—ã–¥–µ–ª–∏—Ç—å 100 –∑–Ω–∞—á–µ–Ω–∏–π i32 (400 –±–∞–π—Ç)
let size = sizeof(i32);      // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 4 (–±–∞–π—Ç–∞)
```

**`sizeof(type)`** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö —Ç–∏–ø–∞:
- `sizeof(i8)` / `sizeof(u8)` -> 1
- `sizeof(i16)` / `sizeof(u16)` -> 2
- `sizeof(i32)` / `sizeof(u32)` / `sizeof(f32)` -> 4
- `sizeof(i64)` / `sizeof(u64)` / `sizeof(f64)` -> 8
- `sizeof(ptr)` -> 8 (–Ω–∞ 64-–±–∏—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö)

**`talloc(type, count)`** –≤—ã–¥–µ–ª—è–µ—Ç `count` —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ `type`:

```hemlock
let ints = talloc(i32, 10);   // 40 –±–∞–π—Ç –¥–ª—è 10 –∑–Ω–∞—á–µ–Ω–∏–π i32
let floats = talloc(f64, 5);  // 40 –±–∞–π—Ç –¥–ª—è 5 –∑–Ω–∞—á–µ–Ω–∏–π f64
free(ints);
free(floats);
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω: –í—ã–¥–µ–ª–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –æ—Å–≤–æ–±–æ–¥–∏—Ç—å

–ë–∞–∑–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é:

```hemlock
// 1. –í—ã–¥–µ–ª–∏—Ç—å
let data = alloc(1024);

// 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
memset(data, 0, 1024);
// ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

// 3. –û—Å–≤–æ–±–æ–¥–∏—Ç—å
free(data);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞

–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü:

```hemlock
let buf = buffer(256);

// –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
let i = 0;
while (i < buf.length) {
    buf[i] = i;
    i = i + 1;
}

free(buf);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Å try/finally

–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:

```hemlock
let data = alloc(1024);
try {
    // ... —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    process(data);
} finally {
    free(data);  // –í—Å–µ–≥–¥–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è, –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
}
```

## –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–∞–º—è—Ç–∏

### –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ

**–†–∞–∑—Ä–µ—à–µ–Ω–æ –Ω–æ —É–ø–∞–¥–µ—Ç:**
```hemlock
let p = alloc(100);
free(p);
free(p);  // –ü–ê–î–ï–ù–ò–ï: Double-free detected
```

**–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ:**
```hemlock
let p = alloc(100);
free(p);
p = null;  // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ null –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è

if (p != null) {
    free(p);  // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
}
```

### –í–∏—Å—è—á–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏

**–†–∞–∑—Ä–µ—à–µ–Ω–æ –Ω–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
```hemlock
let p = alloc(100);
*p = 42;      // OK
free(p);
let x = *p;   // –ù–ï–û–ü–†–ï–î–ï–õ–ï–ù–û: –ß—Ç–µ–Ω–∏–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
```

**–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ:** –ù–µ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –ø–∞–º—è—Ç–∏ –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è.

### –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

**–õ–µ–≥–∫–æ —Å–æ–∑–¥–∞—Ç—å, —Ç—Ä—É–¥–Ω–æ –æ—Ç–ª–∞–¥–∏—Ç—å:**
```hemlock
fn leak_memory() {
    let p = alloc(1000);
    // –ó–∞–±—ã–ª–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å!
    return;  // –£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏
}
```

**–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ `alloc()` —Å `free()`:
```hemlock
fn safe_function() {
    let p = alloc(1000);
    try {
        // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ p
    } finally {
        free(p);  // –í—Å–µ–≥–¥–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è
    }
}
```

### –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

**–†–∞–∑—Ä–µ—à–µ–Ω–∞ –Ω–æ –æ–ø–∞—Å–Ω–∞:**
```hemlock
let p = alloc(10);
let q = p + 100;  // –î–∞–ª–µ–∫–æ –∑–∞ –≥—Ä–∞–Ω–∏—Ü–µ–π –≤—ã–¥–µ–ª–µ–Ω–∏—è
*q = 42;          // –ù–ï–û–ü–†–ï–î–ï–õ–ï–ù–û: –ó–∞–ø–∏—Å—å –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
free(p);
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü:**
```hemlock
let buf = buffer(10);
buf[100] = 42;  // –û–®–ò–ë–ö–ê: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `buffer`** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `buffer` –µ—Å–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –Ω–µ –Ω—É–∂–µ–Ω —Å—ã—Ä–æ–π `ptr`
2. **–°–æ–ø–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ alloc/free** - –ö–∞–∂–¥—ã–π `alloc()` –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω `free()`
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try/finally** - –û–±–µ—Å–ø–µ—á–∏–≤–∞–π—Ç–µ –æ—á–∏—Å—Ç–∫—É —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∏—Å–∫–ª—é—á–µ–Ω–∏–π
4. **Null –ø–æ—Å–ª–µ free** - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ `null` –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —á—Ç–æ–±—ã –ª–æ–≤–∏—Ç—å use-after-free
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü
6. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–ª–∞–¥–µ–Ω–∏–µ** - –î–µ–ª–∞–π—Ç–µ —è—Å–Ω—ã–º –∫–∞–∫–æ–π –∫–æ–¥ –≤–ª–∞–¥–µ–µ—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –∫–∞–∂–¥–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å —Å—Ç—Ä–æ–∫

```hemlock
fn build_message(count: i32): ptr {
    let size = count * 10;
    let buf = alloc(size);

    let i = 0;
    while (i < count) {
        memset(buf + (i * 10), 65 + i, 10);
        i = i + 1;
    }

    return buf;  // –í—ã–∑—ã–≤–∞—é—â–∏–π –¥–æ–ª–∂–µ–Ω –æ—Å–≤–æ–±–æ–¥–∏—Ç—å
}

let msg = build_message(5);
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ msg
free(msg);
```

### –ü—Ä–∏–º–µ—Ä: –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–æ–º

```hemlock
fn process_array(size: i32) {
    let arr = buffer(size);

    try {
        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞
        let i = 0;
        while (i < arr.length) {
            arr[i] = i * 2;
            i = i + 1;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞
        i = 0;
        while (i < arr.length) {
            print(arr[i]);
            i = i + 1;
        }
    } finally {
        free(arr);  // –í—Å–µ–≥–¥–∞ –æ—á–∏—â–∞–µ—Ç
    }
}
```

### –ü—Ä–∏–º–µ—Ä: –ü–∞—Ç—Ç–µ—Ä–Ω –ø—É–ª–∞ –ø–∞–º—è—Ç–∏

```hemlock
// –ü—Ä–æ—Å—Ç–æ–π –ø—É–ª –ø–∞–º—è—Ç–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π)
let pool = alloc(10000);
let pool_offset = 0;

fn pool_alloc(size: i32): ptr {
    if (pool_offset + size > 10000) {
        throw "Pool exhausted";
    }

    let ptr = pool + pool_offset;
    pool_offset = pool_offset + size;
    return ptr;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É–ª–∞
let p1 = pool_alloc(100);
let p2 = pool_alloc(200);

// –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø—É–ª–∞ —Å—Ä–∞–∑—É
free(pool);
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å:

- **–°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ free** - `alloc()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ptr` –±–µ–∑ –ø–æ–¥—Å—á–µ—Ç–∞ —Å—Å—ã–ª–æ–∫
- **–ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–æ–≤** - –¢–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–π malloc/free

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Refcounted —Ç–∏–ø—ã (string, array, object, buffer) –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏. –¢–æ–ª—å–∫–æ —Å—ã—Ä–æ–π `ptr` –æ—Ç `alloc()` —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ `free()`.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–°—Ç—Ä–æ–∫–∏](#language-guide-strings) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é —Å—Ç—Ä–æ–∫ –∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8
- [–ú–∞—Å—Å–∏–≤—ã](#language-guide-arrays) - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–∞–º—è—Ç–∏
- [–û–±—ä–µ–∫—Ç—ã](#language-guide-objects) - –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#language-guide-error-handling) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ try/finally –¥–ª—è –æ—á–∏—Å—Ç–∫–∏

## –°–º. —Ç–∞–∫–∂–µ

- **–§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞**: –°–º. —Ä–∞–∑–¥–µ–ª "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é" –≤ CLAUDE.md
- **–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤**: –°–º. [–¢–∏–ø—ã](#language-guide-types) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —Ç–∏–ø–æ–≤ `ptr` –∏ `buffer`
- **FFI**: –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π


--------------------------------------------------------------------------------
## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º
--------------------------------------------------------------------------------

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞–∫–æ–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º –≤ —Å—Ç–∏–ª–µ C —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ–∏–≥—É—Ä–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏ –∏ —è–≤–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º. –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, —Ü–∏–∫–ª—ã, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã switch –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã.

## –û–±–∑–æ—Ä

–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–º:

- `if`/`else`/`else if` - –£—Å–ª–æ–≤–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è
- –¶–∏–∫–ª—ã `while` - –ò—Ç–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ª–æ–≤–∏—è
- –¶–∏–∫–ª—ã `for` - –ò—Ç–µ—Ä–∞—Ü–∏—è –≤ —Å—Ç–∏–ª–µ C –∏ for-in
- `loop` - –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã (—á–∏—â–µ —á–µ–º `while (true)`)
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã `switch` - –ú–Ω–æ–≥–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ
- `break`/`continue` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–º
- –ú–µ—Ç–∫–∏ —Ü–∏–∫–ª–æ–≤ - –¶–µ–ª–µ–≤—ã–µ break/continue –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
- `defer` - –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–æ—á–∏—Å—Ç–∫–∞)
- –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: `&&`, `||`, `!`
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è: `==`, `!=`, `<`, `>`, `<=`, `>=`
- –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: `&`, `|`, `^`, `<<`, `>>`, `~`

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã If

### –ë–∞–∑–æ–≤—ã–π If/Else

```hemlock
if (x > 10) {
    print("large");
} else {
    print("small");
}
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ **–≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã** –¥–ª—è –≤—Å–µ—Ö –≤–µ—Ç–æ–∫
- –£—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫–ª—é—á–µ–Ω—ã –≤ —Å–∫–æ–±–∫–∏
- –ù–µ—Ç –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–∫–æ–±–æ–∫ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç C)

### If –±–µ–∑ Else

```hemlock
if (x > 0) {
    print("positive");
}
// –í–µ—Ç–∫–∞ else –Ω–µ –Ω—É–∂–Ω–∞
```

### –¶–µ–ø–æ—á–∫–∏ Else-If

```hemlock
if (x > 100) {
    print("very large");
} else if (x > 50) {
    print("large");
} else if (x > 10) {
    print("medium");
} else {
    print("small");
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `else if` - —ç—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ if. –≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:

```hemlock
// else if (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä)
if (a) {
    foo();
} else if (b) {
    bar();
}

// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π if
if (a) {
    foo();
} else {
    if (b) {
        bar();
    }
}
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã If

```hemlock
if (x > 0) {
    if (x < 10) {
        print("single digit positive");
    } else {
        print("multi-digit positive");
    }
} else {
    print("non-positive");
}
```

## –¶–∏–∫–ª—ã While

–ò—Ç–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ª–æ–≤–∏—è:

```hemlock
let i = 0;
while (i < 10) {
    print(i);
    i = i + 1;
}
```

**–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã (—Å—Ç–∞—Ä—ã–π —Å—Ç–∏–ª—å):**
```hemlock
while (true) {
    // ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
    if (should_exit) {
        break;
    }
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `loop` (—Å–º. –Ω–∏–∂–µ).

## Loop (–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª)

–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `loop` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤:

```hemlock
loop {
    // ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
    if (should_exit) {
        break;
    }
}
```

**–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `while (true)`, –Ω–æ –±–æ–ª–µ–µ —è–≤–Ω–æ –≤—ã—Ä–∞–∂–∞–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏–µ.**

### –ë–∞–∑–æ–≤—ã–π Loop —Å Break

```hemlock
let i = 0;
loop {
    if (i >= 5) {
        break;
    }
    print(i);
    i = i + 1;
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 2, 3, 4
```

### Loop —Å Continue

```hemlock
let i = 0;
loop {
    i = i + 1;
    if (i > 5) {
        break;
    }
    if (i == 3) {
        continue;  // –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤—ã–≤–æ–¥ 3
    }
    print(i);
}
// –í—ã–≤–æ–¥–∏—Ç: 1, 2, 4, 5
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã

```hemlock
let x = 0;
loop {
    if (x >= 2) { break; }
    let y = 0;
    loop {
        if (y >= 3) { break; }
        print(x * 10 + y);
        y = y + 1;
    }
    x = x + 1;
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 2, 10, 11, 12
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Loop

- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `loop`** –¥–ª—è –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤ —Å –≤—ã—Ö–æ–¥–æ–º —á–µ—Ä–µ–∑ `break`
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `while`** –∫–æ–≥–¥–∞ –µ—Å—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `for`** –∫–æ–≥–¥–∞ –∏—Ç–µ—Ä–∏—Ä—É–µ—Ç–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –∏–ª–∏ –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

## –¶–∏–∫–ª—ã For

### For –≤ —Å—Ç–∏–ª–µ C

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ç—Ä–µ—Ö—á–∞—Å—Ç–Ω—ã–π —Ü–∏–∫–ª for:

```hemlock
for (let i = 0; i < 10; i = i + 1) {
    print(i);
}
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä**: `let i = 0` - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø–µ—Ä–µ–¥ —Ü–∏–∫–ª–æ–º
- **–£—Å–ª–æ–≤–∏–µ**: `i < 10` - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–µ–π
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: `i = i + 1` - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

**–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏:**
```hemlock
for (let i = 0; i < 10; i = i + 1) {
    print(i);
}
// i –∑–¥–µ—Å—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (–æ–±–ª–∞—Å—Ç—å —Ü–∏–∫–ª–∞)
```

### –¶–∏–∫–ª—ã For-In

–ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–∞—Å—Å–∏–≤–∞:

```hemlock
let arr = [1, 2, 3, 4, 5];
for (let item in arr) {
    print(item);  // –í—ã–≤–æ–¥–∏—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç
}
```

**–° –∏–Ω–¥–µ–∫—Å–æ–º –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º:**
```hemlock
let arr = ["a", "b", "c"];
for (let i = 0; i < arr.length; i = i + 1) {
    print(`Index: ${i}, Value: ${arr[i]}`);
}
```

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã Switch

–ú–Ω–æ–≥–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è:

### –ë–∞–∑–æ–≤—ã–π Switch

```hemlock
let x = 2;

switch (x) {
    case 1:
        print("one");
        break;
    case 2:
        print("two");
        break;
    case 3:
        print("three");
        break;
}
```

### Switch —Å Default

```hemlock
let color = "blue";

switch (color) {
    case "red":
        print("stop");
        break;
    case "yellow":
        print("slow");
        break;
    case "green":
        print("go");
        break;
    default:
        print("unknown color");
        break;
}
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- `default` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞ –Ω–∏ –æ–¥–∏–Ω –¥—Ä—É–≥–æ–π case –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
- `default` –º–æ–∂–µ—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —Ç–µ–ª–∞ switch
- –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω default —Ä–∞–∑—Ä–µ—à–µ–Ω

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ Fall-Through

–°–ª—É—á–∞–∏ –±–µ–∑ `break` –ø—Ä–æ–≤–∞–ª–∏–≤–∞—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–π case (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–∏–ª–µ C). –≠—Ç–æ **–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ** –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–ª—É—á–∞–µ–≤:

```hemlock
let grade = 85;

switch (grade) {
    case 100:
    case 95:
    case 90:
        print("A");
        break;
    case 85:
    case 80:
        print("B");
        break;
    default:
        print("C or below");
        break;
}
```

**–ü—Ä–∏–º–µ—Ä —è–≤–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–ª–∞:**
```hemlock
let day = 3;

switch (day) {
    case 1:
    case 2:
    case 3:
    case 4:
    case 5:
        print("Weekday");
        break;
    case 6:
    case 7:
        print("Weekend");
        break;
}
```

**–í–∞–∂–Ω–æ:** –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤, Hemlock –ù–ï —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `fallthrough`. –°–ª—É—á–∞–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–∞–ª–∏–≤–∞—é—Ç—Å—è –µ—Å–ª–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã `break`, `return` –∏–ª–∏ `throw`. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `break` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–ª–∞.

### Switch —Å Return

–í —Ñ—É–Ω–∫—Ü–∏—è—Ö `return` –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ switch:

```hemlock
fn get_day_name(day: i32): string {
    switch (day) {
        case 1:
            return "Monday";
        case 2:
            return "Tuesday";
        case 3:
            return "Wednesday";
        default:
            return "Unknown";
    }
}
```

### –¢–∏–ø—ã –∑–Ω–∞—á–µ–Ω–∏–π –≤ Switch

Switch —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ç–∏–ø–æ–º –∑–Ω–∞—á–µ–Ω–∏–π:

```hemlock
// –¶–µ–ª—ã–µ
switch (count) {
    case 0: print("zero"); break;
    case 1: print("one"); break;
}

// –°—Ç—Ä–æ–∫–∏
switch (name) {
    case "Alice": print("A"); break;
    case "Bob": print("B"); break;
}

// –ë—É–ª–µ–≤—ã
switch (flag) {
    case true: print("on"); break;
    case false: print("off"); break;
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–ª—É—á–∞–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π.

## Break –∏ Continue

### Break

–í—ã—Ö–æ–¥ –∏–∑ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–∏–∫–ª–∞ –∏–ª–∏ switch:

```hemlock
// –í —Ü–∏–∫–ª–∞—Ö
let i = 0;
while (true) {
    if (i >= 10) {
        break;  // –í—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
    }
    print(i);
    i = i + 1;
}

// –í switch
switch (x) {
    case 1:
        print("one");
        break;  // –í—ã—Ö–æ–¥ –∏–∑ switch
    case 2:
        print("two");
        break;
}
```

### Continue

–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞:

```hemlock
for (let i = 0; i < 10; i = i + 1) {
    if (i == 5) {
        continue;  // –ü—Ä–æ–ø—É—Å–∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∫–æ–≥–¥–∞ i —Ä–∞–≤–Ω–æ 5
    }
    print(i);  // –í—ã–≤–æ–¥–∏—Ç 0,1,2,3,4,6,7,8,9
}
```

**–†–∞–∑–Ω–∏—Ü–∞:**
- `break` - –ü–æ–ª–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
- `continue` - –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

## –ú–µ—Ç–∫–∏ —Ü–∏–∫–ª–æ–≤

–ú–µ—Ç–∫–∏ —Ü–∏–∫–ª–æ–≤ –ø–æ–∑–≤–æ–ª—è—é—Ç `break` –∏ `continue` –Ω–∞—Ü–µ–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ —Ü–∏–∫–ª—ã –≤–º–µ—Å—Ç–æ —Ç–æ–ª—å–∫–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–∏–∫–ª–∞. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–Ω–µ—à–Ω–∏–º —Ü–∏–∫–ª–æ–º –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ.

### Break —Å –º–µ—Ç–∫–æ–π

–í—ã—Ö–æ–¥ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ:

```hemlock
outer: while (i < 3) {
    let j = 0;
    while (j < 3) {
        if (i == 1 && j == 1) {
            break outer;  // –í—ã—Ö–æ–¥ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞ while
        }
        print(i * 10 + j);
        j = j + 1;
    }
    i = i + 1;
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 2, 10 (–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ i=1, j=1)
```

### Continue —Å –º–µ—Ç–∫–æ–π

–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞:

```hemlock
let i = 0;
outer: while (i < 3) {
    i = i + 1;
    let j = 0;
    while (j < 3) {
        j = j + 1;
        if (i == 2 && j == 1) {
            continue outer;  // –ü—Ä–æ–ø—É—Å–∫ –æ—Å—Ç–∞—Ç–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ü–∏–∫–ª–∞, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ
        }
        print(i * 10 + j);
    }
}
// –ü—Ä–∏ i=2, j=1: –ø—Ä–æ–ø—É—Å–∫ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
```

### –ú–µ—Ç–∫–∏ —Å —Ü–∏–∫–ª–∞–º–∏ For

–ú–µ—Ç–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ —Ü–∏–∫–ª–æ–≤:

```hemlock
outer: for (let x = 0; x < 3; x = x + 1) {
    for (let y = 0; y < 3; y = y + 1) {
        if (x == 1 && y == 1) {
            break outer;
        }
        print(x * 10 + y);
    }
}
```

### –ú–µ—Ç–∫–∏ —Å —Ü–∏–∫–ª–∞–º–∏ For-In

```hemlock
let arr1 = [1, 2, 3];
let arr2 = [10, 20, 30];

outer: for (let a in arr1) {
    for (let b in arr2) {
        if (a == 2 && b == 20) {
            break outer;
        }
        print(a * 100 + b);
    }
}
```

### –ú–µ—Ç–∫–∏ —Å –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º Loop

```hemlock
let x = 0;
outer: loop {
    let y = 0;
    loop {
        if (x == 1 && y == 1) {
            break outer;
        }
        print(x * 10 + y);
        y = y + 1;
        if (y >= 3) { break; }
    }
    x = x + 1;
    if (x >= 3) { break; }
}
```

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

–ú–æ–∂–Ω–æ –∏–º–µ—Ç—å –º–µ—Ç–∫–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏:

```hemlock
outer: for (let a = 0; a < 2; a = a + 1) {
    inner: for (let b = 0; b < 3; b = b + 1) {
        for (let c = 0; c < 3; c = c + 1) {
            if (c == 1) {
                continue inner;  // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
            }
            if (a == 1 && b == 1) {
                break outer;      // –í—ã—Ö–æ–¥ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ —Ü–∏–∫–ª–∞
            }
            print(a * 100 + b * 10 + c);
        }
    }
}
```

### Break/Continue –±–µ–∑ –º–µ—Ç–∫–∏ —Å –ø–æ–º–µ—á–µ–Ω–Ω—ã–º–∏ —Ü–∏–∫–ª–∞–º–∏

Break –∏ continue –±–µ–∑ –º–µ—Ç–∫–∏ –≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–≤–ª–∏—è—è –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π —Ü–∏–∫–ª), –¥–∞–∂–µ –∫–æ–≥–¥–∞ –≤–Ω–µ—à–Ω–∏–µ —Ü–∏–∫–ª—ã –∏–º–µ—é—Ç –º–µ—Ç–∫–∏:

```hemlock
outer: for (let x = 0; x < 3; x = x + 1) {
    for (let y = 0; y < 5; y = y + 1) {
        if (y == 2) {
            break;  // –ü—Ä–µ—Ä—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª
        }
        print(x * 10 + y);
    }
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 10, 11, 20, 21
```

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –º–µ—Ç–æ–∫

- –ú–µ—Ç–∫–∏ - —ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º–∏ —Å–ª–µ–¥—É–µ—Ç –¥–≤–æ–µ—Ç–æ—á–∏–µ
- –ú–µ—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø—Ä–µ–¥—à–µ—Å—Ç–≤–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä—É —Ü–∏–∫–ª–∞ (`while`, `for`, `loop`)
- –ò–º–µ–Ω–∞ –º–µ—Ç–æ–∫ —Å–ª–µ–¥—É—é—Ç –ø—Ä–∞–≤–∏–ª–∞–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ (–±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è)
- –û–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è: `outer`, `inner`, `row`, `col`, –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞

## –û–ø–µ—Ä–∞—Ç–æ—Ä Defer

–û–ø–µ—Ä–∞—Ç–æ—Ä `defer` –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –æ—á–∏—Å—Ç–∫–∏, —Ç–∞–∫–∏—Ö –∫–∞–∫ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–æ–≤, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–ª–∏ —Å–Ω—è—Ç–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

### –ë–∞–∑–æ–≤—ã–π Defer

```hemlock
fn example() {
    print("start");
    defer print("cleanup");  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏
    print("end");
}

example();
// –í—ã–≤–æ–¥:
// start
// end
// cleanup
```

**–ö–ª—é—á–µ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–ø–æ—Å–ª–µ** –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–ª–∞ —Ñ—É–Ω–∫—Ü–∏–∏
- –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–¥–æ** –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É
- –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ–≥–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ Defer (–ø–æ—Ä—è–¥–æ–∫ LIFO)

–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ `defer`, –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ **–æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ** (–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ—à–µ–ª - –ø–µ—Ä–≤—ã–π –≤—ã—à–µ–ª):

```hemlock
fn example() {
    defer print("first");   // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º
    defer print("second");  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Ç–æ—Ä—ã–º
    defer print("third");   // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
    print("body");
}

example();
// –í—ã–≤–æ–¥:
// body
// third
// second
// first
```

–≠—Ç–æ—Ç –ø–æ—Ä—è–¥–æ–∫ LIFO –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π - –æ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É –æ—á–∏—Å—Ç–∫–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (–∑–∞–∫—Ä—ã—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã –¥–æ –≤–Ω–µ—à–Ω–∏—Ö).

### Defer —Å Return

–û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ `return` –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

```hemlock
fn get_value(): i32 {
    defer print("cleanup");
    print("before return");
    return 42;
}

let result = get_value();
print("result:", result);
// –í—ã–≤–æ–¥:
// before return
// cleanup
// result: 42
```

### Defer —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏

–û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–∞–∂–µ –∫–æ–≥–¥–∞ –±—Ä–æ—Å–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:

```hemlock
fn risky() {
    defer print("cleanup 1");
    defer print("cleanup 2");
    print("before throw");
    throw "error!";
    print("after throw");  // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
}

try {
    risky();
} catch (e) {
    print("Caught:", e);
}
// –í—ã–≤–æ–¥:
// before throw
// cleanup 2
// cleanup 1
// Caught: error!
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

–û—Å–Ω–æ–≤–Ω–æ–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `defer` - –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤:

```hemlock
fn process_file(filename: string) {
    let file = open(filename, "r");
    defer file.close();  // –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç, –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ

    let content = file.read();
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ ...

    // –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏
}
```

**–ë–µ–∑ defer (–ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã–π –æ—à–∏–±–∫–∞–º):**
```hemlock
fn process_file_bad(filename: string) {
    let file = open(filename, "r");
    let content = file.read();
    // –ï—Å–ª–∏ —ç—Ç–æ –±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, file.close() –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è!
    process(content);
    file.close();
}
```

### Defer —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏

Defer –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏—è –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```hemlock
fn example() {
    let resource = acquire_resource();
    defer fn() {
        print("Releasing resource");
        release(resource);
    }();  // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

    use_resource(resource);
}
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Defer

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ defer –¥–ª—è:**
- –ó–∞–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤ –∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
- –°–Ω—è—Ç–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –º—å—é—Ç–µ–∫—Å–æ–≤
- –û—á–∏—Å—Ç–∫–∏ –≤ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã

**Defer vs Finally:**
- `defer` –ø—Ä–æ—â–µ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –æ–¥–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞
- `try/finally` –ª—É—á—à–µ –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–†–∞–∑–º–µ—â–∞–π—Ç–µ defer —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞:**
   ```hemlock
   let file = open("data.txt", "r");
   defer file.close();
   // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ file ...
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ defer –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:**
   ```hemlock
   let file1 = open("input.txt", "r");
   defer file1.close();

   let file2 = open("output.txt", "w");
   defer file2.close();

   // –û–±–∞ —Ñ–∞–π–ª–∞ –±—É–¥—É—Ç –∑–∞–∫—Ä—ã—Ç—ã –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
   ```

3. **–ü–æ–º–Ω–∏—Ç–µ –ø–æ—Ä—è–¥–æ–∫ LIFO –¥–ª—è –∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:**
   ```hemlock
   let outer = acquire_outer();
   defer release_outer(outer);

   let inner = acquire_inner(outer);
   defer release_inner(inner);

   // inner –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –¥–æ outer (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
   ```

## –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

### –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò (`&&`)

–û–±–∞ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã:

```hemlock
if (x > 0 && x < 10) {
    print("single digit positive");
}
```

**–ö–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ:**
```hemlock
if (false && expensive_check()) {
    // expensive_check() –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
}
```

### –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò (`||`)

–•–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω–æ:

```hemlock
if (x < 0 || x > 100) {
    print("out of range");
}
```

**–ö–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ:**
```hemlock
if (true || expensive_check()) {
    // expensive_check() –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
}
```

### –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ù–ï (`!`)

–û—Ç—Ä–∏—Ü–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:

```hemlock
if (!is_valid) {
    print("invalid");
}

if (!(x > 10)) {
    // –¢–æ –∂–µ —á—Ç–æ: if (x <= 10)
}
```

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

### –†–∞–≤–µ–Ω—Å—Ç–≤–æ

```hemlock
if (x == 10) { }    // –†–∞–≤–Ω–æ
if (x != 10) { }    // –ù–µ —Ä–∞–≤–Ω–æ
```

–†–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏:
```hemlock
"hello" == "hello"  // true
true == false       // false
null == null        // true
```

### –û—Ç–Ω–æ—à–µ–Ω–∏—è

```hemlock
if (x < 10) { }     // –ú–µ–Ω—å—à–µ
if (x > 10) { }     // –ë–æ–ª—å—à–µ
if (x <= 10) { }    // –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
if (x >= 10) { }    // –ë–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
```

**–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤:**
```hemlock
let a: i32 = 10;
let b: i64 = 10;
if (a == b) { }     // true (i32 –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è –∫ i64)
```

## –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Ü–µ–ª—ã–º–∏ —á–∏—Å–ª–∞–º–∏. –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç **—Ç–æ–ª—å–∫–æ —Å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏** (i8-i64, u8-u64).

### –ë–∏–Ω–∞—Ä–Ω—ã–µ –ø–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

**–ü–æ–±–∏—Ç–æ–≤–æ–µ –ò (`&`)**
```hemlock
let a = 12;  // 1100 –≤ –¥–≤–æ–∏—á–Ω–æ–º
let b = 10;  // 1010 –≤ –¥–≤–æ–∏—á–Ω–æ–º
print(a & b);   // 8 (1000)
```

**–ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò (`|`)**
```hemlock
print(a | b);   // 14 (1110)
```

**–ü–æ–±–∏—Ç–æ–≤–æ–µ –∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò (`^`)**
```hemlock
print(a ^ b);   // 6 (0110)
```

**–°–¥–≤–∏–≥ –≤–ª–µ–≤–æ (`<<`)**
```hemlock
print(a << 2);  // 48 (110000) - —Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ –Ω–∞ 2
```

**–°–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ (`>>`)**
```hemlock
print(a >> 1);  // 6 (110) - —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ –Ω–∞ 1
```

### –£–Ω–∞—Ä–Ω—ã–π –ø–æ–±–∏—Ç–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä

**–ü–æ–±–∏—Ç–æ–≤–æ–µ –ù–ï (`~`)**
```hemlock
let a = 12;
print(~a);      // -13 (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥)

let c: u8 = 15;   // 00001111 –≤ –¥–≤–æ–∏—á–Ω–æ–º
print(~c);        // 240 (11110000) –≤ u8
```

### –ü—Ä–∏–º–µ—Ä—ã –ø–æ–±–∏—Ç–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–° –±–µ–∑–∑–Ω–∞–∫–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏:**
```hemlock
let c: u8 = 15;   // 00001111 –≤ –¥–≤–æ–∏—á–Ω–æ–º
let d: u8 = 7;    // 00000111 –≤ –¥–≤–æ–∏—á–Ω–æ–º

print(c & d);     // 7  (00000111)
print(c | d);     // 15 (00001111)
print(c ^ d);     // 8  (00001000)
print(~c);        // 240 (11110000) - –≤ u8
```

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞:**
```hemlock
// –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–∏–ø –æ–ø–µ—Ä–∞–Ω–¥–æ–≤
let x: u8 = 255;
let result = ~x;  // result —ç—Ç–æ u8 —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 0

let y: i32 = 100;
let result2 = y << 2;  // result2 —ç—Ç–æ i32 —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 400
```

**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
```hemlock
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ –±–∏—Ç
if (flags & 0x04) {
    print("bit 2 is set");
}

// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏—Ç
flags = flags | 0x08;

// –°–±—Ä–æ—Å–∏—Ç—å –±–∏—Ç
flags = flags & ~0x02;

// –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –±–∏—Ç
flags = flags ^ 0x01;
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

–ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å–ª–µ–¥—É—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –≤ —Å—Ç–∏–ª–µ C:

1. `~` (—É–Ω–∞—Ä–Ω–æ–µ –ù–ï) - –≤—ã—Å—à–∏–π, –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ —Å `!` –∏ `-`
2. `<<`, `>>` (—Å–¥–≤–∏–≥–∏) - –≤—ã—à–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π, –Ω–∏–∂–µ `+`/`-`
3. `&` (–ø–æ–±–∏—Ç–æ–≤–æ–µ –ò) - –≤—ã—à–µ `^` –∏ `|`
4. `^` (–ø–æ–±–∏—Ç–æ–≤–æ–µ –∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò) - –º–µ–∂–¥—É `&` –∏ `|`
5. `|` (–ø–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò) - –Ω–∏–∂–µ `&` –∏ `^`, –≤—ã—à–µ `&&`
6. `&&`, `||` (–ª–æ–≥–∏—á–µ—Å–∫–∏–µ) - –Ω–∏–∑—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// & –∏–º–µ–µ—Ç –±–æ–ª—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —á–µ–º |
let result1 = 12 | 10 & 8;  // (10 & 8) | 12 = 8 | 12 = 12

// –°–¥–≤–∏–≥ –∏–º–µ–µ—Ç –±–æ–ª—å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —á–µ–º –ø–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
let result2 = 8 | 1 << 2;   // 8 | (1 << 2) = 8 | 4 = 12

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫–æ–±–∫–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
let result3 = (5 & 3) | (2 << 1);  // 1 | 4 = 5
```

**–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**
- –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ (–Ω–µ —Å float, —Å—Ç—Ä–æ–∫–∞–º–∏ –∏ —Ç.–¥.)
- –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å–ª–µ–¥—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º (–º–µ–Ω—å—à–∏–µ —Ç–∏–ø—ã –ø—Ä–æ–¥–≤–∏–≥–∞—é—Ç—Å—è –∫ –±–æ–ª—å—à–∏–º)
- –°–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ (`>>`) –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π –¥–ª—è –∑–Ω–∞–∫–æ–≤—ã—Ö —Ç–∏–ø–æ–≤, –ª–æ–≥–∏—á–µ—Å–∫–∏–π –¥–ª—è –±–µ–∑–∑–Ω–∞–∫–æ–≤—ã—Ö
- –í–µ–ª–∏—á–∏–Ω—ã —Å–¥–≤–∏–≥–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–¥–≤–∏–≥–æ–≤)

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (–ø–æ–ª–Ω—ã–π)

–û—Ç –≤—ã—Å—à–µ–≥–æ –∫ –Ω–∏–∑—à–µ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É:

1. **–£–Ω–∞—Ä–Ω—ã–µ**: `!`, `-`, `~`
2. **–ú—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–∏–≤–Ω—ã–µ**: `*`, `/`, `%`
3. **–ê–¥–¥–∏—Ç–∏–≤–Ω—ã–µ**: `+`, `-`
4. **–°–¥–≤–∏–≥–∏**: `<<`, `>>`
5. **–û—Ç–Ω–æ—à–µ–Ω–∏—è**: `<`, `>`, `<=`, `>=`
6. **–†–∞–≤–µ–Ω—Å—Ç–≤–æ**: `==`, `!=`
7. **–ü–æ–±–∏—Ç–æ–≤–æ–µ –ò**: `&`
8. **–ü–æ–±–∏—Ç–æ–≤–æ–µ –∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò**: `^`
9. **–ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò**: `|`
10. **–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò**: `&&`
11. **–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò**: `||`

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫–æ–±–∫–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏:**
```hemlock
// –ù–µ—è—Å–Ω–æ
if (a || b && c) { }

// –Ø—Å–Ω–æ
if (a || (b && c)) { }
if ((a || b) && c) { }
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞

```hemlock
fn validate_age(age: i32): bool {
    if (age < 0 || age > 150) {
        return false;
    }
    return true;
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

```hemlock
fn in_range(value: i32, min: i32, max: i32): bool {
    return value >= min && value <= max;
}

if (in_range(score, 0, 100)) {
    print("valid score");
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ê–≤—Ç–æ–º–∞—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–π

```hemlock
let state = "start";

while (true) {
    switch (state) {
        case "start":
            print("Starting...");
            state = "running";
            break;

        case "running":
            if (should_pause) {
                state = "paused";
            } else if (should_stop) {
                state = "stopped";
            }
            break;

        case "paused":
            if (should_resume) {
                state = "running";
            }
            break;

        case "stopped":
            print("Stopped");
            break;
    }

    if (state == "stopped") {
        break;
    }
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ò—Ç–µ—Ä–∞—Ü–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```hemlock
let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

// –í—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞
for (let i = 0; i < arr.length; i = i + 1) {
    if (arr[i] % 2 != 0) {
        continue;  // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ—á–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞
    }
    print(arr[i]);
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥

```hemlock
fn find_first_negative(arr: array): i32 {
    for (let i = 0; i < arr.length; i = i + 1) {
        if (arr[i] < 0) {
            return i;  // –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥
        }
    }
    return -1;  // –ù–µ –Ω–∞–π–¥–µ–Ω–æ
}
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏** - –î–∞–∂–µ –¥–ª—è –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –±–ª–æ–∫–æ–≤ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É)
2. **–Ø–≤–Ω—ã–µ —É—Å–ª–æ–≤–∏—è** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `x == 0` –≤–º–µ—Å—Ç–æ `!x` –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
3. **–ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏** - –í—ã–Ω–æ—Å–∏—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–Ω–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç—ã** - –£–º–µ–Ω—å—à–∞–π—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é guard clauses
5. **–†–∞–∑–±–∏–≤–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è** - –†–∞–∑–¥–µ–ª—è–π—Ç–µ –Ω–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
6. **Default –≤ switch** - –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞–π—Ç–µ —Å–ª—É—á–∞–π default
7. **–ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ fall-through** - –î–µ–ª–∞–π—Ç–µ –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–ª —è–≤–Ω—ã–º

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≤—É—à–∫–∏

### –õ–æ–≤—É—à–∫–∞: –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –≤ —É—Å–ª–æ–≤–∏–∏

```hemlock
// –≠—Ç–æ –ù–ï —Ä–∞–∑—Ä–µ—à–µ–Ω–æ (–Ω–µ—Ç –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –≤ —É—Å–ª–æ–≤–∏—è—Ö)
if (x = 10) { }  // –û–®–ò–ë–ö–ê: –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ
if (x == 10) { }  // OK
```

### –õ–æ–≤—É—à–∫–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π Break –≤ Switch

```hemlock
// –ù–µ–ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–ª
switch (x) {
    case 1:
        print("one");
        // –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç break - –ø—Ä–æ–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è!
    case 2:
        print("two");  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∏—Ö 1 –∏ 2
        break;
}

// –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å break
switch (x) {
    case 1:
        print("one");
        break;  // –¢–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ
    case 2:
        print("two");
        break;
}
```

### –õ–æ–≤—É—à–∫–∞: –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ü–∏–∫–ª–∞

```hemlock
// i –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ —Ü–∏–∫–ª–æ–º
for (let i = 0; i < 10; i = i + 1) {
    print(i);
}
print(i);  // –û–®–ò–ë–ö–ê: i –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –∑–¥–µ—Å—å
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: FizzBuzz

```hemlock
for (let i = 1; i <= 100; i = i + 1) {
    if (i % 15 == 0) {
        print("FizzBuzz");
    } else if (i % 3 == 0) {
        print("Fizz");
    } else if (i % 5 == 0) {
        print("Buzz");
    } else {
        print(i);
    }
}
```

### –ü—Ä–∏–º–µ—Ä: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Å—Ç–æ—Ç—ã

```hemlock
fn is_prime(n: i32): bool {
    if (n < 2) {
        return false;
    }

    let i = 2;
    while (i * i <= n) {
        if (n % i == 0) {
            return false;
        }
        i = i + 1;
    }

    return true;
}
```

### –ü—Ä–∏–º–µ—Ä: –°–∏—Å—Ç–µ–º–∞ –º–µ–Ω—é

```hemlock
fn menu() {
    while (true) {
        print("1. Start");
        print("2. Settings");
        print("3. Exit");

        let choice = get_input();

        switch (choice) {
            case 1:
                start_game();
                break;
            case 2:
                show_settings();
                break;
            case 3:
                print("Goodbye!");
                return;
            default:
                print("Invalid choice");
                break;
        }
    }
}
```

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–§—É–Ω–∫—Ü–∏–∏](#language-guide-functions) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º —Å –≤—ã–∑–æ–≤–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#language-guide-error-handling) - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
- [–¢–∏–ø—ã](#language-guide-types) - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ —É—Å–ª–æ–≤–∏—è—Ö

## –°–º. —Ç–∞–∫–∂–µ

- **–°–∏–Ω—Ç–∞–∫—Å–∏—Å**: –°–º. [–°–∏–Ω—Ç–∞–∫—Å–∏—Å](#language-guide-syntax) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã**: –°–º. [–¢–∏–ø—ã](#language-guide-types) –¥–ª—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö


--------------------------------------------------------------------------------
## –§—É–Ω–∫—Ü–∏–∏
--------------------------------------------------------------------------------

# –§—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ –≤ Hemlock —è–≤–ª—è—é—Ç—Å—è **–∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞**, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ—É–Ω–∫—Ü–∏–π, –∑–∞–º—ã–∫–∞–Ω–∏—è, —Ä–µ–∫—É—Ä—Å–∏—é –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.

## –û–±–∑–æ—Ä

```hemlock
// –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
fn add(a: i32, b: i32): i32 {
    return a + b;
}

// –ê–Ω–æ–Ω–∏–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
let multiply = fn(x, y) {
    return x * y;
};

// –ó–∞–º—ã–∫–∞–Ω–∏—è
fn makeAdder(x) {
    return fn(y) {
        return x + y;
    };
}

let add5 = makeAdder(5);
print(add5(3));  // 8
```

## –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π

### –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
fn greet(name: string): string {
    return "Hello, " + name;
}

let msg = greet("Alice");  // "Hello, Alice"
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `fn` - –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ —Ñ—É–Ω–∫—Ü–∏–∏
- `greet` - –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏
- `(name: string)` - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
- `: string` - –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø
- `{ ... }` - –¢–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏

### –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∏–º–µ–Ω, –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:

```hemlock
let square = fn(x) {
    return x * x;
};

print(square(5));  // 25
```

**–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ vs. –ê–Ω–æ–Ω–∏–º–Ω—ã–µ:**
```hemlock
// –≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:
fn add(a, b) { return a + b; }

let add = fn(a, b) { return a + b; };
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```hemlock
fn example(a, b, c) {
    return a + b + c;
}

let result = example(1, 2, 3);  // 6
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```hemlock
fn add(a: i32, b: i32): i32 {
    return a + b;
}

add(5, 10);      // OK
add(5, 10.5);    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç –∫ f64
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:**
- –¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã
- –ù–µ—è–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ —Å–ª–µ–¥—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è
- –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –≤—ã–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é

–í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã **–∫–æ–ø–∏—Ä—É—é—Ç—Å—è** (–ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é):

```hemlock
fn modify(x) {
    x = 100;  // –ò–∑–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é
}

let a = 10;
modify(a);
print(a);  // –í—Å–µ –µ—â–µ 10 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û–±—ä–µ–∫—Ç—ã –∏ –º–∞—Å—Å–∏–≤—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ (—Å—Å—ã–ª–∫–∞ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è), –ø–æ—ç—Ç–æ–º—É –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å:

```hemlock
fn modify_array(arr) {
    arr[0] = 99;  // –ò–∑–º–µ–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤
}

let a = [1, 2, 3];
modify_array(a);
print(a[0]);  // 99 (–∏–∑–º–µ–Ω–µ–Ω–æ)
```

## –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### –û–ø–µ—Ä–∞—Ç–æ—Ä Return

```hemlock
fn get_max(a: i32, b: i32): i32 {
    if (a > b) {
        return a;
    } else {
        return b;
    }
}
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞

–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ç–∏–ø–∞ –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:

```hemlock
fn calculate(): f64 {
    return 3.14159;
}

fn get_name(): string {
    return "Alice";
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã)
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ —Å–ª–µ–¥—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è

### –ù–µ—è–≤–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç

–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ—è–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `null`:

```hemlock
fn print_message(msg) {
    print(msg);
    // –ù–µ—è–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null
}

let result = print_message("hello");  // result —Ä–∞–≤–µ–Ω null
```

### –†–∞–Ω–Ω–∏–π –≤–æ–∑–≤—Ä–∞—Ç

```hemlock
fn find_first_negative(arr) {
    for (let i = 0; i < arr.length; i = i + 1) {
        if (arr[i] < 0) {
            return i;  // –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥
        }
    }
    return -1;  // –ù–µ –Ω–∞–π–¥–µ–Ω–æ
}
```

### –í–æ–∑–≤—Ä–∞—Ç –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è

`return;` –±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`:

```hemlock
fn maybe_process(value) {
    if (value < 0) {
        return;  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç null
    }
    return value * 2;
}
```

## –§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞

–§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–∞–∫ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### –§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

```hemlock
let operation = fn(x, y) { return x + y; };

print(operation(5, 3));  // 8

// –ü–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
operation = fn(x, y) { return x * y; };
print(operation(5, 3));  // 15
```

### –§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

```hemlock
fn apply(f, x) {
    return f(x);
}

fn double(n) {
    return n * 2;
}

let result = apply(double, 5);  // 10
```

### –§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

```hemlock
fn get_operation(op: string) {
    if (op == "add") {
        return fn(a, b) { return a + b; };
    } else if (op == "multiply") {
        return fn(a, b) { return a * b; };
    } else {
        return fn(a, b) { return 0; };
    }
}

let add = get_operation("add");
print(add(5, 3));  // 8
```

## –ó–∞–º—ã–∫–∞–Ω–∏—è

–§—É–Ω–∫—Ü–∏–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç —Å–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (–ª–µ–∫—Å–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏).

### –ë–∞–∑–æ–≤—ã–µ –∑–∞–º—ã–∫–∞–Ω–∏—è

```hemlock
fn makeCounter() {
    let count = 0;
    return fn() {
        count = count + 1;
        return count;
    };
}

let counter = makeCounter();
print(counter());  // 1
print(counter());  // 2
print(counter());  // 3
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç `count` –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏
- `count` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `makeCounter()` —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ —Å–æ —Å–≤–æ–∏–º `count`

### –ó–∞–º—ã–∫–∞–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```hemlock
fn makeAdder(x) {
    return fn(y) {
        return x + y;
    };
}

let add5 = makeAdder(5);
let add10 = makeAdder(10);

print(add5(3));   // 8
print(add10(3));  // 13
```

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–º—ã–∫–∞–Ω–∏—è

```hemlock
fn makeOperations(x) {
    let add = fn(y) { return x + y; };
    let multiply = fn(y) { return x * y; };

    return { add: add, multiply: multiply };
}

let ops = makeOperations(5);
print(ops.add(3));       // 8
print(ops.multiply(3));  // 15
```

### –õ–µ–∫—Å–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ —á–µ—Ä–µ–∑ –ª–µ–∫—Å–∏—á–µ—Å–∫—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏:

```hemlock
let global = 10;

fn outer() {
    let outer_var = 20;

    fn inner() {
        // –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å global –∏ outer_var
        print(global);      // 10
        print(outer_var);   // 20
    }

    inner();
}

outer();
```

–ó–∞–º—ã–∫–∞–Ω–∏—è –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ —Å—Å—ã–ª–∫–µ, –ø–æ–∑–≤–æ–ª—è—è –∫–∞–∫ —á—Ç–µ–Ω–∏–µ, —Ç–∞–∫ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ (–∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤ –ø—Ä–∏–º–µ—Ä–µ `makeCounter` –≤—ã—à–µ).

## –†–µ–∫—É—Ä—Å–∏—è

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å —Å–∞–º–∏ —Å–µ–±—è.

### –ë–∞–∑–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è

```hemlock
fn factorial(n: i32): i32 {
    if (n <= 1) {
        return 1;
    }
    return n * factorial(n - 1);
}

print(factorial(5));  // 120
```

### –í–∑–∞–∏–º–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞:

```hemlock
fn is_even(n: i32): bool {
    if (n == 0) {
        return true;
    }
    return is_odd(n - 1);
}

fn is_odd(n: i32): bool {
    if (n == 0) {
        return false;
    }
    return is_even(n - 1);
}

print(is_even(4));  // true
print(is_odd(4));   // false
```

### –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```hemlock
fn sum_array(arr: array, index: i32): i32 {
    if (index >= arr.length) {
        return 0;
    }
    return arr[index] + sum_array(arr, index + 1);
}

let numbers = [1, 2, 3, 4, 5];
print(sum_array(numbers, 0));  // 15
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö–≤–æ—Å—Ç–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ - –≥–ª—É–±–æ–∫–∞—è —Ä–µ–∫—É—Ä—Å–∏—è –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞.

## –§—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞

–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏.

### –ü–∞—Ç—Ç–µ—Ä–Ω Map

```hemlock
fn map(arr, f) {
    let result = [];
    let i = 0;
    while (i < arr.length) {
        result.push(f(arr[i]));
        i = i + 1;
    }
    return result;
}

fn double(x) { return x * 2; }

let numbers = [1, 2, 3, 4, 5];
let doubled = map(numbers, double);  // [2, 4, 6, 8, 10]
```

### –ü–∞—Ç—Ç–µ—Ä–Ω Filter

```hemlock
fn filter(arr, predicate) {
    let result = [];
    let i = 0;
    while (i < arr.length) {
        if (predicate(arr[i])) {
            result.push(arr[i]);
        }
        i = i + 1;
    }
    return result;
}

fn is_even(x) { return x % 2 == 0; }

let numbers = [1, 2, 3, 4, 5, 6];
let evens = filter(numbers, is_even);  // [2, 4, 6]
```

### –ü–∞—Ç—Ç–µ—Ä–Ω Reduce

```hemlock
fn reduce(arr, f, initial) {
    let accumulator = initial;
    let i = 0;
    while (i < arr.length) {
        accumulator = f(accumulator, arr[i]);
        i = i + 1;
    }
    return accumulator;
}

fn add(a, b) { return a + b; }

let numbers = [1, 2, 3, 4, 5];
let sum = reduce(numbers, add, 0);  // 15
```

### –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π

```hemlock
fn compose(f, g) {
    return fn(x) {
        return f(g(x));
    };
}

fn double(x) { return x * 2; }
fn increment(x) { return x + 1; }

let double_then_increment = compose(increment, double);
print(double_then_increment(5));  // 11 (5*2 + 1)
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω: –§–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
fn createPerson(name: string, age: i32) {
    return {
        name: name,
        age: age,
        greet: fn() {
            return "Hi, I'm " + self.name;
        }
    };
}

let person = createPerson("Alice", 30);
print(person.greet());  // "Hi, I'm Alice"
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: Callback-—Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
fn process_async(data, callback) {
    // ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    callback(data);
}

process_async("test", fn(result) {
    print("Processing complete: " + result);
});
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

```hemlock
fn partial(f, x) {
    return fn(y) {
        return f(x, y);
    };
}

fn multiply(a, b) {
    return a * b;
}

let double = partial(multiply, 2);
let triple = partial(multiply, 3);

print(double(5));  // 10
print(triple(5));  // 15
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ú–µ–º–æ–∏–∑–∞—Ü–∏—è

```hemlock
fn memoize(f) {
    let cache = {};

    return fn(x) {
        if (cache.has(x)) {
            return cache[x];
        }

        let result = f(x);
        cache[x] = result;
        return result;
    };
}

fn expensive_fibonacci(n) {
    if (n <= 1) { return n; }
    return expensive_fibonacci(n - 1) + expensive_fibonacci(n - 2);
}

let fast_fib = memoize(expensive_fibonacci);
print(fast_fib(10));  // –ù–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
```

## –°–µ–º–∞–Ω—Ç–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º—É —Ç–∏–ø—É

–§—É–Ω–∫—Ü–∏–∏ —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ —Ç–∏–ø–∞ **–¥–æ–ª–∂–Ω—ã** –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ:

```hemlock
fn get_value(): i32 {
    // –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä return
}

fn get_value(): i32 {
    return 42;  // OK
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```hemlock
fn add(a: i32, b: i32): i32 {
    return a + b;
}

add(5, 10);        // OK
add(5.5, 10.5);    // –ü—Ä–æ–¥–≤–∏–≥–∞–µ—Ç –∫ f64, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç f64
add("a", "b");     // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤
```

### –ü—Ä–∞–≤–∏–ª–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏

```hemlock
let global = "global";

fn outer() {
    let outer_var = "outer";

    fn inner() {
        let inner_var = "inner";
        // –ú–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫: inner_var, outer_var, global
    }

    // –ú–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫: outer_var, global
    // –ù–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫: inner_var
}

// –ú–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫: global
// –ù–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫: outer_var, inner_var
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤** - –ü–æ–º–æ–≥–∞–µ—Ç –ª–æ–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è
2. **–î–µ–ª–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–∞–ª–µ–Ω—å–∫–∏–º–∏** - –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ –¥–µ–ª–æ
3. **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –ò–∑–±–µ–≥–∞–π—Ç–µ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
4. **–ù–∞–∑—ã–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —è—Å–Ω–æ** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Å –≥–ª–∞–≥–æ–ª–∞–º–∏
5. **–í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Ä–∞–Ω–æ** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ guard clauses –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
6. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–º—ã–∫–∞–Ω–∏—è** - –î–µ–ª–∞–π—Ç–µ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —è–≤–Ω—ã–º–∏
7. **–ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª—É–±–æ–∫–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö–≤–æ—Å—Ç–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ª–æ–≤—É—à–∫–∏

### –õ–æ–≤—É—à–∫–∞: –ì–ª—É–±–∏–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–∏

```hemlock
// –ì–ª—É–±–æ–∫–∞—è —Ä–µ–∫—É—Ä—Å–∏—è –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞
fn count_down(n) {
    if (n == 0) { return; }
    count_down(n - 1);
}

count_down(100000);  // –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å —Å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Å—Ç–µ–∫–∞
```

### –õ–æ–≤—É—à–∫–∞: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```hemlock
fn make_counter() {
    let count = 0;
    return fn() {
        count = count + 1;  // –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        return count;
    };
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–º—ã–∫–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª—è—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä: –ö–æ–Ω–≤–µ–π–µ—Ä —Ñ—É–Ω–∫—Ü–∏–π

```hemlock
fn pipeline(value, ...functions) {
    let result = value;
    for (f in functions) {
        result = f(result);
    }
    return result;
}

fn double(x) { return x * 2; }
fn increment(x) { return x + 1; }
fn square(x) { return x * x; }

let result = pipeline(3, double, increment, square);
print(result);  // 49 ((3*2+1)^2)
```

### –ü—Ä–∏–º–µ—Ä: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π

```hemlock
let handlers = [];

fn on_event(name: string, handler) {
    handlers.push({ name: name, handler: handler });
}

fn trigger_event(name: string, data) {
    let i = 0;
    while (i < handlers.length) {
        if (handlers[i].name == name) {
            handlers[i].handler(data);
        }
        i = i + 1;
    }
}

on_event("click", fn(data) {
    print("Clicked: " + data);
});

trigger_event("click", "button1");
```

### –ü—Ä–∏–º–µ—Ä: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º

```hemlock
fn sort(arr, compare) {
    // –ü—É–∑—ã—Ä—å–∫–æ–≤–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º
    let n = arr.length;
    let i = 0;
    while (i < n) {
        let j = 0;
        while (j < n - i - 1) {
            if (compare(arr[j], arr[j + 1]) > 0) {
                let temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
            j = j + 1;
        }
        i = i + 1;
    }
}

fn ascending(a, b) {
    if (a < b) { return -1; }
    if (a > b) { return 1; }
    return 0;
}

let numbers = [5, 2, 8, 1, 9];
sort(numbers, ascending);
print(numbers);  // [1, 2, 5, 8, 9]
```

## –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ `?:`:

```hemlock
fn greet(name, greeting?: "Hello") {
    return greeting + " " + name;
}

print(greet("Alice"));           // "Hello Alice"
print(greet("Bob", "Hi"));       // "Hi Bob"

fn add(a, b?: 10, c?: 100) {
    return a + b + c;
}

print(add(1));          // 111 (1 + 10 + 100)
print(add(1, 2));       // 103 (1 + 2 + 100)
print(add(1, 2, 3));    // 6   (1 + 2 + 3)
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–æ—Å–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## –í–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (rest-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—è rest-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`...`):

```hemlock
fn sum(...args) {
    let total = 0;
    for (arg in args) {
        total = total + arg;
    }
    return total;
}

print(sum(1, 2, 3));        // 6
print(sum(1, 2, 3, 4, 5));  // 15
print(sum());               // 0

fn log(prefix, ...messages) {
    for (msg in messages) {
        print(prefix + ": " + msg);
    }
}

log("INFO", "Starting", "Running", "Done");
// INFO: Starting
// INFO: Running
// INFO: Done
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- Rest-–ø–∞—Ä–∞–º–µ—Ç—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
- Rest-–ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –º–∞—Å—Å–∏–≤
- –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –æ–±—ã—á–Ω—ã–º–∏ –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

## –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —É–∫–∞–∑–∞—Ç—å —Ç–æ—á–Ω—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É, –æ–∂–∏–¥–∞–µ–º—É—é –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–π:

### –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã

```hemlock
// –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞: fn(—Ç–∏–ø—ã_–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤): –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π_—Ç–∏–ø
fn apply(f: fn(i32): i32, x: i32): i32 {
    return f(x);
}

let double = fn(n) { return n * 2; };
let result = apply(double, 5);  // 10
```

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞

```hemlock
// –§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—é
fn make_adder(n: i32): fn(i32): i32 {
    return fn(x) { return x + n; };
}

let add5 = make_adder(5);
print(add5(10));  // 15
```

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã

```hemlock
// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–∏–ø
fn run_task(handler: async fn(): void) {
    spawn(handler);
}

run_task(async fn() {
    print("Running async!");
});
```

### –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤

```hemlock
// –°–æ–∑–¥–∞–Ω–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
type Callback = fn(i32): void;
type Predicate = fn(any): bool;
type BinaryOp = fn(i32, i32): i32;

fn filter_with(arr: array, pred: Predicate): array {
    return arr.filter(pred);
}
```

## Const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä `const` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏:

### –ë–∞–∑–æ–≤—ã–µ const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```hemlock
fn print_all(const items: array) {
    // items.push(4);  // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å const –ø–∞—Ä–∞–º–µ—Ç—Ä
    for (item in items) {
        print(item);   // OK: —á—Ç–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
    }
}

let nums = [1, 2, 3];
print_all(nums);
```

### –ì–ª—É–±–æ–∫–∞—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å

Const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≥–ª—É–±–æ–∫—É—é –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∏ –ø–æ –∫–∞–∫–æ–º—É –ø—É—Ç–∏:

```hemlock
fn describe(const person: object) {
    print(person.name);       // OK: —á—Ç–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
    // person.name = "Bob";   // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å
    // person.address.city = "NYC";  // –û–®–ò–ë–ö–ê: –≥–ª—É–±–æ–∫–∏–π const
}
```

### –ß—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç Const

| –¢–∏–ø | –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è Const | –†–∞–∑—Ä–µ—à–µ–Ω–æ |
|-----|-------------------|-----------|
| array | push, pop, shift, unshift, insert, remove, clear, reverse | slice, concat, map, filter, find, contains |
| object | –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π | —á—Ç–µ–Ω–∏–µ –ø–æ–ª–µ–π |
| buffer | –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É | —á—Ç–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É |
| string | –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É | –≤—Å–µ –º–µ—Ç–æ–¥—ã (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏) |

## –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

–§—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏ –∏ –≥–∏–±–∫–æ—Å—Ç–∏:

### –ë–∞–∑–æ–≤—ã–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

```hemlock
fn create_user(name: string, age?: 18, active?: true) {
    print(name + " is " + age + " years old");
}

// –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ)
create_user("Alice", 25, false);

// –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã - –º–æ–≥—É—Ç –±—ã—Ç—å –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ
create_user(name: "Bob", age: 30);
create_user(age: 25, name: "Charlie", active: false);
```

### –°–º–µ—à–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö

```hemlock
// –ü—Ä–æ–ø—É—Å–∫ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –Ω—É–∂–Ω—ã—Ö
create_user("David", active: false);  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç default age=18

// –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–æ—Å–ª–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö
create_user("Eve", age: 21);          // OK
// create_user(name: "Bad", 25);      // –û–®–ò–ë–ö–ê: –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Å–ª–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ
```

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `name: value` –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ –ø–æ—Å–ª–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö
- –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –∑–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏
- –†–∞–±–æ—Ç–∞–µ—Ç —Å default/–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

- **–ù–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ —Å—Å—ã–ª–∫–µ** - –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `ref` —Ä–∞–∑–±–∏—Ä–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–ù–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π** - –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞ –∏–º—è
- **–ù–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ö–≤–æ—Å—Ç–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤** - –ì–ª—É–±–æ–∫–∞—è —Ä–µ–∫—É—Ä—Å–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ —Ä–∞–∑–º–µ—Ä–æ–º —Å—Ç–µ–∫–∞

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º](#language-guide-control-flow) - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Å —É–ø—Ä–∞–≤–ª—è—é—â–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏
- [–û–±—ä–µ–∫—Ç—ã](#language-guide-objects) - –ú–µ—Ç–æ–¥—ã —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –æ–±—ä–µ–∫—Ç–∞—Ö
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#language-guide-error-handling) - –§—É–Ω–∫—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [–¢–∏–ø—ã](#language-guide-types) - –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

## –°–º. —Ç–∞–∫–∂–µ

- **–ó–∞–º—ã–∫–∞–Ω–∏—è**: –°–º. —Ä–∞–∑–¥–µ–ª "–§—É–Ω–∫—Ü–∏–∏" –≤ CLAUDE.md –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏ –∑–∞–º—ã–∫–∞–Ω–∏–π
- **–ó–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞**: –§—É–Ω–∫—Ü–∏–∏ - —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ
- **–õ–µ–∫—Å–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏**: –§—É–Ω–∫—Ü–∏–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç —Å–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è



################################################################################
# –ü–†–û–î–í–ò–ù–£–¢–´–ï –¢–ï–ú–´
################################################################################

--------------------------------------------------------------------------------
## FFI
--------------------------------------------------------------------------------

# –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (FFI) –≤ Hemlock

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **FFI (Foreign Function Interface)** –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π C –∏–∑ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º libffi, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ C –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ API.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å](#—Ç–µ–∫—É—â–∏–π-—Å—Ç–∞—Ç—É—Å)
- [–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã](#–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ-—Ç–∏–ø—ã)
- [–ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏](#–±–∞–∑–æ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)
- [–≠–∫—Å–ø–æ—Ä—Ç FFI-—Ñ—É–Ω–∫—Ü–∏–π](#—ç–∫—Å–ø–æ—Ä—Ç-ffi-—Ñ—É–Ω–∫—Ü–∏–π)
- [–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Å–ª—É—á–∞–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–ë—É–¥—É—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ](#–±—É–¥—É—â–µ–µ-—Ä–∞–∑–≤–∏—Ç–∏–µ)
- [FFI-–∫–æ–ª–ª–±—ç–∫–∏](#ffi-–∫–æ–ª–ª–±—ç–∫–∏)
- [FFI-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](#ffi-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- [–≠–∫—Å–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä](#—ç–∫—Å–ø–æ—Ä—Ç-—Ç–∏–ø–æ–≤-—Å—Ç—Ä—É–∫—Ç—É—Ä)
- [–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#—Ç–µ–∫—É—â–∏–µ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

## –û–±–∑–æ—Ä

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (FFI) –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞–º Hemlock:
- –í—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ C –∏–∑ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (.so, .dylib, .dll)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ C –±–µ–∑ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –æ–±—ë—Ä—Ç–æ—á–Ω–æ–≥–æ –∫–æ–¥–∞
- –û–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º API –Ω–∞–ø—Ä—è–º—É—é
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
- –°–≤—è–∑—ã–≤–∞—Ç—å Hemlock —Å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
- –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π C
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –º–µ–∂–¥—É Hemlock –∏ C
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ libffi –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ FFI –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Hemlock —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏:

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π C –∏–∑ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ (—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π, —É–∫–∞–∑–∞—Ç–µ–ª–∏)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ libffi
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
- **–ö–æ–ª–ª–±—ç–∫–∏ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏** - –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ—É–Ω–∫—Ü–∏–π Hemlock –≤ C
- **–≠–∫—Å–ø–æ—Ä—Ç extern-—Ñ—É–Ω–∫—Ü–∏–π** - –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ FFI-—Å–≤—è–∑–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- **–ü–µ—Ä–µ–¥–∞—á–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä** - –ü–µ—Ä–µ–¥–∞—á–∞ C-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é
- **–ü–æ–ª–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π** - –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ (i8-i64, u8-u64, f32, f64, ptr)
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä/—É–∫–∞–∑–∞—Ç–µ–ª—å** - `buffer_ptr()`, `ptr_to_buffer()`
- **–†–∞–∑–º–µ—Ä—ã FFI-—Ç–∏–ø–æ–≤** - `ffi_sizeof()` –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —Ç–∏–ø–æ–≤
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `size_t`, `usize`, `isize`, `intptr_t`

**–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:**
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à–∞–ª–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫
- –£–ª—É—á—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**–ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏:**
- –¢–µ—Å—Ç—ã FFI –ø—Ä–æ—Ö–æ–¥—è—Ç, –≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç—ã –∫–æ–ª–ª–±—ç–∫–æ–≤
- –ë–∞–∑–æ–≤—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –ø—Ä–æ–≤–µ—Ä–µ–Ω
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–ª–ª–±—ç–∫–æ–≤ qsort –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã

### –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã

–°–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã Hemlock –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤/–∏–∑ —Ñ—É–Ω–∫—Ü–∏–π C:

| –¢–∏–ø Hemlock | –¢–∏–ø C | –†–∞–∑–º–µ—Ä | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|-------------|-------|--------|------------|
| `i8` | `int8_t` | 1 –±–∞–π—Ç | –ó–Ω–∞–∫–æ–≤–æ–µ 8-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `i16` | `int16_t` | 2 –±–∞–π—Ç–∞ | –ó–Ω–∞–∫–æ–≤–æ–µ 16-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `i32` | `int32_t` | 4 –±–∞–π—Ç–∞ | –ó–Ω–∞–∫–æ–≤–æ–µ 32-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `i64` | `int64_t` | 8 –±–∞–π—Ç | –ó–Ω–∞–∫–æ–≤–æ–µ 64-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `u8` | `uint8_t` | 1 –±–∞–π—Ç | –ë–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ 8-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `u16` | `uint16_t` | 2 –±–∞–π—Ç–∞ | –ë–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ 16-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `u32` | `uint32_t` | 4 –±–∞–π—Ç–∞ | –ë–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ 32-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `u64` | `uint64_t` | 8 –±–∞–π—Ç | –ë–µ–∑–∑–Ω–∞–∫–æ–≤–æ–µ 64-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ |
| `f32` | `float` | 4 –±–∞–π—Ç–∞ | 32-–±–∏—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π |
| `f64` | `double` | 8 –±–∞–π—Ç | 64-–±–∏—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π |
| `ptr` | `void*` | 8 –±–∞–π—Ç | –°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å |

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è:**
- –¶–µ–ª—ã–µ —á–∏—Å–ª–∞ Hemlock ‚Üí —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ C (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
- –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π Hemlock ‚Üí —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π C
- –£–∫–∞–∑–∞—Ç–µ–ª–∏ Hemlock ‚Üí —É–∫–∞–∑–∞—Ç–µ–ª–∏ C
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è C ‚Üí –∑–Ω–∞—á–µ–Ω–∏—è Hemlock

**–ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤:**
```hemlock
// Hemlock ‚Üí C
let i: i32 = 42;         // ‚Üí int32_t (4 –±–∞–π—Ç–∞)
let f: f64 = 3.14;       // ‚Üí double (8 –±–∞–π—Ç)
let p: ptr = alloc(64);  // ‚Üí void* (8 –±–∞–π—Ç)

// C ‚Üí Hemlock (–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
// int32_t foo() ‚Üí i32
// double bar() ‚Üí f64
// void* baz() ‚Üí ptr
```

## –ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –†–∞–∑–¥–µ–ª—è–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

FFI —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏:

**Linux:** —Ñ–∞–π–ª—ã `.so`
```
libexample.so
/usr/lib/libm.so
```

**macOS:** —Ñ–∞–π–ª—ã `.dylib`
```
libexample.dylib
/usr/lib/libSystem.dylib
```

**Windows:** —Ñ–∞–π–ª—ã `.dll`
```
example.dll
kernel32.dll
```

### –°–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π

–§—É–Ω–∫—Ü–∏–∏ C –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã FFI:

```c
// –ü—Ä–∏–º–µ—Ä—ã —Å–∏–≥–Ω–∞—Ç—É—Ä —Ñ—É–Ω–∫—Ü–∏–π C
int add(int a, int b);
double sqrt(double x);
void* malloc(size_t size);
void free(void* ptr);
```

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∏–∑ Hemlock –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π.

### –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

FFI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **libffi** –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏:
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ x86, x86-64, ARM, ARM64
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ –≤—ã–∑–æ–≤–∞—Ö
- –ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ ABI
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Linux, macOS, Windows (—Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π libffi)

## –≠–∫—Å–ø–æ—Ä—Ç FFI-—Ñ—É–Ω–∫—Ü–∏–π

FFI-—Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–µ —Å `extern fn`, –º–æ–≥—É—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–∑ –º–æ–¥—É–ª–µ–π, –ø–æ–∑–≤–æ–ª—è—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—ë—Ä—Ç–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏.

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —ç–∫—Å–ø–æ—Ä—Ç–∞

```hemlock
// string_utils.hml - –ú–æ–¥—É–ª—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –æ–±–æ—Ä–∞—á–∏–≤–∞—é—â–∏–π —Å—Ç—Ä–æ–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ C
import "libc.so.6";

// –≠–∫—Å–ø–æ—Ä—Ç extern-—Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é
export extern fn strlen(s: string): i32;
export extern fn strcmp(s1: string, s2: string): i32;

// –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏ –≤–º–µ—Å—Ç–µ —Å extern-—Ñ—É–Ω–∫—Ü–∏—è–º–∏
export fn string_length(s: string): i32 {
    return strlen(s);
}

export fn strings_equal(a: string, b: string): bool {
    return strcmp(a, b) == 0;
}
```

### –ò–º–ø–æ—Ä—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö FFI-—Ñ—É–Ω–∫—Ü–∏–π

```hemlock
// main.hml - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö FFI-—Ñ—É–Ω–∫—Ü–∏–π
import { strlen, string_length, strings_equal } from "./string_utils.hml";

let msg = "Hello, World!";
print(strlen(msg));           // 13 - –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ extern
print(string_length(msg));    // 13 - —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—ë—Ä—Ç–∫–∞

print(strings_equal("foo", "foo"));  // true
print(strings_equal("foo", "bar"));  // false
```

### –°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è export extern

**1. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**
```hemlock
// platform.hml - –ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º
import "libc.so.6";  // Linux

export extern fn getpid(): i32;
export extern fn getuid(): i32;
export extern fn geteuid(): i32;
```

**2. –û–±—ë—Ä—Ç–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫**
```hemlock
// crypto_lib.hml - –û–±—ë—Ä—Ç–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –∫—Ä–∏–ø—Ç–æ–±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import "libcrypto.so";

export extern fn SHA256(data: ptr, len: u64, out: ptr): ptr;
export extern fn MD5(data: ptr, len: u64, out: ptr): ptr;

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Hemlock-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—ë—Ä—Ç–æ–∫
export fn sha256_string(s: string): string {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º extern-—Ñ—É–Ω–∫—Ü–∏–∏
}
```

**3. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ FFI-–æ–±—ä—è–≤–ª–µ–Ω–∏—è**
```hemlock
// libc.hml - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è —Å–≤—è–∑–µ–π libc
import "libc.so.6";

// –°—Ç—Ä–æ–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
export extern fn strlen(s: string): i32;
export extern fn strcpy(dest: ptr, src: string): ptr;
export extern fn strcat(dest: ptr, src: string): ptr;

// –§—É–Ω–∫—Ü–∏–∏ –ø–∞–º—è—Ç–∏
export extern fn malloc(size: u64): ptr;
export extern fn realloc(p: ptr, size: u64): ptr;
export extern fn calloc(nmemb: u64, size: u64): ptr;

// –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
export extern fn getpid(): i32;
export extern fn getppid(): i32;
export extern fn getenv(name: string): ptr;
```

–ó–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É:
```hemlock
import { strlen, malloc, getpid } from "./libc.hml";
```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –æ–±—ã—á–Ω—ã–º–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏

–í—ã –º–æ–∂–µ—Ç–µ —Å–º–µ—à–∏–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ extern-—Ñ—É–Ω–∫—Ü–∏–∏ —Å –æ–±—ã—á–Ω—ã–º–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π:

```hemlock
// math_extended.hml
import "libm.so.6";

// –≠–∫—Å–ø–æ—Ä—Ç —Å—ã—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π C
export extern fn sin(x: f64): f64;
export extern fn cos(x: f64): f64;
export extern fn tan(x: f64): f64;

// –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π Hemlock, –∫–æ—Ç–æ—Ä—ã–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç
export fn deg_to_rad(degrees: f64): f64 {
    return degrees * 3.14159265359 / 180.0;
}

export fn sin_degrees(degrees: f64): f64 {
    return sin(deg_to_rad(degrees));
}
```

### –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–ü—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ extern-—Ñ—É–Ω–∫—Ü–∏–π –ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –∏–º–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º:

```hemlock
// –î–ª—è Linux
import "libc.so.6";

// –î–ª—è macOS (–Ω—É–∂–µ–Ω –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥)
import "libSystem.B.dylib";
```

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `import "library"` –≤ Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–≥–æ FFI-–∫–æ–¥–∞ –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏.

## –°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–î–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ C:

**–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
// –í—ã–∑–æ–≤ sqrt –∏–∑ libm
let result = sqrt(16.0);  // 4.0
```

**–í—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:**
```hemlock
// –í—ã–∑–æ–≤ malloc/free –∏–∑ libc
let ptr = malloc(1024);
free(ptr);
```

### 2. –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ C:

**–ü—Ä–∏–º–µ—Ä: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
```hemlock
// –ó–∞–≥—Ä—É–∑–∫–∞ libpng –∏–ª–∏ libjpeg
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ C
```

**–ü—Ä–∏–º–µ—Ä: –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è**
```hemlock
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OpenSSL –∏–ª–∏ libsodium
// –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/–¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ FFI
```

### 3. –°–∏—Å—Ç–µ–º–Ω—ã–µ API

–ü—Ä—è–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã:

**–ü—Ä–∏–º–µ—Ä: POSIX API**
```hemlock
// –í—ã–∑–æ–≤ getpid, getuid –∏ —Ç.–¥.
// –î–æ—Å—Ç—É–ø –∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
```

### 4. –ö—Ä–∏—Ç–∏—á–Ω—ã–π –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥

–í—ã–∑–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π C:

```hemlock
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—ã—Å–æ–∫–æ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ C
// SIMD-–æ–ø–µ—Ä–∞—Ü–∏–∏, –≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
// –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ-—É—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### 5. –î–æ—Å—Ç—É–ø –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è:

```hemlock
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GPIO –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
// –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å USB-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
// –î–æ—Å—Ç—É–ø –∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É –ø–æ—Ä—Ç—É
```

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º

–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–¥–æ–≤—ã—Ö –±–∞–∑ C:

```hemlock
// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π C
// –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Hemlock
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –∫–æ–¥–∞ C
```

## –ë—É–¥—É—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä**
```hemlock
// –ë—É–¥—É—â–µ–µ: –ü–µ—Ä–µ–¥–∞—á–∞/–≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä C
define Point {
    x: f64,
    y: f64,
}

let p = Point { x: 1.0, y: 2.0 };
c_function_with_struct(p);
```

**2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–æ–≤/–±—É—Ñ–µ—Ä–æ–≤**
```hemlock
// –ë—É–¥—É—â–µ–µ: –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å—Å–∏–≤–æ–≤
let arr = [1, 2, 3, 4, 5];
process_array(arr);  // –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é C
```

**3. –ö–æ–ª–ª–±—ç–∫–∏ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏** (–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!)
```hemlock
// –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ—É–Ω–∫—Ü–∏–π Hemlock –≤ C –∫–∞–∫ –∫–æ–ª–ª–±—ç–∫–∏
fn my_compare(a: ptr, b: ptr): i32 {
    let va = ptr_deref_i32(a);
    let vb = ptr_deref_i32(b);
    return va - vb;
}

// –°–æ–∑–¥–∞–Ω–∏–µ C-–≤—ã–∑—ã–≤–∞–µ–º–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é
let cmp = callback(my_compare, ["ptr", "ptr"], "i32");

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å qsort –∏–ª–∏ –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π C, –æ–∂–∏–¥–∞—é—â–µ–π –∫–æ–ª–ª–±—ç–∫
qsort(arr, count, elem_size, cmp);

// –û—á–∏—Å—Ç–∫–∞ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
callback_free(cmp);
```

**4. –ú–∞—Ä—à–∞–ª–∏–Ω–≥ —Å—Ç—Ä–æ–∫**
```hemlock
// –ë—É–¥—É—â–µ–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫
let s = "hello";
c_string_function(s);  // –ê–≤—Ç–æ-–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É C
```

**5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
```hemlock
// –ë—É–¥—É—â–µ–µ: –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö
try {
    let result = risky_c_function();
} catch (e) {
    print("–û—à–∏–±–∫–∞ FFI: " + e);
}
```

**6. –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
```hemlock
// –ë—É–¥—É—â–µ–µ: –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è FFI
@ffi("libm.so")
fn sqrt(x: f64): f64;

let result = sqrt(16.0);  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
```

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**v1.0:**
- –ë–∞–∑–æ–≤—ã–π FFI —Å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
- –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–ª–ª–±—ç–∫–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è libffi

**–ë—É–¥—É—â–µ–µ:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä
- –£–ª—É—á—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–≤—è–∑–µ–π

## FFI-–∫–æ–ª–ª–±—ç–∫–∏

Hemlock –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É —Ñ—É–Ω–∫—Ü–∏–π –≤ –∫–æ–¥ C –∫–∞–∫ –∫–æ–ª–ª–±—ç–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–º—ã–∫–∞–Ω–∏–π libffi. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å C API, –æ–∂–∏–¥–∞—é—â–∏–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ `qsort`, —Ü–∏–∫–ª—ã —Å–æ–±—ã—Ç–∏–π –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–ª–±—ç–∫–æ–≤.

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–±—ç–∫–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `callback()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è C-–≤—ã–∑—ã–≤–∞–µ–º–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ Hemlock:

```hemlock
// callback(—Ñ—É–Ω–∫—Ü–∏—è, —Ç–∏–ø—ã_–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–∏–ø_–≤–æ–∑–≤—Ä–∞—Ç–∞) -> ptr
let cb = callback(my_function, ["ptr", "ptr"], "i32");
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `function`: –§—É–Ω–∫—Ü–∏—è Hemlock –¥–ª—è –æ–±—ë—Ä—Ç–∫–∏
- `param_types`: –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –∏–º—ë–Ω —Ç–∏–ø–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `["ptr", "i32"]`)
- `return_type`: –°—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"i32"`, `"void"`)

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –∫–æ–ª–ª–±—ç–∫–æ–≤:**
- `"i8"`, `"i16"`, `"i32"`, `"i64"` - –ó–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ
- `"u8"`, `"u16"`, `"u32"`, `"u64"` - –ë–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ
- `"f32"`, `"f64"` - –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
- `"ptr"` - –£–∫–∞–∑–∞—Ç–µ–ª—å
- `"void"` - –ù–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- `"bool"` - –ë—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä: qsort

```hemlock
import "libc.so.6";
extern fn qsort(base: ptr, nmemb: u64, size: u64, compar: ptr): void;

// –§—É–Ω–∫—Ü–∏—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é)
fn compare_ints(a: ptr, b: ptr): i32 {
    let va = ptr_deref_i32(a);
    let vb = ptr_deref_i32(b);
    if (va < vb) { return -1; }
    if (va > vb) { return 1; }
    return 0;
}

// –í—ã–¥–µ–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∏–∑ 5 —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
let arr = alloc(20);  // 5 * 4 –±–∞–π—Ç–∞
ptr_write_i32(arr, 5);
ptr_write_i32(ptr_offset(arr, 1, 4), 2);
ptr_write_i32(ptr_offset(arr, 2, 4), 8);
ptr_write_i32(ptr_offset(arr, 3, 4), 1);
ptr_write_i32(ptr_offset(arr, 4, 4), 9);

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–±—ç–∫–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
let cmp = callback(compare_ints, ["ptr", "ptr"], "i32");
qsort(arr, 5, 4, cmp);

// –ú–∞—Å—Å–∏–≤ —Ç–µ–ø–µ—Ä—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: [1, 2, 5, 8, 9]

// –û—á–∏—Å—Ç–∫–∞
callback_free(cmp);
free(arr);
```

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ–æ–±—ä–µ–º–ª—é—â–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å—ã—Ä—ã–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏. –û–Ω–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è FFI-–∫–æ–ª–ª–±—ç–∫–æ–≤ –∏ –ø—Ä—è–º–æ–π –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –ø–∞–º—è—Ç—å—é.

#### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `ptr_deref_i8(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ i8 |
| `ptr_deref_i16(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ i16 |
| `ptr_deref_i32(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ i32 |
| `ptr_deref_i64(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ i64 |
| `ptr_deref_u8(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ u8 |
| `ptr_deref_u16(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ u16 |
| `ptr_deref_u32(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ u32 |
| `ptr_deref_u64(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ u64 |
| `ptr_write_i8(ptr, value)` | –ó–∞–ø–∏—Å—å i8 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_i16(ptr, value)` | –ó–∞–ø–∏—Å—å i16 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_i32(ptr, value)` | –ó–∞–ø–∏—Å—å i32 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_i64(ptr, value)` | –ó–∞–ø–∏—Å—å i64 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_u8(ptr, value)` | –ó–∞–ø–∏—Å—å u8 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_u16(ptr, value)` | –ó–∞–ø–∏—Å—å u16 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_u32(ptr, value)` | –ó–∞–ø–∏—Å—å u32 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_u64(ptr, value)` | –ó–∞–ø–∏—Å—å u64 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |

#### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–∏–ø–æ–≤ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `ptr_deref_f32(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ f32 (float) |
| `ptr_deref_f64(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è, —á—Ç–µ–Ω–∏–µ f64 (double) |
| `ptr_write_f32(ptr, value)` | –ó–∞–ø–∏—Å—å f32 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_write_f64(ptr, value)` | –ó–∞–ø–∏—Å—å f64 –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |

#### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ç–∏–ø–æ–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `ptr_deref_ptr(ptr)` | –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å |
| `ptr_write_ptr(ptr, value)` | –ó–∞–ø–∏—Å—å —É–∫–∞–∑–∞—Ç–µ–ª—è –ø–æ –∞–¥—Ä–µ—Å—É —É–∫–∞–∑–∞—Ç–µ–ª—è |
| `ptr_offset(ptr, index, size)` | –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è: `ptr + index * size` |
| `ptr_read_i32(ptr)` | –ß—Ç–µ–Ω–∏–µ i32 —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å (–¥–ª—è –∫–æ–ª–ª–±—ç–∫–æ–≤ qsort) |
| `ptr_null()` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω—É–ª–µ–≤–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è |

#### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –±—É—Ñ–µ—Ä–æ–≤

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `buffer_ptr(buffer)` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—ã—Ä–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è –∏–∑ –±—É—Ñ–µ—Ä–∞ |
| `ptr_to_buffer(ptr, size)` | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —É–∫–∞–∑–∞—Ç–µ–ª—è –≤ –Ω–æ–≤—ã–π –±—É—Ñ–µ—Ä |

#### –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ FFI

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `ffi_sizeof(type_name)` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤ –±–∞–π—Ç–∞—Ö FFI-—Ç–∏–ø–∞ |

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∏–º–µ–Ω–∞ —Ç–∏–ø–æ–≤ –¥–ª—è `ffi_sizeof`:**
- `"i8"`, `"i16"`, `"i32"`, `"i64"` - –ó–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ (1, 2, 4, 8 –±–∞–π—Ç)
- `"u8"`, `"u16"`, `"u32"`, `"u64"` - –ë–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ (1, 2, 4, 8 –±–∞–π—Ç)
- `"f32"`, `"f64"` - –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (4, 8 –±–∞–π—Ç)
- `"ptr"` - –£–∫–∞–∑–∞—Ç–µ–ª—å (8 –±–∞–π—Ç –Ω–∞ 64-–±–∏—Ç)
- `"size_t"`, `"usize"` - –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-–∑–∞–≤–∏—Å–∏–º—ã–π —Ç–∏–ø —Ä–∞–∑–º–µ—Ä–∞
- `"intptr_t"`, `"isize"` - –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-–∑–∞–≤–∏—Å–∏–º—ã–π –∑–Ω–∞–∫–æ–≤—ã–π —Ç–∏–ø —É–∫–∞–∑–∞—Ç–µ–ª—è

#### –ü—Ä–∏–º–µ—Ä: –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏

```hemlock
let p = alloc(64);

// –ó–∞–ø–∏—Å—å –∏ —á—Ç–µ–Ω–∏–µ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
ptr_write_i8(p, 42);
print(ptr_deref_i8(p));  // 42

ptr_write_i64(ptr_offset(p, 1, 8), 9000000000);
print(ptr_deref_i64(ptr_offset(p, 1, 8)));  // 9000000000

// –ó–∞–ø–∏—Å—å –∏ —á—Ç–µ–Ω–∏–µ —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
ptr_write_f64(p, 3.14159);
print(ptr_deref_f64(p));  // 3.14159

// –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —É–∫–∞–∑–∞—Ç–µ–ª—å
let inner = alloc(4);
ptr_write_i32(inner, 999);
ptr_write_ptr(p, inner);
let retrieved = ptr_deref_ptr(p);
print(ptr_deref_i32(retrieved));  // 999

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ç–∏–ø–æ–≤
print(ffi_sizeof("i64"));  // 8
print(ffi_sizeof("ptr"));  // 8 (–Ω–∞ 64-–±–∏—Ç)

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–∞
let buf = buffer(64);
ptr_write_i32(buffer_ptr(buf), 12345);
print(ptr_deref_i32(buffer_ptr(buf)));  // 12345

free(inner);
free(p);
```

### –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∫–æ–ª–ª–±—ç–∫–æ–≤

**–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ –∫–æ–ª–ª–±—ç–∫–∏ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏:

```hemlock
let cb = callback(my_fn, ["ptr"], "void");
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–ª–ª–±—ç–∫–∞ ...
callback_free(cb);  // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
```

–ö–æ–ª–ª–±—ç–∫–∏ —Ç–∞–∫–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

### –ó–∞–º—ã–∫–∞–Ω–∏—è –≤ –∫–æ–ª–ª–±—ç–∫–∞—Ö

–ö–æ–ª–ª–±—ç–∫–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –º–æ–≥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏:

```hemlock
let multiplier = 10;

fn scale(a: ptr, b: ptr): i32 {
    let va = ptr_deref_i32(a);
    let vb = ptr_deref_i32(b);
    // –ú–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ 'multiplier' –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
    return (va * multiplier) - (vb * multiplier);
}

let cmp = callback(scale, ["ptr", "ptr"], "i32");
```

### –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í—ã–∑–æ–≤—ã –∫–æ–ª–ª–±—ç–∫–æ–≤ —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –º—å—é—Ç–µ–∫—Å–æ–º –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø–æ—Å–∫–æ–ª—å–∫—É –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Hemlock –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–æ–ª–ª–±—ç–∫ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ C
- –ú–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –µ—Å–ª–∏ –∫–æ–ª–ª–±—ç–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –æ—á–µ–Ω—å —á–∞—Å—Ç–æ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ—Ç–æ–∫–æ–≤

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∫–æ–ª–ª–±—ç–∫–∞—Ö

–ò—Å–∫–ª—é—á–µ–Ω–∏—è, –≤—ã–±—Ä–æ—à–µ–Ω–Ω—ã–µ –≤ –∫–æ–ª–ª–±—ç–∫–∞—Ö, –Ω–µ –º–æ–≥—É—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è –≤ –∫–æ–¥ C. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ:
- –í—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ stderr
- –ö–æ–ª–ª–±—ç–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (0 –∏–ª–∏ NULL)
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è

```hemlock
fn risky_callback(a: ptr): i32 {
    throw "–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫";  // –í—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 0
}
```

–î–ª—è –Ω–∞–¥—ë–∂–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∏–∑–±–µ–≥–∞–π—Ç–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è –≤ –∫–æ–ª–ª–±—ç–∫–∞—Ö.

## FFI-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

Hemlock –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –≤ —Ñ—É–Ω–∫—Ü–∏–∏ C. –¢–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –¥–ª—è FFI, –∫–æ–≥–¥–∞ –≤—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –∏—Ö —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Ç–∏–ø–æ–≤.

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞, –∫–æ–≥–¥–∞ –≤—Å–µ –ø–æ–ª—è –∏–º–µ—é—Ç —è–≤–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Ç–∏–ø–æ–≤:

```hemlock
// FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
define Point {
    x: f64,
    y: f64,
}

// FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–ª–µ–π
define Rectangle {
    top_left: Point,      // –í–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    width: f64,
    height: f64,
}

// –ù–ï FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º–∞ (–ø–æ–ª–µ –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–∞)
define DynamicObject {
    name,                 // –ù–µ—Ç —Ç–∏–ø–∞ - –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ FFI
    value,
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ FFI

–û–±—ä—è–≤–ª–µ–Ω–∏–µ extern-—Ñ—É–Ω–∫—Ü–∏–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä:

```hemlock
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
define Vector2D {
    x: f64,
    y: f64,
}

// –ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ C
import "libmath.so";

// –û–±—ä—è–≤–ª–µ–Ω–∏–µ extern-—Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–π/–≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
extern fn vector_add(a: Vector2D, b: Vector2D): Vector2D;
extern fn vector_length(v: Vector2D): f64;

// –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
let a: Vector2D = { x: 3.0, y: 0.0 };
let b: Vector2D = { x: 0.0, y: 4.0 };
let result = vector_add(a, b);
print(result.x);  // 3.0
print(result.y);  // 4.0

let len = vector_length(result);
print(len);       // 5.0
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –ø–æ–ª–µ–π

–ü–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã:

| –¢–∏–ø Hemlock | –¢–∏–ø C | –†–∞–∑–º–µ—Ä |
|-------------|-------|--------|
| `i8` | `int8_t` | 1 –±–∞–π—Ç |
| `i16` | `int16_t` | 2 –±–∞–π—Ç–∞ |
| `i32` | `int32_t` | 4 –±–∞–π—Ç–∞ |
| `i64` | `int64_t` | 8 –±–∞–π—Ç |
| `u8` | `uint8_t` | 1 –±–∞–π—Ç |
| `u16` | `uint16_t` | 2 –±–∞–π—Ç–∞ |
| `u32` | `uint32_t` | 4 –±–∞–π—Ç–∞ |
| `u64` | `uint64_t` | 8 –±–∞–π—Ç |
| `f32` | `float` | 4 –±–∞–π—Ç–∞ |
| `f64` | `double` | 8 –±–∞–π—Ç |
| `ptr` | `void*` | 8 –±–∞–π—Ç |
| `string` | `char*` | 8 –±–∞–π—Ç |
| `bool` | `int` | –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è |
| –í–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | struct | –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è |

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ C ABI):
- –ü–æ–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∏—Ö —Ç–∏–ø–æ–º
- –í—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –¥–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –Ω–∞–∏–±–æ–ª—å—à–µ–≥–æ —á–ª–µ–Ω–∞

```hemlock
// –ü—Ä–∏–º–µ—Ä: C-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
define Mixed {
    a: i8,    // —Å–º–µ—â–µ–Ω–∏–µ 0, —Ä–∞–∑–º–µ—Ä 1
              // 3 –±–∞–π—Ç–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
    b: i32,   // —Å–º–µ—â–µ–Ω–∏–µ 4, —Ä–∞–∑–º–µ—Ä 4
}
// –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 8 –±–∞–π—Ç (—Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º)

define Point3D {
    x: f64,   // —Å–º–µ—â–µ–Ω–∏–µ 0, —Ä–∞–∑–º–µ—Ä 8
    y: f64,   // —Å–º–µ—â–µ–Ω–∏–µ 8, —Ä–∞–∑–º–µ—Ä 8
    z: f64,   // —Å–º–µ—â–µ–Ω–∏–µ 16, —Ä–∞–∑–º–µ—Ä 8
}
// –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 24 –±–∞–π—Ç–∞ (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–°—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```hemlock
define Inner {
    x: i32,
    y: i32,
}

define Outer {
    inner: Inner,
    z: i32,
}

import "mylib.so";
extern fn process_nested(data: Outer): i32;

let obj: Outer = {
    inner: { x: 1, y: 2 },
    z: 3,
};
let result = process_nested(obj);
```

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä

–§—É–Ω–∫—Ü–∏–∏ C –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```hemlock
define Point {
    x: f64,
    y: f64,
}

import "libmath.so";
extern fn get_origin(): Point;

let p = get_origin();
print(p.x);  // 0.0
print(p.y);  // 0.0
```

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–ü–æ–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤** - –ø–æ–ª—è –±–µ–∑ —Ç–∏–ø–æ–≤ –Ω–µ FFI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- **–ù–µ—Ç –º–∞—Å—Å–∏–≤–æ–≤ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤–º–µ—Å—Ç–æ –Ω–∏—Ö
- **–ù–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–π (union)** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä
- **–ö–æ–ª–ª–±—ç–∫–∏ –Ω–µ –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–ª–ª–±—ç–∫–æ–≤

### –≠–∫—Å–ø–æ—Ä—Ç —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä

–í—ã –º–æ–∂–µ—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä –∏–∑ –º–æ–¥—É–ª—è —Å –ø–æ–º–æ—â—å—é `export define`:

```hemlock
// geometry.hml
export define Vector2 {
    x: f32,
    y: f32,
}

export define Rectangle {
    x: f32,
    y: f32,
    width: f32,
    height: f32,
}

export fn create_rect(x: f32, y: f32, w: f32, h: f32): Rectangle {
    return { x: x, y: y, width: w, height: h };
}
```

**–í–∞–∂–Ω–æ:** –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è **–≥–ª–æ–±–∞–ª—å–Ω–æ** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è. –û–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ –≤—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ —á—Ç–æ-–ª–∏–±–æ –∏–∑ –º–æ–¥—É–ª—è. –í–∞–º –ù–ï –Ω—É–∂–Ω–æ (–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ) —è–≤–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –∏–º–µ–Ω–∏:

```hemlock
// main.hml

// –•–û–†–û–®–û - —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä –∞–≤—Ç–æ-–¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ –ª—é–±–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ –º–æ–¥—É–ª—è
import { create_rect } from "./geometry.hml";
let v: Vector2 = { x: 1.0, y: 2.0 };      // –†–∞–±–æ—Ç–∞–µ—Ç - Vector2 –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–µ–Ω
let r: Rectangle = create_rect(0.0, 0.0, 100.0, 50.0);  // –†–∞–±–æ—Ç–∞–µ—Ç

// –ü–õ–û–•–û - –Ω–µ–ª—å–∑—è —è–≤–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ –∏–º–µ–Ω–∏
import { Vector2 } from "./geometry.hml";  // –û—à–∏–±–∫–∞: Undefined variable 'Vector2'
```

–≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ —Ç–∏–ø—ã —Å—Ç—Ä—É–∫—Ç—É—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–º —Ä–µ–µ—Å—Ç—Ä–µ —Ç–∏–ø–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è, –∞ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —ç–∫—Å–ø–æ—Ä—Ç–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –º–æ–¥—É–ª—è. –¢–∏–ø —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑ –º–æ–¥—É–ª—è.

## –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

FFI –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

**1. –†—É—á–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç—Ä–æ–∫
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∞ Hemlock <-> —Å—Ç—Ä–æ–∫–∞ C

**2. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- –ë–∞–∑–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–ª–ª–±—ç–∫–∞—Ö –Ω–µ –º–æ–≥—É—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è –≤ C

**3. –†—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Ä—É—á–Ω—É—é –∑–∞–≥—Ä—É–∂–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–≤—è–∑–µ–π

**4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥**
- –ü—É—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å .so vs .dylib vs .dll

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

–ü–æ–∫–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FFI –µ—â—ë —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è, –≤–æ—Ç –æ–±—â–∏–µ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:

### 1. –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```hemlock
// –ë—É–¥—å—Ç–µ —è–≤–Ω—ã —Å —Ç–∏–ø–∞–º–∏
let x: i32 = 42;
let result: f64 = c_function(x);
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

```hemlock
// –ü–æ–º–Ω–∏—Ç–µ –æ–± –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
let ptr = c_malloc(1024);
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ptr
c_free(ptr);
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫

```hemlock
// –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
let result = c_function();
if (result == null) {
    print("–§—É–Ω–∫—Ü–∏—è C –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π");
}
```

### 4. –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

```hemlock
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ä–∞–∑–ª–∏—á–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫ (.so, .dylib, .dll)
```

## –ü—Ä–∏–º–µ—Ä—ã

–î–ª—è —Ä–∞–±–æ—á–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫:
- –¢–µ—Å—Ç—ã –∫–æ–ª–ª–±—ç–∫–æ–≤: `/tests/ffi_callbacks/` - –ø—Ä–∏–º–µ—Ä—ã –∫–æ–ª–ª–±—ç–∫–æ–≤ qsort
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ FFI –≤ stdlib: `/stdlib/hash.hml`, `/stdlib/regex.hml`, `/stdlib/crypto.hml`
- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º: `/examples/` (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

FFI - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ Hemlock. –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—á–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
2. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ libffi –¥–ª—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –¥–µ—Ç–∞–ª–µ–π
3. –°–æ–æ–±—â–∞–π—Ç–µ –æ–± –æ—à–∏–±–∫–∞—Ö –∏–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ issues –ø—Ä–æ–µ–∫—Ç–∞

## –ò—Ç–æ–≥

FFI Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π C –∏–∑ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ (i8-i64, u8-u64, f32, f64, ptr)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
- –ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ libffi
- –û—Å–Ω–æ–≤–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
- **–ö–æ–ª–ª–±—ç–∫–∏ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏** - –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ—É–Ω–∫—Ü–∏–π Hemlock –≤ C
- **–≠–∫—Å–ø–æ—Ä—Ç extern-—Ñ—É–Ω–∫—Ü–∏–π** - —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ FFI-—Å–≤—è–∑–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- **–ü–µ—Ä–µ–¥–∞—á–∞ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä** - –ø–µ—Ä–µ–¥–∞—á–∞ C-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é
- **Export define** - —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Ç–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ (–∞–≤—Ç–æ-–∏–º–ø–æ—Ä—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ)
- **–ü–æ–ª–Ω—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π** - —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ (i8-i64, u8-u64, f32, f64, ptr)
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä/—É–∫–∞–∑–∞—Ç–µ–ª—å** - `buffer_ptr()`, `ptr_to_buffer()` –¥–ª—è –º–∞—Ä—à–∞–ª–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö
- **–†–∞–∑–º–µ—Ä—ã FFI-—Ç–∏–ø–æ–≤** - `ffi_sizeof()` –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —Ç–∏–ø–æ–≤
- **–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `size_t`, `usize`, `isize`, `intptr_t`, `uintptr_t`

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** FFI –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏, –∫–æ–ª–ª–±—ç–∫–∞–º–∏, —ç–∫—Å–ø–æ—Ä—Ç–∞–º–∏ –º–æ–¥—É–ª–µ–π –∏ –ø–æ–ª–Ω—ã–º–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

**–ë—É–¥—É—â–µ–µ:** –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–∞—Ä—à–∞–ª–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∫

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:** –°–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, qsort, —Ü–∏–∫–ª—ã —Å–æ–±—ã—Ç–∏–π, API –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–ª–±—ç–∫–æ–≤, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—ë—Ä—Ç–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫

## –£—á–∞—Å—Ç–∏–µ

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FFI —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è. –ï—Å–ª–∏ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å FFI:
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–≤–æ–∏ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –î–µ–ª–∏—Ç–µ—Å—å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞
- –°–æ–æ–±—â–∞–π—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö
- –ü—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ FFI —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —Å–ª–µ–¥—É—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock "—è–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ" –∏ "unsafe - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∞ –Ω–µ –±–∞–≥".


--------------------------------------------------------------------------------
## File IO
--------------------------------------------------------------------------------

# –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥ –≤ Hemlock

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **API –æ–±—ä–µ–∫—Ç–∞ File** –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–∞–º–∏.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–æ–≤](#–æ—Ç–∫—Ä—ã—Ç–∏–µ-—Ñ–∞–π–ª–æ–≤)
- [–ú–µ—Ç–æ–¥—ã —Ñ–∞–π–ª–æ–≤](#–º–µ—Ç–æ–¥—ã-—Ñ–∞–π–ª–æ–≤)
- [–°–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤](#—Å–≤–æ–π—Å—Ç–≤–∞-—Ñ–∞–π–ª–æ–≤)
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏)
- [–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](#–ø–æ–ª–Ω—ã–π-—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-api)
- [–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

## –û–±–∑–æ—Ä

API –æ–±—ä–µ–∫—Ç–∞ File –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- **–Ø–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏** - –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é
- **–ù–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–∫—Ä—ã—Ç–∏—è** - –ß—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∏ –±–∏–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö, —Ç–∞–∫ –∏ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è** - –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–æ–≤
- **–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö** - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö

**–í–∞–∂–Ω–æ:** –§–∞–π–ª—ã –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –í—ã –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å `f.close()`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–∫–∏ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤.

## –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `open(path, mode?)` –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–∞:

```hemlock
let f = open("data.txt", "r");     // –†–µ–∂–∏–º —á—Ç–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
let f2 = open("output.txt", "w");  // –†–µ–∂–∏–º –∑–∞–ø–∏—Å–∏ (—É—Å–µ—á–µ–Ω–∏–µ)
let f3 = open("log.txt", "a");     // –†–µ–∂–∏–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
let f4 = open("data.bin", "r+");   // –†–µ–∂–∏–º —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
```

### –†–µ–∂–∏–º—ã –æ—Ç–∫—Ä—ã—Ç–∏—è

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å | –£—Å–µ–∫–∞–µ—Ç | –ü–æ–∑–∏—Ü–∏—è |
|-------|----------|--------------------------|---------|---------|
| `"r"` | –ß—Ç–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –î–∞ | –ù–µ—Ç | –ù–∞—á–∞–ª–æ |
| `"w"` | –ó–∞–ø–∏—Å—å | –ù–µ—Ç (—Å–æ–∑–¥–∞—ë—Ç) | –î–∞ | –ù–∞—á–∞–ª–æ |
| `"a"` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ | –ù–µ—Ç (—Å–æ–∑–¥–∞—ë—Ç) | –ù–µ—Ç | –ö–æ–Ω–µ—Ü |
| `"r+"` | –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å | –î–∞ | –ù–µ—Ç | –ù–∞—á–∞–ª–æ |
| `"w+"` | –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å | –ù–µ—Ç (—Å–æ–∑–¥–∞—ë—Ç) | –î–∞ | –ù–∞—á–∞–ª–æ |
| `"a+"` | –ß—Ç–µ–Ω–∏–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ | –ù–µ—Ç (—Å–æ–∑–¥–∞—ë—Ç) | –ù–µ—Ç | –ö–æ–Ω–µ—Ü |

### –ü—Ä–∏–º–µ—Ä—ã

**–ß—Ç–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞:**
```hemlock
let f = open("config.json", "r");
// –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ:
let f = open("config.json");  // "r" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

**–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏:**
```hemlock
let f = open("output.txt", "w");  // –°–æ–∑–¥–∞—ë—Ç –∏–ª–∏ —É—Å–µ–∫–∞–µ—Ç
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª:**
```hemlock
let f = open("log.txt", "a");  // –°–æ–∑–¥–∞—ë—Ç, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

**–†–µ–∂–∏–º —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏:**
```hemlock
let f = open("data.bin", "r+");  // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª, –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å
```

## –ú–µ—Ç–æ–¥—ã —Ñ–∞–π–ª–æ–≤

### –ß—Ç–µ–Ω–∏–µ

#### read(size?: i32): string

–ß—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Ä–∞–∑–º–µ—Ä–∞).

**–ë–µ–∑ —Ä–∞–∑–º–µ—Ä–∞ (—á—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ):**
```hemlock
let f = open("data.txt", "r");
let all = f.read();  // –ß—Ç–µ–Ω–∏–µ –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –¥–æ EOF
f.close();
```

**–° —Ä–∞–∑–º–µ—Ä–æ–º (—á—Ç–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞–π—Ç):**
```hemlock
let f = open("data.txt", "r");
let chunk = f.read(1024);  // –ß—Ç–µ–Ω–∏–µ –¥–æ 1024 –±–∞–π—Ç
let next = f.read(1024);   // –ß—Ç–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–∏—Ö 1024 –±–∞–π—Ç
f.close();
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç—Ä–æ–∫—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∏–ª–∏ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –ø—Ä–∏ EOF

**–ü—Ä–∏–º–µ—Ä - –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞:**
```hemlock
let f = open("poem.txt", "r");
let content = f.read();
print(content);
f.close();
```

**–ü—Ä–∏–º–µ—Ä - –ß—Ç–µ–Ω–∏–µ —á–∞—Å—Ç—è–º–∏:**
```hemlock
let f = open("large.txt", "r");
while (true) {
    let chunk = f.read(4096);  // –ß–∞—Å—Ç–∏ –ø–æ 4KB
    if (chunk == "") { break; }  // –î–æ—Å—Ç–∏–≥–Ω—É—Ç EOF
    process(chunk);
}
f.close();
```

#### read_bytes(size: i32): buffer

–ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±—É—Ñ–µ—Ä).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `size` (i32) - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ë—É—Ñ–µ—Ä, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ –±–∞–π—Ç—ã

```hemlock
let f = open("image.png", "r");
let binary = f.read_bytes(256);  // –ß—Ç–µ–Ω–∏–µ 256 –±–∞–π—Ç
print(binary.length);  // 256 (–∏–ª–∏ –º–µ–Ω—å—à–µ –ø—Ä–∏ EOF)

// –î–æ—Å—Ç—É–ø –∫ –æ—Ç–¥–µ–ª—å–Ω—ã–º –±–∞–π—Ç–∞–º
let first_byte = binary[0];
print(first_byte);

f.close();
```

**–ü—Ä–∏–º–µ—Ä - –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:**
```hemlock
let f = open("data.bin", "r");
let size = 10240;  // –û–∂–∏–¥–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä
let data = f.read_bytes(size);
f.close();

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let i = 0;
while (i < data.length) {
    let byte = data[i];
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞–π—Ç–∞
    i = i + 1;
}
```

### –ó–∞–ø–∏—Å—å

#### write(data: string): i32

–ó–∞–ø–∏—Å—å —Ç–µ–∫—Å—Ç–∞ –≤ —Ñ–∞–π–ª (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` (string) - –¢–µ–∫—Å—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç (i32)

```hemlock
let f = open("output.txt", "w");
let written = f.write("Hello, World!\n");
print("–ó–∞–ø–∏—Å–∞–Ω–æ " + typeof(written) + " –±–∞–π—Ç");  // "–ó–∞–ø–∏—Å–∞–Ω–æ 14 –±–∞–π—Ç"
f.close();
```

**–ü—Ä–∏–º–µ—Ä - –ó–∞–ø–∏—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫:**
```hemlock
let f = open("output.txt", "w");
f.write("–°—Ç—Ä–æ–∫–∞ 1\n");
f.write("–°—Ç—Ä–æ–∫–∞ 2\n");
f.write("–°—Ç—Ä–æ–∫–∞ 3\n");
f.close();
```

**–ü—Ä–∏–º–µ—Ä - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ª–æ–≥-—Ñ–∞–π–ª:**
```hemlock
let f = open("app.log", "a");
f.write("[INFO] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ\n");
f.write("[INFO] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª –≤ —Å–∏—Å—Ç–µ–º—É\n");
f.close();
```

#### write_bytes(data: buffer): i32

–ó–∞–ø–∏—Å—å –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` (buffer) - –ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç (i32)

```hemlock
let f = open("output.bin", "w");

// –°–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let buf = buffer(10);
buf[0] = 65;  // 'A'
buf[1] = 66;  // 'B'
buf[2] = 67;  // 'C'

let bytes = f.write_bytes(buf);
print("–ó–∞–ø–∏—Å–∞–Ω–æ " + typeof(bytes) + " –±–∞–π—Ç");

f.close();
```

**–ü—Ä–∏–º–µ—Ä - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:**
```hemlock
let src = open("input.bin", "r");
let dst = open("output.bin", "w");

let data = src.read_bytes(1024);
while (data.length > 0) {
    dst.write_bytes(data);
    data = src.read_bytes(1024);
}

src.close();
dst.close();
```

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

#### seek(position: i32): i32

–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `position` (i32) - –°–º–µ—â–µ–Ω–∏–µ –≤ –±–∞–π—Ç–∞—Ö –æ—Ç –Ω–∞—á–∞–ª–∞ —Ñ–∞–π–ª–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é (i32)

```hemlock
let f = open("data.txt", "r");

// –ü–µ—Ä–µ—Ö–æ–¥ –∫ –±–∞–π—Ç—É 100
f.seek(100);

// –ß—Ç–µ–Ω–∏–µ —Å –ø–æ–∑–∏—Ü–∏–∏ 100
let data = f.read(50);

// –°–±—Ä–æ—Å –∫ –Ω–∞—á–∞–ª—É
f.seek(0);

f.close();
```

**–ü—Ä–∏–º–µ—Ä - –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø:**
```hemlock
let f = open("records.dat", "r");

// –ß—Ç–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º 1000
f.seek(1000);
let record1 = f.read_bytes(100);

// –ß—Ç–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º 2000
f.seek(2000);
let record2 = f.read_bytes(100);

f.close();
```

#### tell(): i32

–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ñ–∞–π–ª–µ.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –¢–µ–∫—É—â–µ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤ –±–∞–π—Ç–∞—Ö (i32)

```hemlock
let f = open("data.txt", "r");

let pos1 = f.tell();  // 0 (–≤ –Ω–∞—á–∞–ª–µ)

f.read(100);
let pos2 = f.tell();  // 100 (–ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è 100 –±–∞–π—Ç)

f.seek(500);
let pos3 = f.tell();  // 500 (–ø–æ—Å–ª–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)

f.close();
```

**–ü—Ä–∏–º–µ—Ä - –ò–∑–º–µ—Ä–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–≥–æ:**
```hemlock
let f = open("data.txt", "r");

let start = f.tell();
let content = f.read();
let end = f.tell();

let bytes_read = end - start;
print("–ü—Ä–æ—á–∏—Ç–∞–Ω–æ " + typeof(bytes_read) + " –±–∞–π—Ç");

f.close();
```

### –ó–∞–∫—Ä—ã—Ç–∏–µ

#### close()

–ó–∞–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ, –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑).

```hemlock
let f = open("data.txt", "r");
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
f.close();
f.close();  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ - –Ω–µ—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏
```

**–í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —É—Ç–µ—á–∫–∏ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
- –ó–∞–∫—Ä—ã—Ç–∏–µ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ - –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –≤—Å–µ –¥—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–∑–æ–≤—É—Ç –æ—à–∏–±–∫—É
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–ª–æ–∫–∏ `finally` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## –°–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤

–û–±—ä–µ–∫—Ç—ã —Ñ–∞–π–ª–æ–≤ –∏–º–µ—é—Ç —Ç—Ä–∏ —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è:

### path: string

–ü—É—Ç—å —Ñ–∞–π–ª–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è.

```hemlock
let f = open("/path/to/file.txt", "r");
print(f.path);  // "/path/to/file.txt"
f.close();
```

### mode: string

–†–µ–∂–∏–º, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ñ–∞–π–ª –±—ã–ª –æ—Ç–∫—Ä—ã—Ç.

```hemlock
let f = open("data.txt", "r");
print(f.mode);  // "r"
f.close();

let f2 = open("output.txt", "w");
print(f2.mode);  // "w"
f2.close();
```

### closed: bool

–ó–∞–∫—Ä—ã—Ç –ª–∏ —Ñ–∞–π–ª.

```hemlock
let f = open("data.txt", "r");
print(f.closed);  // false

f.close();
print(f.closed);  // true
```

**–ü—Ä–∏–º–µ—Ä - –ü—Ä–æ–≤–µ—Ä–∫–∞, –æ—Ç–∫—Ä—ã—Ç –ª–∏ —Ñ–∞–π–ª:**
```hemlock
let f = open("data.txt", "r");

if (!f.closed) {
    let content = f.read();
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
}

f.close();

if (f.closed) {
    print("–§–∞–π–ª —Ç–µ–ø–µ—Ä—å –∑–∞–∫—Ä—ã—Ç");
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–∫–ª—é—á–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

**–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω:**
```hemlock
let f = open("missing.txt", "r");
// Error: Failed to open 'missing.txt': No such file or directory
```

**–ß—Ç–µ–Ω–∏–µ –∏–∑ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —Ñ–∞–π–ª–∞:**
```hemlock
let f = open("data.txt", "r");
f.close();
f.read();
// Error: Cannot read from closed file 'data.txt'
```

**–ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è:**
```hemlock
let f = open("readonly.txt", "r");
f.write("data");
// Error: Cannot write to file 'readonly.txt' opened in read-only mode
```

**–ß—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏:**
```hemlock
let f = open("output.txt", "w");
f.read();
// Error: Cannot read from file 'output.txt' opened in write-only mode
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ try/catch

```hemlock
try {
    let f = open("data.txt", "r");
    let content = f.read();
    f.close();
    process(content);
} catch (e) {
    print("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞: " + e);
}
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

### –ë–∞–∑–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

–í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã —è–≤–Ω–æ:

```hemlock
let f = open("data.txt", "r");
let content = f.read();
f.close();
```

### –° –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `finally` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:

```hemlock
let f = open("data.txt", "r");
try {
    let content = f.read();
    process(content);
} finally {
    f.close();  // –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞—Ç—å, –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
}
```

### –ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤

```hemlock
let src = null;
let dst = null;

try {
    src = open("input.txt", "r");
    dst = open("output.txt", "w");

    let content = src.read();
    dst.write(content);
} finally {
    if (src != null) { src.close(); }
    if (dst != null) { dst.close(); }
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
fn with_file(path: string, mode: string, callback) {
    let f = open(path, mode);
    try {
        return callback(f);
    } finally {
        f.close();
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
with_file("data.txt", "r", fn(f) {
    return f.read();
});
```

## –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

### –§—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|------------|----------|
| `open(path, mode?)` | path: string, mode?: string | File | –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ (—Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "r") |

### –ú–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|------------|----------|
| `read(size?)` | size?: i32 | string | –ß—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (–≤—Å–µ–≥–æ –∏–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç) |
| `read_bytes(size)` | size: i32 | buffer | –ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |
| `write(data)` | data: string | i32 | –ó–∞–ø–∏—Å—å —Ç–µ–∫—Å—Ç–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç |
| `write_bytes(data)` | data: buffer | i32 | –ó–∞–ø–∏—Å—å –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç |
| `seek(position)` | position: i32 | i32 | –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–∑–∏—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é |
| `tell()` | - | i32 | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ |
| `close()` | - | null | –ó–∞–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞ (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ) |

### –°–≤–æ–π—Å—Ç–≤–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è)

| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `path` | string | –ü—É—Ç—å —Ñ–∞–π–ª–∞ |
| `mode` | string | –†–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è |
| `closed` | bool | –ó–∞–∫—Ä—ã—Ç –ª–∏ —Ñ–∞–π–ª |

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞

```hemlock
fn read_file(path: string): string {
    let f = open(path, "r");
    try {
        return f.read();
    } finally {
        f.close();
    }
}

let content = read_file("config.json");
```

### –ó–∞–ø–∏—Å—å –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞

```hemlock
fn write_file(path: string, content: string) {
    let f = open(path, "w");
    try {
        f.write(content);
    } finally {
        f.close();
    }
}

write_file("output.txt", "Hello, World!");
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª

```hemlock
fn append_file(path: string, content: string) {
    let f = open(path, "a");
    try {
        f.write(content);
    } finally {
        f.close();
    }
}

append_file("log.txt", "[INFO] –°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ\n");
```

### –ß—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫

```hemlock
fn read_lines(path: string) {
    let f = open(path, "r");
    try {
        let content = f.read();
        return content.split("\n");
    } finally {
        f.close();
    }
}

let lines = read_lines("data.txt");
let i = 0;
while (i < lines.length) {
    print("–°—Ç—Ä–æ–∫–∞ " + typeof(i) + ": " + lines[i]);
    i = i + 1;
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —á–∞—Å—Ç—è–º–∏

```hemlock
fn process_large_file(path: string) {
    let f = open(path, "r");
    try {
        while (true) {
            let chunk = f.read(4096);  // –ß–∞—Å—Ç–∏ –ø–æ 4KB
            if (chunk == "") { break; }

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞—Å—Ç–∏
            process_chunk(chunk);
        }
    } finally {
        f.close();
    }
}
```

### –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```hemlock
fn copy_file(src_path: string, dst_path: string) {
    let src = null;
    let dst = null;

    try {
        src = open(src_path, "r");
        dst = open(dst_path, "w");

        while (true) {
            let chunk = src.read_bytes(4096);
            if (chunk.length == 0) { break; }

            dst.write_bytes(chunk);
        }
    } finally {
        if (src != null) { src.close(); }
        if (dst != null) { dst.close(); }
    }
}

copy_file("input.dat", "output.dat");
```

### –£—Å–µ—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

```hemlock
fn truncate_file(path: string) {
    let f = open(path, "w");  // –†–µ–∂–∏–º "w" —É—Å–µ–∫–∞–µ—Ç
    f.close();
}

truncate_file("empty_me.txt");
```

### –ß—Ç–µ–Ω–∏–µ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º

```hemlock
fn read_at_offset(path: string, offset: i32, size: i32): string {
    let f = open(path, "r");
    try {
        f.seek(offset);
        return f.read(size);
    } finally {
        f.close();
    }
}

let data = read_at_offset("records.dat", 1000, 100);
```

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞

```hemlock
fn file_size(path: string): i32 {
    let f = open(path, "r");
    try {
        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–æ–Ω—Ü—É
        let end = f.seek(999999999);  // –ë–æ–ª—å—à–æ–µ —á–∏—Å–ª–æ
        f.seek(0);  // –°–±—Ä–æ—Å
        return end;
    } finally {
        f.close();
    }
}

let size = file_size("data.txt");
print("–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: " + typeof(size) + " –±–∞–π—Ç");
```

### –£—Å–ª–æ–≤–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å

```hemlock
fn update_file(path: string, condition, new_content: string) {
    let f = open(path, "r+");
    try {
        let content = f.read();

        if (condition(content)) {
            f.seek(0);  // –°–±—Ä–æ—Å –∫ –Ω–∞—á–∞–ª—É
            f.write(new_content);
        }
    } finally {
        f.close();
    }
}
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ try/finally

```hemlock
// –•–æ—Ä–æ—à–æ
let f = open("data.txt", "r");
try {
    let content = f.read();
    process(content);
} finally {
    f.close();
}

// –ü–ª–æ—Ö–æ - —Ñ–∞–π–ª –º–æ–∂–µ—Ç –Ω–µ –∑–∞–∫—Ä—ã—Ç—å—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
let f = open("data.txt", "r");
let content = f.read();
process(content);  // –ï—Å–ª–∏ –∑–¥–µ—Å—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, —Ñ–∞–π–ª —É—Ç–µ–∫–∞–µ—Ç
f.close();
```

### 2. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

```hemlock
let f = open("data.txt", "r");

if (!f.closed) {
    let content = f.read();
    // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ content
}

f.close();
```

### 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ä–µ–∂–∏–º—ã

```hemlock
// –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "r"
let f = open("config.json", "r");

// –ü–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "w"
let f = open("output.txt", "w");

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω–µ—Ü? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "a"
let f = open("log.txt", "a");
```

### 4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ gracefully

```hemlock
fn safe_read_file(path: string): string {
    try {
        let f = open(path, "r");
        try {
            return f.read();
        } finally {
            f.close();
        }
    } catch (e) {
        print("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ—á–∏—Ç–∞—Ç—å " + path + ": " + e);
        return "";
    }
}
```

### 5. –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –æ—Ç–∫—Ä—ã—Ç–∏—è

```hemlock
let f1 = null;
let f2 = null;
let f3 = null;

try {
    f1 = open("file1.txt", "r");
    f2 = open("file2.txt", "r");
    f3 = open("file3.txt", "r");

    // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
} finally {
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
    if (f3 != null) { f3.close(); }
    if (f2 != null) { f2.close(); }
    if (f1 != null) { f1.close(); }
}
```

### 6. –ò–∑–±–µ–≥–∞–π—Ç–µ —á—Ç–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —Ü–µ–ª–∏–∫–æ–º

```hemlock
// –ü–ª–æ—Ö–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
let f = open("huge.log", "r");
let content = f.read();  // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç—å
f.close();

// –•–æ—Ä–æ—à–æ - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–∞—Å—Ç—è–º–∏
let f = open("huge.log", "r");
try {
    while (true) {
        let chunk = f.read(4096);
        if (chunk == "") { break; }
        process_chunk(chunk);
    }
} finally {
    f.close();
}
```

## –ò—Ç–æ–≥

API —Ñ–∞–π–ª–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- –ü—Ä–æ—Å—Ç—ã–µ, —è–≤–Ω—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å seek/tell
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è

–ü–æ–º–Ω–∏—Ç–µ:
- –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try/finally –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- –í—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ä–µ–∂–∏–º—ã –æ—Ç–∫—Ä—ã—Ç–∏—è
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ gracefully
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã —á–∞—Å—Ç—è–º–∏


--------------------------------------------------------------------------------
## Memory Ownership
--------------------------------------------------------------------------------

# –í–ª–∞–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –≤ Hemlock

> "–ú—ã –¥–∞—ë–º –≤–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–æ –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ–º –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å."

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É –≤–ª–∞–¥–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –≤ Hemlock, –æ—Ö–≤–∞—Ç—ã–≤–∞—è –∫–∞–∫ –ø–∞–º—è—Ç—å, —É–ø—Ä–∞–≤–ª—è–µ–º—É—é –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º, —Ç–∞–∫ –∏ –∑–Ω–∞—á–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ö–æ–Ω—Ç—Ä–∞–∫—Ç](#–∫–æ–Ω—Ç—Ä–∞–∫—Ç)
2. [–ü–∞–º—è—Ç—å, —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º](#–ø–∞–º—è—Ç—å-—É–ø—Ä–∞–≤–ª—è–µ–º–∞—è-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º)
3. [–ó–Ω–∞—á–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#–∑–Ω–∞—á–µ–Ω–∏—è-—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ-—Å—Ä–µ–¥–æ–π-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
4. [–¢–æ—á–∫–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –≤–ª–∞–¥–µ–Ω–∏—è](#—Ç–æ—á–∫–∏-–ø–µ—Ä–µ–¥–∞—á–∏-–≤–ª–∞–¥–µ–Ω–∏—è)
5. [Async –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º](#async-–∏-–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º)
6. [–ü—Ä–∞–≤–∏–ª–∞ –ø–∞–º—è—Ç–∏ FFI](#–ø—Ä–∞–≤–∏–ª–∞-–ø–∞–º—è—Ç–∏-ffi)
7. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
8. [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

---

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç

Hemlock –∏–º–µ–µ—Ç —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é:

| –¢–∏–ø –ø–∞–º—è—Ç–∏ | –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è | –ú–µ—Ç–æ–¥ –æ—á–∏—Å—Ç–∫–∏ |
|------------|-------------|---------------|
| –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`ptr`) | **–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç** | `free(ptr)` |
| –ë—É—Ñ–µ—Ä—ã (`buffer`) | **–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç** | `free(buf)` |
| –°—Ç—Ä–æ–∫–∏, –º–∞—Å—Å–∏–≤—ã, –æ–±—ä–µ–∫—Ç—ã | **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫) |
| –§—É–Ω–∫—Ü–∏–∏, –∑–∞–º—ã–∫–∞–Ω–∏—è | **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫) |
| –ó–∞–¥–∞—á–∏, –∫–∞–Ω–∞–ª—ã | **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫) |

**–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:** –ï—Å–ª–∏ –≤—ã –≤—ã–¥–µ–ª—è–µ—Ç–µ —è–≤–Ω–æ, –≤—ã –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç–µ —è–≤–Ω–æ. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## –ü–∞–º—è—Ç—å, —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º

### –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏

```hemlock
let p = alloc(64);       // –í—ã–¥–µ–ª–∏—Ç—å 64 –±–∞–π—Ç–∞
memset(p, 0, 64);        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å ...
free(p);                 // –í–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å!
```

**–ü—Ä–∞–≤–∏–ª–∞:**
- `alloc()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∞–º—è—Ç—å, –∫–æ—Ç–æ—Ä–æ–π –≤–ª–∞–¥–µ–µ—Ç–µ –≤—ã
- –í—ã –¥–æ–ª–∂–Ω—ã –≤—ã–∑–≤–∞—Ç—å `free()` –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –∫—Ä–∞—Ö—É (–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è ‚Äî –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π —Ä–∞–∑—Ä–µ—à–µ–Ω–∞, –Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

### –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ

```hemlock
let arr = talloc("i32", 100);  // –í—ã–¥–µ–ª–∏—Ç—å 100 i32 (400 –±–∞–π—Ç)
ptr_write_i32(arr, 0, 42);     // –ó–∞–ø–∏—Å–∞—Ç—å –≤ –∏–Ω–¥–µ–∫—Å 0
let val = ptr_read_i32(arr, 0); // –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ 0
free(arr);                      // –í—Å—ë –µ—â—ë –≤–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
```

### –ë—É—Ñ–µ—Ä—ã (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

```hemlock
let buf = buffer(64);    // –ë—É—Ñ–µ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü
buf[0] = 42;             // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
// buf[100] = 1;         // –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
free(buf);               // –í—Å—ë –µ—â—ë —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ free
```

**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ:** –ë—É—Ñ–µ—Ä—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≥—Ä–∞–Ω–∏—Ü, —Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ ‚Äî –Ω–µ—Ç.

---

## –ó–Ω–∞—á–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫

–ó–Ω–∞—á–µ–Ω–∏—è, –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ –∫—É—á–µ, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫:

```hemlock
let s1 = "hello";        // –°—Ç—Ä–æ–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–∞, refcount = 1
let s2 = s1;             // s2 —Ä–∞–∑–¥–µ–ª—è–µ—Ç s1, refcount = 2
// –ö–æ–≥–¥–∞ –æ–±–∞ –≤—ã—Ö–æ–¥—è—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, refcount ‚Üí 0, –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞
```

**–¢–∏–ø—ã —Å –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫:**
- `string` ‚Äî —Ç–µ–∫—Å—Ç UTF-8
- `array` ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã
- `object` ‚Äî –æ–±—ä–µ–∫—Ç—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ
- `function` ‚Äî –∑–∞–º—ã–∫–∞–Ω–∏—è
- `task` ‚Äî –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- `channel` ‚Äî –∫–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤

–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–∏–∫–ª—ã –≤ –≥—Ä–∞—Ñ–∞—Ö –æ–±—ä–µ–∫—Ç–æ–≤:

```hemlock
let a = { ref: null };
let b = { ref: a };
a.ref = b;               // –¶–∏–∫–ª: a ‚Üí b ‚Üí a
// –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ —Ä–∞–∑—Ä—ã–≤–∞ —Ü–∏–∫–ª–æ–≤ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ
```

---

## –¢–æ—á–∫–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –≤–ª–∞–¥–µ–Ω–∏—è

### –ü—Ä–∏–≤—è–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```hemlock
let x = [1, 2, 3];       // –ú–∞—Å—Å–∏–≤ —Å–æ–∑–¥–∞–Ω —Å refcount 1
                         // x –≤–ª–∞–¥–µ–µ—Ç —Å—Å—ã–ª–∫–æ–π
```

### –í–æ–∑–≤—Ä–∞—Ç –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π

```hemlock
fn make_array() {
    return [1, 2, 3];    // –í–ª–∞–¥–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–º –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤—ã–∑—ã–≤–∞—é—â–µ–º—É
}
let arr = make_array();  // arr —Ç–µ–ø–µ—Ä—å –≤–ª–∞–¥–µ–µ—Ç —Å—Å—ã–ª–∫–æ–π
```

### –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ

```hemlock
let a = "hello";
let b = a;               // –†–∞–∑–¥–µ–ª—è–µ–º–∞—è —Å—Å—ã–ª–∫–∞ (refcount —É–≤–µ–ª–∏—á–µ–Ω)
b = "world";             // a –≤—Å—ë –µ—â—ë –∏–º–µ–µ—Ç "hello", b –∏–º–µ–µ—Ç "world"
```

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞–Ω–∞–ª–∞–º–∏

```hemlock
let ch = channel(10);
ch.send("message");      // –ó–Ω–∞—á–µ–Ω–∏–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä –∫–∞–Ω–∞–ª–∞
                         // –û—Ä–∏–≥–∏–Ω–∞–ª –æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º

let msg = ch.recv();     // –ü–æ–ª—É—á–∞–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ –æ—Ç –∫–∞–Ω–∞–ª–∞
```

### –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á

```hemlock
let data = { x: 1 };
let task = spawn(worker, data);  // data –ì–õ–£–ë–û–ö–û –ö–û–ü–ò–†–£–ï–¢–°–Ø –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏
data.x = 2;                       // –ë–µ–∑–æ–ø–∞—Å–Ω–æ ‚Äî –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç —Å–≤–æ—é –∫–æ–ø–∏—é
let result = join(task);          // –í–ª–∞–¥–µ–Ω–∏–µ result –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤—ã–∑—ã–≤–∞—é—â–µ–º—É
```

---

## Async –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

### –ò–∑–æ–ª—è—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤

–ó–∞–ø—É—â–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ–ª—É—á–∞—é—Ç **–≥–ª—É–±–æ–∫–∏–µ –∫–æ–ø–∏–∏** –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```hemlock
async fn worker(data) {
    data.x = 100;        // –ò–∑–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–ø–∏—é –∑–∞–¥–∞—á–∏
    return data;
}

let obj = { x: 1 };
let task = spawn(worker, obj);
obj.x = 2;               // –ë–µ–∑–æ–ø–∞—Å–Ω–æ ‚Äî –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É
let result = join(task);
print(obj.x);            // 2 (–Ω–µ –∏–∑–º–µ–Ω–µ–Ω–æ –∑–∞–¥–∞—á–µ–π)
print(result.x);         // 100 (–∏–∑–º–µ–Ω—ë–Ω–Ω–∞—è –∫–æ–ø–∏—è –∑–∞–¥–∞—á–∏)
```

### –†–∞–∑–¥–µ–ª—è–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∏–ø—ã —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ (–Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è):
- **–ö–∞–Ω–∞–ª—ã** ‚Äî –¥–ª—è –º–µ–∂–∑–∞–¥–∞—á–Ω–æ–π —Å–≤—è–∑–∏
- **–ó–∞–¥–∞—á–∏** ‚Äî –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ (join/detach)

```hemlock
let ch = channel(1);
spawn(producer, ch);     // –¢–æ—Ç –∂–µ –∫–∞–Ω–∞–ª, –Ω–µ –∫–æ–ø–∏—è
spawn(consumer, ch);     // –û–±–µ –∑–∞–¥–∞—á–∏ —Ä–∞–∑–¥–µ–ª—è—é—Ç –∫–∞–Ω–∞–ª
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–¥–∞—á

```hemlock
let task = spawn(compute);
let result = join(task);  // –í—ã–∑—ã–≤–∞—é—â–∏–π –≤–ª–∞–¥–µ–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
                          // –°—Å—ã–ª–∫–∞ –∑–∞–¥–∞—á–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
```

### –û—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

```hemlock
detach(spawn(background_work));
// –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
// –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
// –ù–µ—Ç —É—Ç–µ—á–∫–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–∏–∫—Ç–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç join()
```

---

## –ü—Ä–∞–≤–∏–ª–∞ –ø–∞–º—è—Ç–∏ FFI

### –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ C

```hemlock
extern fn strlen(s: string): i32;

let s = "hello";
let len = strlen(s);     // Hemlock —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ
                         // –°—Ç—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–∞
                         // –§—É–Ω–∫—Ü–∏—è C –ù–ï –¥–æ–ª–∂–Ω–∞ –µ—ë –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–π C

```hemlock
extern fn strdup(s: string): ptr;

let copy = strdup("hello");  // C –≤—ã–¥–µ–ª–∏–ª —ç—Ç—É –ø–∞–º—è—Ç—å
free(copy);                   // –í–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –æ—Å–≤–æ–±–æ–¥–∏—Ç—å
```

### –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä (—Ç–æ–ª—å–∫–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä)

```hemlock
// –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å layout —Å—Ç—Ä—É–∫—Ç—É—Ä—ã C
ffi_struct Point { x: f64, y: f64 }

extern fn make_point(x: f64, y: f64): Point;

let p = make_point(1.0, 2.0);  // –í–æ–∑–≤—Ä–∞—â–µ–Ω–æ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ
                                // –ù–µ –Ω—É–∂–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ –¥–ª—è —Å—Ç–µ–∫–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
```

### –ü–∞–º—è—Ç—å –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

```hemlock
// –ö–æ–≥–¥–∞ C –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ Hemlock:
// - –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç C (–Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å)
// - –í–ª–∞–¥–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è C
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–π

### –ì–∞—Ä–∞–Ω—Ç–∏–∏

–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–∏ –≥–∞—Ä–∞–Ω—Ç–∏–∏:

1. **–ù–µ—Ç —É—Ç–µ—á–∫–∏ –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º –≤—ã—Ö–æ–¥–µ** ‚Äî –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –æ—á–∏—â–∞—é—Ç—Å—è
2. **–ù–µ—Ç —É—Ç–µ—á–∫–∏ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ —Ä–∞—Å–∫—Ä—É—Ç–∫–µ —Å—Ç–µ–∫–∞
3. **Defer –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏** ‚Äî –∫–æ–¥ –æ—á–∏—Å—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

### –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π

```hemlock
// –ï—Å–ª–∏ —ç—Ç–æ –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Å—Å–∏–≤–∞:
let arr = [f(), g(), h()];  // –ß–∞—Å—Ç–∏—á–Ω—ã–π –º–∞—Å—Å–∏–≤ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è

// –ï—Å–ª–∏ —ç—Ç–æ –±—Ä–æ—Å–∞–µ—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏:
foo(a(), b(), c());         // –†–∞–Ω–µ–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è
```

### Defer –¥–ª—è –æ—á–∏—Å—Ç–∫–∏

```hemlock
fn process_file() {
    let f = open("data.txt", "r");
    defer f.close();         // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ return –ò–õ–ò –∏—Å–∫–ª—é—á–µ–Ω–∏–∏

    let data = f.read();
    if (data == "") {
        throw "Empty file";  // f.close() –≤—Å—ë —Ä–∞–≤–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è!
    }
    return data;
}
```

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ —Ç–∏–ø—ã, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```hemlock
// –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ —ç—Ç–æ:
let data = [1, 2, 3, 4, 5];

// –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–µ–Ω –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å):
let data = talloc("i32", 5);
// ... –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –æ–± –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ ...
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Defer –¥–ª—è —Ä—É—á–Ω–æ–π –ø–∞–º—è—Ç–∏

```hemlock
fn process() {
    let buf = alloc(1024);
    defer free(buf);        // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

    // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å buf ...
    // –ù–µ –Ω—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –≤ –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–µ –≤–æ–∑–≤—Ä–∞—Ç–∞
}
```

### 3. –ò–∑–±–µ–≥–∞–π—Ç–µ —Å—ã—Ä—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤ async

```hemlock
// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
let p = alloc(64);
spawn(worker, p);          // –ó–∞–¥–∞—á–∞ –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è
free(p);                   // –£–ø—Å! –ó–∞–¥–∞—á–∞ –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ

// –ü–†–ê–í–ò–õ–¨–ù–û ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–Ω–∞–ª—ã –∏–ª–∏ –∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ
let ch = channel(1);
let data = buffer(64);
// ... –∑–∞–ø–æ–ª–Ω–∏—Ç—å data ...
ch.send(data);             // –ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
spawn(worker, ch);
free(data);                // –ë–µ–∑–æ–ø–∞—Å–Ω–æ ‚Äî –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç —Å–≤–æ—é –∫–æ–ø–∏—é
```

### 4. –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ –∫–∞–Ω–∞–ª—ã –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

```hemlock
let ch = channel(10);
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª ...
ch.close();                // –û—á–∏—â–∞–µ—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```

### 5. Join –∏–ª–∏ Detach –∑–∞–¥–∞—á–∏

```hemlock
let task = spawn(work);

// –í–∞—Ä–∏–∞–Ω—Ç 1: –ñ–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
let result = join(task);

// –í–∞—Ä–∏–∞–Ω—Ç 2: Fire and forget
// detach(task);

// –ù–ï –î–ï–õ–ê–ô–¢–ï: –ü–æ–∑–≤–æ–ª—è—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—É –∑–∞–¥–∞—á–∏ –≤—ã–π—Ç–∏ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±–µ–∑ join –∏–ª–∏ detach
// (–û–Ω –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç —É—Ç–µ—á—å)
```

---

## –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –ø–∞–º—è—Ç—å—é

### –í–∫–ª—é—á–∏—Ç—å ASAN

```bash
make asan
ASAN_OPTIONS=detect_leaks=1 ./hemlock script.hml
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —É—Ç–µ—á–µ–∫

```bash
make leak-regression       # –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä
make leak-regression-quick # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∏–π —Ç–µ—Å—Ç
```

### Valgrind

```bash
make valgrind-check FILE=script.hml
```

---

## –°–≤–æ–¥–∫–∞

| –û–ø–µ—Ä–∞—Ü–∏—è | –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ |
|----------|-----------------|
| `alloc(n)` | –í—ã–¥–µ–ª—è–µ—Ç, –≤—ã –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç–µ |
| `buffer(n)` | –í—ã–¥–µ–ª—è–µ—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü, –≤—ã –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç–µ |
| `"string"` | –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `[array]` | –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `{object}` | –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `spawn(fn)` | –ì–ª—É–±–æ–∫–æ –∫–æ–ø–∏—Ä—É–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á–µ–π |
| `join(task)` | –í—ã–∑—ã–≤–∞—é—â–∏–π –≤–ª–∞–¥–µ–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º |
| `detach(task)` | –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ |
| `ch.send(v)` | –ö–æ–ø–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª |
| `ch.recv()` | –í—ã–∑—ã–≤–∞—é—â–∏–π –≤–ª–∞–¥–µ–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º |
| `ch.close()` | –û—á–∏—â–∞–µ—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è |


--------------------------------------------------------------------------------
## –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
--------------------------------------------------------------------------------

# –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ Hemlock

–ü—Ä–æ–≥—Ä–∞–º–º—ã Hemlock –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π **–º–∞—Å—Å–∏–≤ `args`**, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ú–∞—Å—Å–∏–≤ args](#–º–∞—Å—Å–∏–≤-args)
- [–°–≤–æ–π—Å—Ç–≤–∞](#—Å–≤–æ–π—Å—Ç–≤–∞)
- [–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Ç–µ—Ä–∞—Ü–∏–∏](#–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–∏—Ç–µ—Ä–∞—Ü–∏–∏)
- [–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ-—Å–ª—É—á–∞–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤](#–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–ø–∞—Ä—Å–∏–Ω–≥–∞-–∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
- [–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø–æ–ª–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã)

## –û–±–∑–æ—Ä

–ú–∞—Å—Å–∏–≤ `args` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ Hemlock:

- **–í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω** - –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤–æ –≤—Å–µ—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö Hemlock
- **–ò–º—è —Å–∫—Ä–∏–ø—Ç–∞ –≤–∫–ª—é—á–µ–Ω–æ** - `args[0]` –≤—Å–µ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Ç—å/–∏–º—è —Å–∫—Ä–∏–ø—Ç–∞
- **–ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫** - –í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —è–≤–ª—è—é—Ç—Å—è —Å—Ç—Ä–æ–∫–∞–º–∏
- **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –Ω—É–ª—è** - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ (0, 1, 2, ...)

## –ú–∞—Å—Å–∏–≤ args

### –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```hemlock
// args[0] - —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –∏–º—è —Ñ–∞–π–ª–∞ —Å–∫—Ä–∏–ø—Ç–∞
// args[1] –¥–æ args[n-1] - —ç—Ç–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
print(args[0]);        // "script.hml"
print(args.length);    // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è –∏–º—è —Å–∫—Ä–∏–ø—Ç–∞)
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
./hemlock script.hml hello world "test 123"
```

**–í script.hml:**
```hemlock
print("–ò–º—è —Å–∫—Ä–∏–ø—Ç–∞: " + args[0]);     // "script.hml"
print("–í—Å–µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤: " + typeof(args.length));  // "4"
print("–ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç: " + args[1]);       // "hello"
print("–í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç: " + args[2]);      // "world"
print("–¢—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç: " + args[3]);       // "test 123"
```

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º

| –ò–Ω–¥–µ–∫—Å | –°–æ–¥–µ—Ä–∂–∏—Ç | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|--------|----------|-----------------|
| `args[0]` | –ü—É—Ç—å/–∏–º—è —Å–∫—Ä–∏–ø—Ç–∞ | `"script.hml"` –∏–ª–∏ `"./script.hml"` |
| `args[1]` | –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç | `"hello"` |
| `args[2]` | –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç | `"world"` |
| `args[3]` | –¢—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç | `"test 123"` |
| ... | ... | ... |
| `args[n-1]` | –ü–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç | (–≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è) |

## –°–≤–æ–π—Å—Ç–≤–∞

### –í—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç

`args` - —ç—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤, –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤–æ **–≤—Å–µ—Ö** –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö Hemlock:

```hemlock
// –ù–µ –Ω—É–∂–Ω–æ –æ–±—ä—è–≤–ª—è—Ç—å –∏–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
print(args.length);  // –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É
```

### –ò–º—è —Å–∫—Ä–∏–ø—Ç–∞ –≤–∫–ª—é—á–µ–Ω–æ

`args[0]` –≤—Å–µ–≥–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—É—Ç—å/–∏–º—è —Å–∫—Ä–∏–ø—Ç–∞:

```hemlock
print("–ó–∞–ø—É—â–µ–Ω–æ: " + args[0]);
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è args[0]:**
- `"script.hml"` - –ü—Ä–æ—Å—Ç–æ –∏–º—è —Ñ–∞–π–ª–∞
- `"./script.hml"` - –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å
- `"/home/user/script.hml"` - –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –±—ã–ª –≤—ã–∑–≤–∞–Ω —Å–∫—Ä–∏–ø—Ç

### –¢–∏–ø: –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫

–í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏:

```hemlock
// –ê—Ä–≥—É–º–µ–Ω—Ç—ã: ./hemlock script.hml 42 3.14 true

print(args[1]);  // "42" (—Å—Ç—Ä–æ–∫–∞, –Ω–µ —á–∏—Å–ª–æ)
print(args[2]);  // "3.14" (—Å—Ç—Ä–æ–∫–∞, –Ω–µ —á–∏—Å–ª–æ)
print(args[3]);  // "true" (—Å—Ç—Ä–æ–∫–∞, –Ω–µ –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ)

// –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
let num = 42;  // –ü–∞—Ä—Å–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞

–í—Å–µ–≥–¥–∞ –º–∏–Ω–∏–º—É–º 1 (–∏–º—è —Å–∫—Ä–∏–ø—Ç–∞):

```hemlock
print(args.length);  // –ú–∏–Ω–∏–º—É–º: 1
```

**–î–∞–∂–µ –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:**
```bash
./hemlock script.hml
```

```hemlock
// –í script.hml:
print(args.length);  // 1 (—Ç–æ–ª—å–∫–æ –∏–º—è —Å–∫—Ä–∏–ø—Ç–∞)
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ REPL

–í REPL `args.length` —Ä–∞–≤–Ω–æ 0 (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤):

```hemlock
# –°–µ—Å—Å–∏—è REPL
> print(args.length);
0
```

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Ç–µ—Ä–∞—Ü–∏–∏

### –ë–∞–∑–æ–≤–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è

–ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ `args[0]` (–∏–º—è —Å–∫—Ä–∏–ø—Ç–∞) –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:

```hemlock
let i = 1;
while (i < args.length) {
    print("–ê—Ä–≥—É–º–µ–Ω—Ç " + typeof(i) + ": " + args[i]);
    i = i + 1;
}
```

**–í—ã–≤–æ–¥ –¥–ª—è: `./hemlock script.hml foo bar baz`**
```
–ê—Ä–≥—É–º–µ–Ω—Ç 1: foo
–ê—Ä–≥—É–º–µ–Ω—Ç 2: bar
–ê—Ä–≥—É–º–µ–Ω—Ç 3: baz
```

### –ò—Ç–µ—Ä–∞—Ü–∏—è for-in (–≤–∫–ª—é—á–∞—è –∏–º—è —Å–∫—Ä–∏–ø—Ç–∞)

```hemlock
for (let arg in args) {
    print(arg);
}
```

**–í—ã–≤–æ–¥:**
```
script.hml
foo
bar
baz
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```hemlock
if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <–∞—Ä–≥—É–º–µ–Ω—Ç>");
    // exit –∏–ª–∏ return
} else {
    let arg = args[1];
    // –æ–±—Ä–∞–±–æ—Ç–∫–∞ arg
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫—Ä–æ–º–µ –∏–º–µ–Ω–∏ —Å–∫—Ä–∏–ø—Ç–∞

```hemlock
let actual_args = args.slice(1, args.length);

for (let arg in actual_args) {
    print("–û–±—Ä–∞–±–æ—Ç–∫–∞: " + arg);
}
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

```hemlock
if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <filename>");
} else {
    let filename = args[1];
    print("–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞: " + filename);
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./hemlock script.hml data.txt
# –í—ã–≤–æ–¥: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞: data.txt
```

### 2. –ù–µ—Å–∫–æ–ª—å–∫–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```hemlock
if (args.length < 3) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <input> <output>");
} else {
    let input_file = args[1];
    let output_file = args[2];

    print("–í—Ö–æ–¥: " + input_file);
    print("–í—ã—Ö–æ–¥: " + output_file);

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤...
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./hemlock convert.hml input.txt output.txt
```

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```hemlock
if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <file1> [file2] [file3] ...");
} else {
    print("–û–±—Ä–∞–±–æ—Ç–∫–∞ " + typeof(args.length - 1) + " —Ñ–∞–π–ª–æ–≤:");

    let i = 1;
    while (i < args.length) {
        print("  " + args[i]);
        process_file(args[i]);
        i = i + 1;
    }
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./hemlock batch.hml file1.txt file2.txt file3.txt
```

### 4. –°–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

```hemlock
if (args.length < 2 || args[1] == "--help" || args[1] == "-h") {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " [–û–ü–¶–ò–ò] <file>");
    print("–û–ø—Ü–∏–∏:");
    print("  -h, --help     –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ");
    print("  -v, --verbose  –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥");
} else {
    // –û–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
}
```

### 5. –í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```hemlock
fn validate_file(filename: string): bool {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ (–ø—Ä–∏–º–µ—Ä)
    return filename != "";
}

if (args.length < 2) {
    print("–û—à–∏–±–∫–∞: –ò–º—è —Ñ–∞–π–ª–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–æ");
} else if (!validate_file(args[1])) {
    print("–û—à–∏–±–∫–∞: –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–∞–π–ª: " + args[1]);
} else {
    print("–û–±—Ä–∞–±–æ—Ç–∫–∞: " + args[1]);
}
```

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

### –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (—Ñ–ª–∞–≥–∏)

–ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:

```hemlock
let verbose = false;
let output_file = "";
let input_file = "";

let i = 1;
while (i < args.length) {
    if (args[i] == "--verbose" || args[i] == "-v") {
        verbose = true;
    } else if (args[i] == "--output" || args[i] == "-o") {
        i = i + 1;
        if (i < args.length) {
            output_file = args[i];
        }
    } else {
        input_file = args[i];
    }
    i = i + 1;
}

if (verbose) {
    print("–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω");
}
print("–í—Ö–æ–¥: " + input_file);
print("–í—ã—Ö–æ–¥: " + output_file);
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./hemlock script.hml --verbose --output out.txt input.txt
./hemlock script.hml -v -o out.txt input.txt
```

### –ë—É–ª–µ–≤—ã —Ñ–ª–∞–≥–∏

```hemlock
let debug = false;
let verbose = false;
let force = false;

let i = 1;
while (i < args.length) {
    if (args[i] == "--debug") {
        debug = true;
    } else if (args[i] == "--verbose") {
        verbose = true;
    } else if (args[i] == "--force") {
        force = true;
    }
    i = i + 1;
}
```

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

```hemlock
let config_file = "default.conf";
let port = 8080;

let i = 1;
while (i < args.length) {
    if (args[i] == "--config") {
        i = i + 1;
        if (i < args.length) {
            config_file = args[i];
        }
    } else if (args[i] == "--port") {
        i = i + 1;
        if (i < args.length) {
            port = 8080;  // –ù—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ int
        }
    }
    i = i + 1;
}
```

### –°–º–µ—à–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

```hemlock
let input_file = "";
let output_file = "";
let verbose = false;

let i = 1;
let positional = [];

while (i < args.length) {
    if (args[i] == "--verbose") {
        verbose = true;
    } else {
        // –¢—Ä–∞–∫—Ç–æ–≤–∞—Ç—å –∫–∞–∫ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
        positional.push(args[i]);
    }
    i = i + 1;
}

// –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
if (positional.length > 0) {
    input_file = positional[0];
}
if (positional.length > 1) {
    output_file = positional[1];
}
```

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```hemlock
fn parse_args() {
    let options = {
        verbose: false,
        output: "",
        files: []
    };

    let i = 1;
    while (i < args.length) {
        let arg = args[i];

        if (arg == "--verbose" || arg == "-v") {
            options.verbose = true;
        } else if (arg == "--output" || arg == "-o") {
            i = i + 1;
            if (i < args.length) {
                options.output = args[i];
            }
        } else {
            // –ü–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
            options.files.push(arg);
        }

        i = i + 1;
    }

    return options;
}

let opts = parse_args();
print("–ü–æ–¥—Ä–æ–±–Ω—ã–π: " + typeof(opts.verbose));
print("–í—ã—Ö–æ–¥: " + opts.output);
print("–§–∞–π–ª–æ–≤: " + typeof(opts.files.length));
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```hemlock
// –•–æ—Ä–æ—à–æ
if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <file>");
} else {
    process_file(args[1]);
}

// –ü–ª–æ—Ö–æ - –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –µ—Å–ª–∏ –Ω–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
process_file(args[1]);  // –û—à–∏–±–∫–∞ –µ—Å–ª–∏ args.length == 1
```

### 2. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

```hemlock
fn show_usage() {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " [–û–ü–¶–ò–ò] <file>");
    print("–û–ø—Ü–∏–∏:");
    print("  -h, --help     –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É");
    print("  -v, --verbose  –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥");
}

if (args.length < 2) {
    show_usage();
}
```

### 3. –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã

```hemlock
fn validate_args() {
    if (args.length < 2) {
        print("–û—à–∏–±–∫–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç");
        return false;
    }

    if (args[1] == "") {
        print("–û—à–∏–±–∫–∞: –ü—É—Å—Ç–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç");
        return false;
    }

    return true;
}

if (!validate_args()) {
    // exit –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
}
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```hemlock
// –•–æ—Ä–æ—à–æ
let input_filename = args[1];
let output_filename = args[2];
let max_iterations = args[3];

// –ü–ª–æ—Ö–æ
let a = args[1];
let b = args[2];
let c = args[3];
```

### 5. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ –≤ –∫–∞–≤—ã—á–∫–∞—Ö

–û–±–æ–ª–æ—á–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ:

```bash
./hemlock script.hml "file with spaces.txt"
```

```hemlock
print(args[1]);  // "file with spaces.txt"
```

### 6. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```hemlock
fn get_args() {
    return {
        script: args[0],
        input: args[1],
        output: args[2]
    };
}

let arguments = get_args();
print("–í—Ö–æ–¥: " + arguments.input);
```

## –ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–∞–π–ª–æ–≤

```hemlock
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./hemlock process.hml <input> <output>

fn show_usage() {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <input_file> <output_file>");
}

if (args.length < 3) {
    show_usage();
} else {
    let input = args[1];
    let output = args[2];

    print("–û–±—Ä–∞–±–æ—Ç–∫–∞ " + input + " -> " + output);

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
    let f_in = open(input, "r");
    let f_out = open(output, "w");

    try {
        let content = f_in.read();
        let processed = content.to_upper();  // –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏
        f_out.write(processed);

        print("–ì–æ—Ç–æ–≤–æ!");
    } finally {
        f_in.close();
        f_out.close();
    }
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–∞–∫–µ—Ç–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–∞–π–ª–æ–≤

```hemlock
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./hemlock batch.hml <file1> <file2> <file3> ...

if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <file1> [file2] [file3] ...");
} else {
    print("–û–±—Ä–∞–±–æ—Ç–∫–∞ " + typeof(args.length - 1) + " —Ñ–∞–π–ª–æ–≤:");

    let i = 1;
    while (i < args.length) {
        let filename = args[i];
        print("  –û–±—Ä–∞–±–æ—Ç–∫–∞: " + filename);

        try {
            let f = open(filename, "r");
            let content = f.read();
            f.close();

            // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ...
            print("    " + typeof(content.length) + " –±–∞–π—Ç");
        } catch (e) {
            print("    –û—à–∏–±–∫–∞: " + e);
        }

        i = i + 1;
    }

    print("–ì–æ—Ç–æ–≤–æ!");
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–∞—Ä—Å–µ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```hemlock
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./hemlock app.hml [–û–ü–¶–ò–ò] <files...>
// –û–ø—Ü–∏–∏:
//   --verbose, -v     –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
//   --output, -o FILE –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª
//   --help, -h        –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É

fn parse_arguments() {
    let config = {
        verbose: false,
        output: "output.txt",
        help: false,
        files: []
    };

    let i = 1;
    while (i < args.length) {
        let arg = args[i];

        if (arg == "--verbose" || arg == "-v") {
            config.verbose = true;
        } else if (arg == "--output" || arg == "-o") {
            i = i + 1;
            if (i < args.length) {
                config.output = args[i];
            } else {
                print("–û—à–∏–±–∫–∞: --output —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ");
            }
        } else if (arg == "--help" || arg == "-h") {
            config.help = true;
        } else if (arg.starts_with("--")) {
            print("–û—à–∏–±–∫–∞: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ–ø—Ü–∏—è: " + arg);
        } else {
            config.files.push(arg);
        }

        i = i + 1;
    }

    return config;
}

fn show_help() {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " [–û–ü–¶–ò–ò] <files...>");
    print("–û–ø—Ü–∏–∏:");
    print("  --verbose, -v     –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥");
    print("  --output, -o FILE –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª");
    print("  --help, -h        –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É");
}

let config = parse_arguments();

if (config.help) {
    show_help();
} else if (config.files.length == 0) {
    print("–û—à–∏–±–∫–∞: –ù–µ —É–∫–∞–∑–∞–Ω—ã –≤—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã");
    show_help();
} else {
    if (config.verbose) {
        print("–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω");
        print("–í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª: " + config.output);
        print("–í—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: " + typeof(config.files.length));
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
    for (let file in config.files) {
        if (config.verbose) {
            print("–û–±—Ä–∞–±–æ—Ç–∫–∞: " + file);
        }
        // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
    }
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```hemlock
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./hemlock config.hml <action> [arguments]
// –î–µ–π—Å—Ç–≤–∏—è:
//   get <key>
//   set <key> <value>
//   list

fn show_usage() {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <action> [arguments]");
    print("–î–µ–π—Å—Ç–≤–∏—è:");
    print("  get <key>         –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏");
    print("  set <key> <value> –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏");
    print("  list              –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é");
}

if (args.length < 2) {
    show_usage();
} else {
    let action = args[1];

    if (action == "get") {
        if (args.length < 3) {
            print("–û—à–∏–±–∫–∞: 'get' —Ç—Ä–µ–±—É–µ—Ç –∫–ª—é—á");
        } else {
            let key = args[2];
            print("–ü–æ–ª—É—á–µ–Ω–∏–µ: " + key);
            // ... –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
        }
    } else if (action == "set") {
        if (args.length < 4) {
            print("–û—à–∏–±–∫–∞: 'set' —Ç—Ä–µ–±—É–µ—Ç –∫–ª—é—á –∏ –∑–Ω–∞—á–µ–Ω–∏–µ");
        } else {
            let key = args[2];
            let value = args[3];
            print("–£—Å—Ç–∞–Ω–æ–≤–∫–∞ " + key + " = " + value);
            // ... —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥–µ
        }
    } else if (action == "list") {
        print("–í—ã–≤–æ–¥ –≤—Å–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:");
        // ... –≤—ã–≤–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥
    } else {
        print("–û—à–∏–±–∫–∞: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ: " + action);
        show_usage();
    }
}
```

## –ò—Ç–æ–≥

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ `args`, –¥–æ—Å—Ç—É–ø–Ω—ã–π –≥–ª–æ–±–∞–ª—å–Ω–æ
- –ü—Ä–æ—Å—Ç–æ–π –¥–æ—Å—Ç—É–ø –∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Å—Å–∏–≤–∞
- –ò–º—è —Å–∫—Ä–∏–ø—Ç–∞ –≤ `args[0]`
- –í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–∞ (.length, .slice, –∏ —Ç.–¥.)

–ü–æ–º–Ω–∏—Ç–µ:
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ `args.length` –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º
- `args[0]` - —ç—Ç–æ –∏–º—è —Å–∫—Ä–∏–ø—Ç–∞
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `args[1]`
- –í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã - —Å—Ç—Ä–æ–∫–∏, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –¥–ª—è —É–¥–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
- –ü—Ä–æ—Å—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
- –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã/—Ñ–ª–∞–≥–∏ (--flag)
- –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (--option value)
- –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (--help)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤


--------------------------------------------------------------------------------
## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
--------------------------------------------------------------------------------

# –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ Hemlock

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å** —Å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º async/await, –ø–æ—Ä–æ–∂–¥–µ–Ω–∏–µ–º –∑–∞–¥–∞—á –∏ –∫–∞–Ω–∞–ª–∞–º–∏ –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç POSIX-–ø–æ—Ç–æ–∫–∏ (pthreads) –¥–ª—è **–Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞**.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ú–æ–¥–µ–ª—å –ø–æ—Ç–æ–∫–æ–≤](#–º–æ–¥–µ–ª—å-–ø–æ—Ç–æ–∫–æ–≤)
- [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏)
- [–ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á](#–ø–æ—Ä–æ–∂–¥–µ–Ω–∏–µ-–∑–∞–¥–∞—á)
- [–ö–∞–Ω–∞–ª—ã](#–∫–∞–Ω–∞–ª—ã)
- [–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π](#—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–∏—Å–∫–ª—é—á–µ–Ω–∏–π)
- [–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–¥–µ—Ç–∞–ª–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
- [–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- [–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#—Ç–µ–∫—É—â–∏–µ-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

## –û–±–∑–æ—Ä

**–ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:**
- **–ù–∞—Å—Ç–æ—è—â–∏–µ –ø–æ—Ç–æ–∫–∏ –û–°** - –ö–∞–∂–¥–∞—è –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º pthread (POSIX-–ø–æ—Ç–æ–∫–µ)
- **–ò—Å—Ç–∏–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º** - –ó–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–¥—Ä–∞—Ö CPU
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —è–¥—Ä–æ–º** - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –û–° —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–¥–∞—á–∏ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º —è–¥—Ä–∞–º
- **–ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º—å—é—Ç–µ–∫—Å—ã pthread –∏ —É—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

**–ß–µ–º —ç—Ç–æ –ù–ï —è–≤–ª—è–µ—Ç—Å—è:**
- **–ù–ï –∑–µ–ª—ë–Ω—ã–µ –ø–æ—Ç–æ–∫–∏** - –ù–µ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ
- **–ù–ï –∫–æ—Ä—É—Ç–∏–Ω—ã async/await** - –ù–µ –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π –∫–∞–∫ –≤ JavaScript/Python asyncio
- **–ù–ï —ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –ù–µ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

–≠—Ç–æ **—Ç–∞ –∂–µ –º–æ–¥–µ–ª—å –ø–æ—Ç–æ–∫–æ–≤, —á—Ç–æ –≤ C, C++ –∏ Rust** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ—Ç–æ–∫–æ–≤ –û–°. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–¥—Ä–∞—Ö.

## –ú–æ–¥–µ–ª—å –ø–æ—Ç–æ–∫–æ–≤

### –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 1:1

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–æ–¥–µ–ª—å –ø–æ—Ç–æ–∫–æ–≤ 1:1**, –≥–¥–µ:
- –ö–∞–∂–¥–∞—è –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞—ë—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –û–° —á–µ—Ä–µ–∑ `pthread_create()`
- –Ø–¥—Ä–æ –û–° –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫–∏ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º —è–¥—Ä–∞–º CPU
- –í—ã—Ç–µ—Å–Ω—è—é—â–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å - –û–° –º–æ–∂–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø–æ—Ç–æ–∫–∏
- **–ù–µ—Ç GIL** - –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Python, –Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

### –ú–µ—Ö–∞–Ω–∏–∑–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

- **–ú—å—é—Ç–µ–∫—Å—ã** - –ö–∞–Ω–∞–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `pthread_mutex_t` –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–£—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** - –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ send/recv –∏—Å–ø–æ–ª—å–∑—É—é—Ç `pthread_cond_t` –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
- **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ü–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–¥–∞—á –∞—Ç–æ–º–∞—Ä–Ω—ã

## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω—ã –∫–∞–∫ `async`, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –æ–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```hemlock
async fn compute(n: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < n) {
        sum = sum + i;
        i = i + 1;
    }
    return sum;
}
```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

- `async fn` –æ–±—ä—è–≤–ª—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ä–æ–∂–¥–µ–Ω—ã –∫–∞–∫ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –ø–æ–º–æ—â—å—é `spawn()`
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ç–µ–∫—É—â–µ–º –ø–æ—Ç–æ–∫–µ)
- –ü—Ä–∏ –ø–æ—Ä–æ–∂–¥–µ–Ω–∏–∏ –∫–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –ø–æ—Ç–æ–∫–µ –û–°** (–Ω–µ –∫–æ—Ä—É—Ç–∏–Ω–∞!)
- –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `await` –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä: –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ vs –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ

```hemlock
async fn factorial(n: i32): i32 {
    if (n <= 1) { return 1; }
    return n * factorial(n - 1);
}

// –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
let result1 = factorial(5);  // 120

// –ü–æ—Ä–æ–∂–¥—ë–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
let task = spawn(factorial, 5);
let result2 = join(task);  // 120
```

## –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `spawn()` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö –û–°**:

```hemlock
async fn factorial(n: i32): i32 {
    if (n <= 1) { return 1; }
    return n * factorial(n - 1);
}

// –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á - –æ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–û –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–¥—Ä–∞—Ö CPU!
let t1 = spawn(factorial, 5);  // –ü–æ—Ç–æ–∫ 1
let t2 = spawn(factorial, 6);  // –ü–æ—Ç–æ–∫ 2
let t3 = spawn(factorial, 7);  // –ü–æ—Ç–æ–∫ 3

// –í—Å–µ —Ç—Ä–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!

// –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
let f5 = join(t1);  // 120
let f6 = join(t2);  // 720
let f7 = join(t3);  // 5040
```

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### spawn(async_fn, arg1, arg2, ...)

–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –≤ –Ω–æ–≤–æ–º pthread, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `async_fn` - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `arg1, arg2, ...` - –ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏ (–Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å `join()` –∏–ª–∏ `detach()`)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
async fn process(data: string, count: i32): i32 {
    // ... –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    return count * 2;
}

let task = spawn(process, "test", 42);
```

#### join(task)

–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `task` - –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π –∏–∑ `spawn()`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ó–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω–æ–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let task = spawn(compute, 1000);
let result = join(task);  // –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è compute()
print(result);
```

**–í–∞–∂–Ω–æ:** –ö–∞–∂–¥—É—é –∑–∞–¥–∞—á—É –º–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑. –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤—ã–∑–æ–≤—É—Ç –æ—à–∏–±–∫—É.

#### detach(task)

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É "–∑–∞–ø—É—Å—Ç–∏–ª –∏ –∑–∞–±—ã–ª" (–ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, join –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω).

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `task` - –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π –∏–∑ `spawn()`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
async fn background_work() {
    // –î–æ–ª–≥–æ –≤—ã–ø–æ–ª–Ω—è—é—â–∞—è—Å—è —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞
    // ...
}

let task = spawn(background_work);
detach(task);  // –ó–∞–¥–∞—á–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
```

**–í–∞–∂–Ω–æ:** –û—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –Ω–µ–ª—å–∑—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å. –ò pthread, –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Task –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏.

## –ö–∞–Ω–∞–ª—ã

–ö–∞–Ω–∞–ª—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—É—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞ —Å –±–ª–æ–∫–∏—Ä—É—é—â–µ–π —Å–µ–º–∞–Ω—Ç–∏–∫–æ–π.

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤

```hemlock
let ch = channel(10);  // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ —Å —Ä–∞–∑–º–µ—Ä–æ–º –±—É—Ñ–µ—Ä–∞ 10
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `capacity` (i32) - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–Ω–∞–ª

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç –∫–∞–Ω–∞–ª–∞

### –ú–µ—Ç–æ–¥—ã –∫–∞–Ω–∞–ª–æ–≤

#### send(value)

–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –ø–æ–ª–æ–Ω).

```hemlock
async fn producer(ch, count: i32) {
    let i = 0;
    while (i < count) {
        ch.send(i * 10);
        i = i + 1;
    }
    ch.close();
    return null;
}

let ch = channel(10);
let task = spawn(producer, ch, 5);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ –≤ –∫–∞–Ω–∞–ª–µ –µ—Å—Ç—å –º–µ—Å—Ç–æ, –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –ø–æ–ª–æ–Ω, –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –º–µ—Å—Ç–∞
- –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

#### recv()

–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞ (–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –ø—É—Å—Ç).

```hemlock
async fn consumer(ch, count: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < count) {
        let val = ch.recv();
        sum = sum + val;
        i = i + 1;
    }
    return sum;
}

let ch = channel(10);
let task = spawn(consumer, ch, 5);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ –≤ –∫–∞–Ω–∞–ª–µ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –ø—É—Å—Ç, –ø–æ–ª—É—á–∞—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
- –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç –∏ –ø—É—Å—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`

#### close()

–ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª–∞ (recv –Ω–∞ –∑–∞–∫—Ä—ã—Ç–æ–º –∫–∞–Ω–∞–ª–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null).

```hemlock
ch.close();
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `send()` (–≤—ã–∑–æ–≤—É—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ `recv()`
- –ü–æ—Å–ª–µ –æ–ø—É—Å—Ç–æ—à–µ–Ω–∏—è `recv()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`

### –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Å select()

–§—É–Ω–∫—Ü–∏—è `select()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–∂–∏–¥–∞—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞—è—Å—å, –∫–æ–≥–¥–∞ –≤ –ª—é–±–æ–º –∫–∞–Ω–∞–ª–µ –ø–æ—è–≤—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
select(channels: array, timeout_ms?: i32): object | null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `channels` - –ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –∫–∞–Ω–∞–ª–æ–≤
- `timeout_ms` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¢–∞–π–º–∞—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (-1 –∏–ª–∏ –æ–ø—É—Å—Ç–∏—Ç—å –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `{ channel, value }` - –û–±—ä–µ–∫—Ç —Å –∫–∞–Ω–∞–ª–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—ã–ª–∏ –¥–∞–Ω–Ω—ã–µ, –∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
- `null` - –ü—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ (–µ—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –±—ã–ª —É–∫–∞–∑–∞–Ω)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let ch1 = channel(1);
let ch2 = channel(1);

// –ó–∞–¥–∞—á–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏
spawn(fn() {
    sleep(100);
    ch1.send("–∏–∑ –∫–∞–Ω–∞–ª–∞ 1");
});

spawn(fn() {
    sleep(50);
    ch2.send("–∏–∑ –∫–∞–Ω–∞–ª–∞ 2");
});

// –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (ch2 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ)
let result = select([ch1, ch2]);
print(result.value);  // "–∏–∑ –∫–∞–Ω–∞–ª–∞ 2"

// –û–∂–∏–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
let result2 = select([ch1, ch2]);
print(result2.value);  // "–∏–∑ –∫–∞–Ω–∞–ª–∞ 1"
```

**–° —Ç–∞–π–º–∞—É—Ç–æ–º:**
```hemlock
let ch = channel(1);

// –ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è, –±—É–¥–µ—Ç —Ç–∞–π–º–∞—É—Ç
let result = select([ch], 100);  // —Ç–∞–π–º–∞—É—Ç 100–º—Å
if (result == null) {
    print("–¢–∞–π–º–∞—É—Ç!");
}
```

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –û–∂–∏–¥–∞–Ω–∏–µ —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∫–∞–Ω–∞–ª–∞–º–∏
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —Å–æ–±—ã—Ç–∏–π
- Fan-in: –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤ –æ–¥–∏–Ω

**–ü–∞—Ç—Ç–µ—Ä–Ω fan-in:**
```hemlock
fn fan_in(channels: array, output: channel) {
    while (true) {
        let result = select(channels);
        if (result == null) {
            break;  // –í—Å–µ –∫–∞–Ω–∞–ª—ã –∑–∞–∫—Ä—ã—Ç—ã
        }
        output.send(result.value);
    }
    output.close();
}
```

### –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å

```hemlock
async fn producer(ch, count: i32) {
    let i = 0;
    while (i < count) {
        ch.send(i * 10);
        i = i + 1;
    }
    ch.close();
    return null;
}

async fn consumer(ch, count: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < count) {
        let val = ch.recv();
        sum = sum + val;
        i = i + 1;
    }
    return sum;
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞ —Å —Ä–∞–∑–º–µ—Ä–æ–º –±—É—Ñ–µ—Ä–∞
let ch = channel(10);

// –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
let p = spawn(producer, ch, 5);
let c = spawn(consumer, ch, 5);

// –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
join(p);
let total = join(c);  // 100 (0+10+20+30+40)
print(total);
```

### –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π, –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π

–ö–∞–Ω–∞–ª—ã –º–æ–≥—É—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å—Å—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏:

```hemlock
async fn producer(id: i32, ch, count: i32) {
    let i = 0;
    while (i < count) {
        ch.send(id * 100 + i);
        i = i + 1;
    }
}

async fn consumer(id: i32, ch, count: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < count) {
        let val = ch.recv();
        sum = sum + val;
        i = i + 1;
    }
    return sum;
}

let ch = channel(20);

// –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
let p1 = spawn(producer, 1, ch, 5);
let p2 = spawn(producer, 2, ch, 5);

// –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π
let c1 = spawn(consumer, 1, ch, 5);
let c2 = spawn(consumer, 2, ch, 5);

// –û–∂–∏–¥–∞–Ω–∏–µ –≤—Å–µ—Ö
join(p1);
join(p2);
let sum1 = join(c1);
let sum2 = join(c2);
print(sum1 + sum2);
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–ò—Å–∫–ª—é—á–µ–Ω–∏—è, –≤—ã–±—Ä–æ—à–µ–Ω–Ω—ã–µ –≤ –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏:

```hemlock
async fn risky_operation(should_fail: i32): i32 {
    if (should_fail == 1) {
        throw "–ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π!";
    }
    return 42;
}

let t = spawn(risky_operation, 1);
try {
    let result = join(t);
} catch (e) {
    print("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ: " + e);  // "–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ: –ó–∞–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π!"
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–ü–∞—Ç—Ç–µ—Ä–Ω 1: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –∑–∞–¥–∞—á–µ**
```hemlock
async fn safe_task() {
    try {
        // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    } catch (e) {
        print("–û—à–∏–±–∫–∞ –≤ –∑–∞–¥–∞—á–µ: " + e);
        return null;
    }
}

let task = spawn(safe_task);
join(task);  // –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è
```

**–ü–∞—Ç—Ç–µ—Ä–Ω 2: –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É**
```hemlock
async fn task_that_throws() {
    throw "–æ—à–∏–±–∫–∞";
}

let task = spawn(task_that_throws);
try {
    join(task);
} catch (e) {
    print("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ –∏–∑ –∑–∞–¥–∞—á–∏: " + e);
}
```

**–ü–∞—Ç—Ç–µ—Ä–Ω 3: –û—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏**
```hemlock
async fn detached_task() {
    try {
        // —Ä–∞–±–æ—Ç–∞
    } catch (e) {
        // –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å
        print("–û—à–∏–±–∫–∞: " + e);
    }
}

let task = spawn(detached_task);
detach(task);  // –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
```

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Ç–æ–∫–æ–≤

- **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ 1:1** - –ö–∞–∂–¥–∞—è –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞—ë—Ç –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –û–° —á–µ—Ä–µ–∑ `pthread_create()`
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —è–¥—Ä–æ–º** - –Ø–¥—Ä–æ –û–° –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫–∏ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º —è–¥—Ä–∞–º CPU
- **–í—ã—Ç–µ—Å–Ω—è—é—â–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å** - –û–° –º–æ–∂–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø–æ—Ç–æ–∫–∏
- **–ù–µ—Ç GIL** - –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Python, –Ω–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–µ–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤

–ö–∞–Ω–∞–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π pthread:

```
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–Ω–∞–ª–∞:
- buffer[] - –ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- capacity - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- size - –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- head - –ü–æ–∑–∏—Ü–∏—è —á—Ç–µ–Ω–∏—è
- tail - –ü–æ–∑–∏—Ü–∏—è –∑–∞–ø–∏—Å–∏
- mutex - pthread_mutex_t –¥–ª—è –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- not_empty - pthread_cond_t –¥–ª—è –±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ recv
- not_full - pthread_cond_t –¥–ª—è –±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ send
- closed - –ë—É–ª–µ–≤—ã–π —Ñ–ª–∞–≥
- refcount - –°—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
```

**–ë–ª–æ–∫–∏—Ä—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- `send()` –Ω–∞ –ø–æ–ª–Ω–æ–º –∫–∞–Ω–∞–ª–µ: –æ–∂–∏–¥–∞–µ—Ç –Ω–∞ —É—Å–ª–æ–≤–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `not_full`
- `recv()` –Ω–∞ –ø—É—Å—Ç–æ–º –∫–∞–Ω–∞–ª–µ: –æ–∂–∏–¥–∞–µ—Ç –Ω–∞ —É—Å–ª–æ–≤–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `not_empty`
- –û–±–∞ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è, –∫–æ–≥–¥–∞ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π

### –ü–∞–º—è—Ç—å –∏ –æ—á–∏—Å—Ç–∫–∞

- **–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ `join()`
- **–û—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏
- **–ö–∞–Ω–∞–ª—ã:** –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –∫–∞–Ω–∞–ª—ã

```hemlock
async fn producer(ch) {
    // ... –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π
    ch.close();  // –í–∞–∂–Ω–æ: —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –±–æ–ª—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ –±—É–¥–µ—Ç
}
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å

–ü–æ—Ä–æ–∂–¥–∞–π—Ç–µ –∑–∞–¥–∞—á–∏ –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ –∏—Ö –≤ —Ç–æ–π –∂–µ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏:

```hemlock
fn process_data(data) {
    // –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á
    let t1 = spawn(worker, data);
    let t2 = spawn(worker, data);

    // –í—Å–µ–≥–¥–∞ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
    let r1 = join(t1);
    let r2 = join(t2);

    return r1 + r2;
}
```

### 3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞–¥–ª–µ–∂–∞—â–∏–º –æ–±—Ä–∞–∑–æ–º

```hemlock
async fn task() {
    try {
        // —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    } catch (e) {
        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
        throw e;  // –ü–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å, –µ—Å–ª–∏ –≤—ã–∑—ã–≤–∞—é—â–∏–π –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å
    }
}
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é —ë–º–∫–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞

- **–ú–∞–ª–∞—è —ë–º–∫–æ—Å—Ç—å (1-10):** –î–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏/—Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
- **–°—Ä–µ–¥–Ω—è—è —ë–º–∫–æ—Å—Ç—å (10-100):** –î–ª—è –æ–±—â–µ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å
- **–ë–æ–ª—å—à–∞—è —ë–º–∫–æ—Å—Ç—å (100+):** –î–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```hemlock
let signal_ch = channel(1);      // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
let work_ch = channel(50);       // –û—á–µ—Ä–µ–¥—å —Ä–∞–±–æ—Ç
let buffer_ch = channel(1000);   // –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
```

### 5. –û—Ç—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ `join()` –≤–º–µ—Å—Ç–æ `detach()` –¥–ª—è –ª—É—á—à–µ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏:

```hemlock
// –•–æ—Ä–æ—à–æ: –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
let task = spawn(work);
let result = join(task);

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ detach —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö "–∑–∞–ø—É—Å—Ç–∏–ª –∏ –∑–∞–±—ã–ª"
let bg_task = spawn(background_logging);
detach(bg_task);  // –ë—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
```

## –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ò—Å—Ç–∏–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

- **N –ø–æ—Ä–æ–∂–¥—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å N —è–¥–µ—Ä CPU –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**
- –î–æ–∫–∞–∑–∞–Ω–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ - —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 8-9x CPU-–≤—Ä–µ–º—è vs —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (—Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —è–¥–µ—Ä)
- –õ–∏–Ω–µ–π–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —è–¥–µ—Ä (–¥–æ —á–∏—Å–ª–∞ –ø–æ—Ç–æ–∫–æ–≤)

### –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–æ—Ç–æ–∫–∏

- –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –∏–º–µ–µ—Ç ~8KB —Å—Ç–µ–∫–∞ + –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã pthread
- –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ç–æ–∫–∞: ~10-20–º–∫—Å
- –°—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: ~1-5–º–∫—Å

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Async

**–•–æ—Ä–æ—à–∏–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏—Ç—å
- I/O-–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Ö–æ—Ç—è I/O –≤—Å—ë –µ—â—ë –±–ª–æ–∫–∏—Ä—É—é—â–∏–π)
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–Ω–≤–µ–π–µ—Ä–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å –∫–∞–Ω–∞–ª–∞–º–∏

**–ù–µ –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è:**
- –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–¥–∞—á (–¥–æ–º–∏–Ω–∏—Ä—É—é—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–æ—Ç–æ–∫–∏)
- –ó–∞–¥–∞—á —Å –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π (–Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é)
- –û–¥–Ω–æ—è–¥–µ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º (–Ω–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ I/O

–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥—Ä—É–≥–∏–µ:

```hemlock
async fn reader(filename: string) {
    let f = open(filename, "r");  // –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –ø–æ—Ç–æ–∫
    let content = f.read();       // –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –ø–æ—Ç–æ–∫
    f.close();
    return content;
}

// –û–±–∞ —á–∏—Ç–∞—é—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ (–≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö)
let t1 = spawn(reader, "file1.txt");
let t2 = spawn(reader, "file2.txt");

let c1 = join(t1);
let c2 = join(t2);
```

## –ú–æ–¥–µ–ª—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ **–ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–æ–±—â–µ–Ω–∏–π**, –≥–¥–µ –∑–∞–¥–∞—á–∏ –∫–æ–º–º—É–Ω–∏—Ü–∏—Ä—É—é—Ç —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª—ã, –∞ –Ω–µ —á–µ—Ä–µ–∑ –æ–±—â–µ–µ –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

### –ò–∑–æ–ª—è—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

–ö–æ–≥–¥–∞ –≤—ã –ø–æ—Ä–æ–∂–¥–∞–µ—Ç–µ –∑–∞–¥–∞—á—É, **–∞—Ä–≥—É–º–µ–Ω—Ç—ã –≥–ª—É–±–æ–∫–æ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö:

```hemlock
async fn modify_array(arr: array): array {
    arr.push(999);    // –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ö–û–ü–ò–Æ, –Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª
    arr[0] = -1;
    return arr;
}

let original = [1, 2, 3];
let task = spawn(modify_array, original);
let modified = join(task);

print(original.length);  // 3 - –Ω–µ –∏–∑–º–µ–Ω—ë–Ω!
print(modified.length);  // 4 - –µ—Å—Ç—å –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
```

**–ß—Ç–æ –≥–ª—É–±–æ–∫–æ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è:**
- –ú–∞—Å—Å–∏–≤—ã (–∏ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ)
- –û–±—ä–µ–∫—Ç—ã (–∏ –≤—Å–µ –ø–æ–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ)
- –°—Ç—Ä–æ–∫–∏
- –ë—É—Ñ–µ—Ä—ã

**–ß—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è (—Å—Å—ã–ª–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è):**
- –ö–∞–Ω–∞–ª—ã (–º–µ—Ö–∞–Ω–∏–∑–º –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ - –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π)
- –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –∑–∞–¥–∞—á (–¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏)
- –§—É–Ω–∫—Ü–∏–∏ (–∫–æ–¥ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º)
- –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã (–û–° —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º)
- –°–æ–∫–µ—Ç–Ω—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã (–û–° —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º)

**–ß—Ç–æ –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å:**
- –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`ptr`) - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ `buffer`

### –ü–æ—á–µ–º—É –ø–µ—Ä–µ–¥–∞—á–∞ —Å–æ–æ–±—â–µ–Ω–∏–π?

–≠—Ç–æ —Å–ª–µ–¥—É–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock "—è–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ":

```hemlock
// –ü–õ–û–•–û: –û–±—â–µ–µ –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–≤—ã–∑–æ–≤–µ—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö)
let counter = { value: 0 };
let t1 = spawn(fn() { counter.value = counter.value + 1; });  // –ì–æ–Ω–∫–∞!
let t2 = spawn(fn() { counter.value = counter.value + 1; });  // –ì–æ–Ω–∫–∞!

// –•–û–†–û–®–û: –ü–µ—Ä–µ–¥–∞—á–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª—ã
async fn increment(ch) {
    let val = ch.recv();
    ch.send(val + 1);
}

let ch = channel(1);
ch.send(0);
let t1 = spawn(increment, ch);
join(t1);
let result = ch.recv();  // 1 - –Ω–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏
```

### –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–¥—Å—á—ë—Ç–∞ —Å—Å—ã–ª–æ–∫

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥—Å—á—ë—Ç–∞ —Å—Å—ã–ª–æ–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è:
- `string_retain/release` - –∞—Ç–æ–º–∞—Ä–Ω—ã–µ
- `array_retain/release` - –∞—Ç–æ–º–∞—Ä–Ω—ã–µ
- `object_retain/release` - –∞—Ç–æ–º–∞—Ä–Ω—ã–µ
- `buffer_retain/release` - –∞—Ç–æ–º–∞—Ä–Ω—ã–µ
- `function_retain/release` - –∞—Ç–æ–º–∞—Ä–Ω—ã–µ
- `channel_retain/release` - –∞—Ç–æ–º–∞—Ä–Ω—ã–µ
- `task_retain/release` - –∞—Ç–æ–º–∞—Ä–Ω—ã–µ

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏.

### –î–æ—Å—Ç—É–ø –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é –∑–∞–º—ã–∫–∞–Ω–∏—è

–ó–∞–¥–∞—á–∏ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é –∑–∞–º—ã–∫–∞–Ω–∏—è –¥–ª—è:
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (`print`, `len`, –∏ —Ç.–¥.)
- –ì–ª–æ–±–∞–ª—å–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–π
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–û–∫—Ä—É–∂–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è –∑–∞—â–∏—â–µ–Ω–æ –º—å—é—Ç–µ–∫—Å–æ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ –¥–µ–ª–∞–µ—Ç
–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏:

```hemlock
let x = 10;

async fn read_closure(): i32 {
    return x;  // OK: —á—Ç–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–º—ã–∫–∞–Ω–∏—è (–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ)
}

async fn modify_closure() {
    x = 20;  // OK: –∑–∞–ø–∏—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–º—ã–∫–∞–Ω–∏—è (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –º—å—é—Ç–µ–∫—Å–æ–º)
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –•–æ—Ç—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑
–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á –≤—Å—ë –µ—â—ë –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏—è–º –≥–æ–Ω–∫–∏ (–Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
–ø–æ—Ä—è–¥–æ–∫). –î–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –∑–∞–¥–∞—á –∏–ª–∏
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∑–∞–¥–∞—á.

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –∑–∞–¥–∞—á–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏ –∫–∞–Ω–∞–ª—ã.

## –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. –ù–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —Å –∫—Ä–∞–∂–µ–π —Ä–∞–±–æ—Ç—ã

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç 1 –ø–æ—Ç–æ–∫ –Ω–∞ –∑–∞–¥–∞—á—É, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –º–Ω–æ–≥–∏—Ö –∫–æ—Ä–æ—Ç–∫–∏—Ö –∑–∞–¥–∞—á.

**–¢–µ–∫—É—â–µ–µ:** 1000 –∑–∞–¥–∞—á = 1000 –ø–æ—Ç–æ–∫–æ–≤ (–±–æ–ª—å—à–∏–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã)

**–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:** –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ —Å –∫—Ä–∞–∂–µ–π —Ä–∞–±–æ—Ç—ã –¥–ª—è –ª—É—á—à–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 3. –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ I/O

–§–∞–π–ª–æ–≤—ã–µ/—Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Å—ë –µ—â—ë –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–æ—Ç–æ–∫:

```hemlock
async fn read_file(path: string) {
    let f = open(path, "r");
    let content = f.read();  // –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫
    f.close();
    return content;
}
```

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö I/O –æ–ø–µ—Ä–∞—Ü–∏–π

### 4. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —ë–º–∫–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞

–Å–º–∫–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞:

```hemlock
let ch = channel(10);
// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω–∏—Ç—å –¥–æ 20
```

### 5. –†–∞–∑–º–µ—Ä –∫–∞–Ω–∞–ª–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω

–†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –∫–∞–Ω–∞–ª–∞ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π Map

```hemlock
async fn map_worker(ch_in, ch_out, fn_transform) {
    while (true) {
        let val = ch_in.recv();
        if (val == null) { break; }

        let result = fn_transform(val);
        ch_out.send(result);
    }
    ch_out.close();
}

fn parallel_map(data, fn_transform, workers: i32) {
    let ch_in = channel(100);
    let ch_out = channel(100);

    // –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–æ–≤
    let tasks = [];
    let i = 0;
    while (i < workers) {
        tasks.push(spawn(map_worker, ch_in, ch_out, fn_transform));
        i = i + 1;
    }

    // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    let i = 0;
    while (i < data.length) {
        ch_in.send(data[i]);
        i = i + 1;
    }
    ch_in.close();

    // –°–±–æ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    let results = [];
    let i = 0;
    while (i < data.length) {
        results.push(ch_out.recv());
        i = i + 1;
    }

    // –û–∂–∏–¥–∞–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–æ–≤
    let i = 0;
    while (i < tasks.length) {
        join(tasks[i]);
        i = i + 1;
    }

    return results;
}
```

### –ö–æ–Ω–≤–µ–π–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```hemlock
async fn stage1(input_ch, output_ch) {
    while (true) {
        let val = input_ch.recv();
        if (val == null) { break; }
        output_ch.send(val * 2);
    }
    output_ch.close();
}

async fn stage2(input_ch, output_ch) {
    while (true) {
        let val = input_ch.recv();
        if (val == null) { break; }
        output_ch.send(val + 10);
    }
    output_ch.close();
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω–≤–µ–π–µ—Ä–∞
let ch1 = channel(10);
let ch2 = channel(10);
let ch3 = channel(10);

let s1 = spawn(stage1, ch1, ch2);
let s2 = spawn(stage2, ch2, ch3);

// –ü–æ–¥–∞—á–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
ch1.send(1);
ch1.send(2);
ch1.send(3);
ch1.close();

// –°–±–æ—Ä –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
print(ch3.recv());  // 12 (1 * 2 + 10)
print(ch3.recv());  // 14 (2 * 2 + 10)
print(ch3.recv());  // 16 (3 * 2 + 10)

join(s1);
join(s2);
```

### Fan-Out, Fan-In

```hemlock
async fn worker(id: i32, input_ch, output_ch) {
    while (true) {
        let val = input_ch.recv();
        if (val == null) { break; }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è
        let result = val * id;
        output_ch.send(result);
    }
}

let input = channel(10);
let output = channel(10);

// Fan-out: –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–æ—Ä–∫–µ—Ä–æ–≤
let workers = 4;
let tasks = [];
let i = 0;
while (i < workers) {
    tasks.push(spawn(worker, i, input, output));
    i = i + 1;
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–∞–±–æ—Ç—ã
let i = 0;
while (i < 10) {
    input.send(i);
    i = i + 1;
}
input.close();

// Fan-in: –°–±–æ—Ä –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
let results = [];
let i = 0;
while (i < 10) {
    results.push(output.recv());
    i = i + 1;
}

// –û–∂–∏–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤
let i = 0;
while (i < tasks.length) {
    join(tasks[i]);
    i = i + 1;
}
```

## –ò—Ç–æ–≥

–ú–æ–¥–µ–ª—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏/–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- –ò—Å—Ç–∏–Ω–Ω—ã–π –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ—Ç–æ–∫–æ–≤ –û–°
- –ü—Ä–æ—Å—Ç—ã–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–º–∏—Ç–∏–≤—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏
- –î–æ–∫–∞–∑–∞–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- **–ò–∑–æ–ª—è—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤** - –≥–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ê—Ç–æ–º–∞—Ä–Ω—ã–π –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏

–≠—Ç–æ –¥–µ–ª–∞–µ—Ç Hemlock –ø–æ–¥—Ö–æ–¥—è—â–∏–º –¥–ª—è:
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö I/O –æ–ø–µ—Ä–∞—Ü–∏–π
- –ö–æ–Ω–≤–µ–π–µ—Ä–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä
- –ü–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å

–ò–∑–±–µ–≥–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:
- –†—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞–º–∏
- –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã—Ö –≤–∑–∞–∏–º–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º –¥–∏–∑–∞–π–Ω–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- –û—à–∏–±–æ–∫ –æ–±—â–µ–≥–æ –∏–∑–º–µ–Ω—è–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è


--------------------------------------------------------------------------------
## –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
--------------------------------------------------------------------------------

# –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è **–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è**. –≠—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ–±—â–µ–π –ø–∞–º—è—Ç—å—é –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –±–µ–∑ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏–ª–∏ –º—å—é—Ç–µ–∫—Å–æ–≤.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏](#–∫–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∞—Ç–æ–º–∞—Ä–Ω—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏)
- [–ú–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏](#–º–æ–¥–µ–ª—å-–ø–∞–º—è—Ç–∏)
- [–ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ](#–∞—Ç–æ–º–∞—Ä–Ω–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-–∏-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
- [–û–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏](#–æ–ø–µ—Ä–∞—Ü–∏–∏-–ø–æ–ª—É—á–µ–Ω–∏—è-–∏-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –æ–±–º–µ–Ω (CAS)](#—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-–∏-–æ–±–º–µ–Ω-cas)
- [–ê—Ç–æ–º–∞—Ä–Ω—ã–π –æ–±–º–µ–Ω](#–∞—Ç–æ–º–∞—Ä–Ω—ã–π-–æ–±–º–µ–Ω)
- [–ë–∞—Ä—å–µ—Ä –ø–∞–º—è—Ç–∏](#–±–∞—Ä—å–µ—Ä-–ø–∞–º—è—Ç–∏)
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ñ—É–Ω–∫—Ü–∏–π](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-—Ñ—É–Ω–∫—Ü–∏–π)
- [–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
- [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

---

## –û–±–∑–æ—Ä

–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ - —ç—Ç–æ **–Ω–µ–¥–µ–ª–∏–º—ã–µ** –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è. –ö–æ–≥–¥–∞ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é, –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–±–ª—é–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –≤ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** (`memory_order_seq_cst`)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã: **i32** –∏ **i64**
- –û–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Å—ã—Ä—ã–º–∏ —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏, –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ `alloc()`
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–µ–∑ —è–≤–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- Load/Store - –ê—Ç–æ–º–∞—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏–π
- Add/Sub - –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- And/Or/Xor - –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- CAS - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –æ–±–º–µ–Ω –¥–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- Exchange - –ê—Ç–æ–º–∞—Ä–Ω—ã–π –æ–±–º–µ–Ω –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- Fence - –ü–æ–ª–Ω—ã–π –±–∞—Ä—å–µ—Ä –ø–∞–º—è—Ç–∏

---

## –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è:**
- –°—á—ë—Ç—á–∏–∫–æ–≤, —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥—Å—á—ë—Ç –∑–∞–ø—Ä–æ—Å–æ–≤, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
- –§–ª–∞–≥–æ–≤ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ö—Ä–∏—Ç–∏—á–Ω–æ–≥–æ –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –∫–æ–¥–∞

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–Ω–∞–ª—ã –≤–º–µ—Å—Ç–æ –Ω–∏—Ö –∫–æ–≥–¥–∞:**
- –ü–µ—Ä–µ–¥–∞—á–∞ —Å–ª–æ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å
- –í–∞–º –Ω—É–∂–Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è - –û–±—â–∏–π —Å—á—ë—Ç—á–∏–∫:**
```hemlock
// –í—ã–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–µ–≥–æ —Å—á—ë—Ç—á–∏–∫–∞
let counter = alloc(4);
ptr_write_i32(counter, 0);

async fn worker(counter: ptr, id: i32) {
    let i = 0;
    while (i < 1000) {
        atomic_add_i32(counter, 1);
        i = i + 1;
    }
}

// –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤
let t1 = spawn(worker, counter, 1);
let t2 = spawn(worker, counter, 2);
let t3 = spawn(worker, counter, 3);

join(t1);
join(t2);
join(t3);

// –°—á—ë—Ç—á–∏–∫ –±—É–¥–µ—Ç —Ä–æ–≤–Ω–æ 3000 (–±–µ–∑ –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö)
print(atomic_load_i32(counter));

free(counter);
```

---

## –ú–æ–¥–µ–ª—å –ø–∞–º—è—Ç–∏

–í—Å–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ Hemlock –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** (`memory_order_seq_cst`), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–∞–º—ã–µ —Å–∏–ª—å–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏:

1. **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ–¥–µ–ª–∏–º–∞
2. **–ü–æ–ª–Ω–æ–µ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ**: –í—Å–µ –ø–æ—Ç–æ–∫–∏ –≤–∏–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–ù–µ—Ç –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è**: –û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞—é—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º –∏–ª–∏ CPU

–≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è –æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –∫–æ–¥–µ, —Ü–µ–Ω–æ–π –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –±–æ–ª–µ–µ —Å–ª–∞–±—ã–º–∏ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏—è–º–∏ –ø–∞–º—è—Ç–∏.

---

## –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

### atomic_load_i32 / atomic_load_i64

–ê—Ç–æ–º–∞—Ä–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–∞–º—è—Ç–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_load_i32(ptr: ptr): i32
atomic_load_i64(ptr: ptr): i64
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —è—á–µ–π–∫—É –ø–∞–º—è—Ç–∏ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ó–Ω–∞—á–µ–Ω–∏–µ –≤ —è—á–µ–π–∫–µ –ø–∞–º—è—Ç–∏

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 42);

let value = atomic_load_i32(p);
print(value);  // 42

free(p);
```

---

### atomic_store_i32 / atomic_store_i64

–ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç—å.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_store_i32(ptr: ptr, value: i32): null
atomic_store_i64(ptr: ptr, value: i64): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —è—á–µ–π–∫—É –ø–∞–º—è—Ç–∏
- `value` - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(8);

atomic_store_i64(p, 5000000000);
print(atomic_load_i64(p));  // 5000000000

free(p);
```

---

## –û–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

–≠—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Ç–æ–º–∞—Ä–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç **—Å—Ç–∞—Ä–æ–µ** (–ø—Ä–µ–¥—ã–¥—É—â–µ–µ) –∑–Ω–∞—á–µ–Ω–∏–µ.

### atomic_add_i32 / atomic_add_i64

–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫ –∑–Ω–∞—á–µ–Ω–∏—é.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_add_i32(ptr: ptr, value: i32): i32
atomic_add_i64(ptr: ptr, value: i64): i64
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** **–°—Ç–∞—Ä–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 100);

let old = atomic_add_i32(p, 10);
print(old);                    // 100 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
print(atomic_load_i32(p));     // 110 (–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

free(p);
```

---

### atomic_sub_i32 / atomic_sub_i64

–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã—á–∏—Ç–∞–Ω–∏–µ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏—è.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_sub_i32(ptr: ptr, value: i32): i32
atomic_sub_i64(ptr: ptr, value: i64): i64
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** **–°—Ç–∞—Ä–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ –≤—ã—á–∏—Ç–∞–Ω–∏—è)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 100);

let old = atomic_sub_i32(p, 25);
print(old);                    // 100 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
print(atomic_load_i32(p));     // 75 (–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

free(p);
```

---

### atomic_and_i32 / atomic_and_i64

–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–±–∏—Ç–æ–≤–æ–≥–æ –ò.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_and_i32(ptr: ptr, value: i32): i32
atomic_and_i64(ptr: ptr, value: i64): i64
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** **–°—Ç–∞—Ä–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ –ò)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 0xFF);  // 255 –≤ –¥–≤–æ–∏—á–Ω–æ–º: 11111111

let old = atomic_and_i32(p, 0x0F);  // –ò —Å 00001111
print(old);                    // 255 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
print(atomic_load_i32(p));     // 15 (0xFF & 0x0F = 0x0F)

free(p);
```

---

### atomic_or_i32 / atomic_or_i64

–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–±–∏—Ç–æ–≤–æ–≥–æ –ò–õ–ò.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_or_i32(ptr: ptr, value: i32): i32
atomic_or_i64(ptr: ptr, value: i64): i64
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** **–°—Ç–∞—Ä–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ –ò–õ–ò)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 0x0F);  // 15 –≤ –¥–≤–æ–∏—á–Ω–æ–º: 00001111

let old = atomic_or_i32(p, 0xF0);  // –ò–õ–ò —Å 11110000
print(old);                    // 15 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
print(atomic_load_i32(p));     // 255 (0x0F | 0xF0 = 0xFF)

free(p);
```

---

### atomic_xor_i32 / atomic_xor_i64

–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–±–∏—Ç–æ–≤–æ–≥–æ –∏—Å–∫–ª—é—á–∞—é—â–µ–≥–æ –ò–õ–ò.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_xor_i32(ptr: ptr, value: i32): i32
atomic_xor_i64(ptr: ptr, value: i64): i64
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** **–°—Ç–∞—Ä–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ XOR)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 0xAA);  // 170 –≤ –¥–≤–æ–∏—á–Ω–æ–º: 10101010

let old = atomic_xor_i32(p, 0xFF);  // XOR —Å 11111111
print(old);                    // 170 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
print(atomic_load_i32(p));     // 85 (0xAA ^ 0xFF = 0x55)

free(p);
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –æ–±–º–µ–Ω (CAS)

–°–∞–º–∞—è –º–æ—â–Ω–∞—è –∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è. –ê—Ç–æ–º–∞—Ä–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å –æ–∂–∏–¥–∞–µ–º—ã–º –∏, –µ—Å–ª–∏ –æ–Ω–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, –∑–∞–º–µ–Ω—è–µ—Ç –µ–≥–æ –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

### atomic_cas_i32 / atomic_cas_i64

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_cas_i32(ptr: ptr, expected: i32, desired: i32): bool
atomic_cas_i64(ptr: ptr, expected: i64, desired: i64): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —è—á–µ–π–∫—É –ø–∞–º—è—Ç–∏
- `expected` - –ó–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –æ–∂–∏–¥–∞–µ–º –Ω–∞–π—Ç–∏
- `desired` - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –æ–∂–∏–¥–∞–Ω–∏–µ —Å–æ–≤–ø–∞–ª–æ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `true` - –û–±–º–µ–Ω —É—Å–ø–µ—à–µ–Ω (–∑–Ω–∞—á–µ–Ω–∏–µ –±—ã–ª–æ `expected`, —Ç–µ–ø–µ—Ä—å `desired`)
- `false` - –û–±–º–µ–Ω –Ω–µ —É–¥–∞–ª—Å—è (–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –±—ã–ª–æ `expected`, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 100);

// CAS —É—Å–ø–µ—à–µ–Ω: –∑–Ω–∞—á–µ–Ω–∏–µ 100, –º–µ–Ω—è–µ–º –Ω–∞ 999
let success1 = atomic_cas_i32(p, 100, 999);
print(success1);               // true
print(atomic_load_i32(p));     // 999

// CAS –Ω–µ—É—Å–ø–µ—à–µ–Ω: –∑–Ω–∞—á–µ–Ω–∏–µ 999, –Ω–µ 100
let success2 = atomic_cas_i32(p, 100, 888);
print(success2);               // false
print(atomic_load_i32(p));     // 999 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

free(p);
```

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ —Å–µ–º–∞—Ñ–æ—Ä–æ–≤
- –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ —É—Å–ª–æ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## –ê—Ç–æ–º–∞—Ä–Ω—ã–π –æ–±–º–µ–Ω

–ê—Ç–æ–º–∞—Ä–Ω—ã–π –æ–±–º–µ–Ω –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

### atomic_exchange_i32 / atomic_exchange_i64

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_exchange_i32(ptr: ptr, value: i32): i32
atomic_exchange_i64(ptr: ptr, value: i64): i64
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —è—á–µ–π–∫—É –ø–∞–º—è—Ç–∏
- `value` - –ù–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** **–°—Ç–∞—Ä–æ–µ** –∑–Ω–∞—á–µ–Ω–∏–µ (–¥–æ –æ–±–º–µ–Ω–∞)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 100);

let old = atomic_exchange_i32(p, 200);
print(old);                    // 100 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
print(atomic_load_i32(p));     // 200 (–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

free(p);
```

---

## –ë–∞—Ä—å–µ—Ä –ø–∞–º—è—Ç–∏

–ü–æ–ª–Ω—ã–π –±–∞—Ä—å–µ—Ä –ø–∞–º—è—Ç–∏, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—â–∏–π, —á—Ç–æ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é –¥–æ –±–∞—Ä—å–µ—Ä–∞ –≤–∏–¥–∏–º—ã –≤—Å–µ–º –ø–æ—Ç–æ–∫–∞–º –¥–æ –ª—é–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ—Å–ª–µ –±–∞—Ä—å–µ—Ä–∞.

### atomic_fence

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
atomic_fence(): null
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
// –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–ø–∏—Å–∏ –≤–∏–¥–∏–º—ã
atomic_fence();
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –≤–∞–º –Ω–µ –Ω—É–∂–Ω—ã —è–≤–Ω—ã–µ –±–∞—Ä—å–µ—Ä—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å. –ë–∞—Ä—å–µ—Ä—ã –ø–æ–ª–µ–∑–Ω—ã, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é.

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ñ—É–Ω–∫—Ü–∏–π

### –û–ø–µ—Ä–∞—Ü–∏–∏ i32

| –§—É–Ω–∫—Ü–∏—è | –°–∏–≥–Ω–∞—Ç—É—Ä–∞ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|------------|----------|
| `atomic_load_i32` | `(ptr)` | `i32` | –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_store_i32` | `(ptr, value)` | `null` | –ê—Ç–æ–º–∞—Ä–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_add_i32` | `(ptr, value)` | `i32` | –°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_sub_i32` | `(ptr, value)` | `i32` | –í—ã—á–∏—Ç–∞–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_and_i32` | `(ptr, value)` | `i32` | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_or_i32` | `(ptr, value)` | `i32` | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_xor_i32` | `(ptr, value)` | `i32` | –ü–æ–±–∏—Ç–æ–≤–æ–µ XOR –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_cas_i32` | `(ptr, expected, desired)` | `bool` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –æ–±–º–µ–Ω |
| `atomic_exchange_i32` | `(ptr, value)` | `i32` | –û–±–º–µ–Ω –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |

### –û–ø–µ—Ä–∞—Ü–∏–∏ i64

| –§—É–Ω–∫—Ü–∏—è | –°–∏–≥–Ω–∞—Ç—É—Ä–∞ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|------------|----------|
| `atomic_load_i64` | `(ptr)` | `i64` | –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_store_i64` | `(ptr, value)` | `null` | –ê—Ç–æ–º–∞—Ä–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_add_i64` | `(ptr, value)` | `i64` | –°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_sub_i64` | `(ptr, value)` | `i64` | –í—ã—á–∏—Ç–∞–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_and_i64` | `(ptr, value)` | `i64` | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_or_i64` | `(ptr, value)` | `i64` | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_xor_i64` | `(ptr, value)` | `i64` | –ü–æ–±–∏—Ç–æ–≤–æ–µ XOR –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |
| `atomic_cas_i64` | `(ptr, expected, desired)` | `bool` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ –æ–±–º–µ–Ω |
| `atomic_exchange_i64` | `(ptr, value)` | `i64` | –û–±–º–µ–Ω –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è |

### –ë–∞—Ä—å–µ—Ä –ø–∞–º—è—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –°–∏–≥–Ω–∞—Ç—É—Ä–∞ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|------------|----------|
| `atomic_fence` | `()` | `null` | –ü–æ–ª–Ω—ã–π –±–∞—Ä—å–µ—Ä –ø–∞–º—è—Ç–∏ |

---

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ê—Ç–æ–º–∞—Ä–Ω—ã–π —Å—á—ë—Ç—á–∏–∫

```hemlock
// –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
let counter = alloc(4);
ptr_write_i32(counter, 0);

fn increment(): i32 {
    return atomic_add_i32(counter, 1);
}

fn decrement(): i32 {
    return atomic_sub_i32(counter, 1);
}

fn get_count(): i32 {
    return atomic_load_i32(counter);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
increment();  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 (—Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
increment();  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1
increment();  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 2
print(get_count());  // 3

free(counter);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –°–ø–∏–Ω–ª–æ–∫

```hemlock
// –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏–Ω–ª–æ–∫–∞
let lock = alloc(4);
ptr_write_i32(lock, 0);  // 0 = —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, 1 = –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

fn acquire() {
    // –ö—Ä—É—Ç–∏–º—Å—è –ø–æ–∫–∞ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —Å 0 –Ω–∞ 1
    while (!atomic_cas_i32(lock, 0, 1)) {
        // –ê–∫—Ç–∏–≤–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
    }
}

fn release() {
    atomic_store_i32(lock, 0);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
acquire();
// ... –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è ...
release();

free(lock);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```hemlock
let initialized = alloc(4);
ptr_write_i32(initialized, 0);  // 0 = –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, 1 = –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω

fn ensure_initialized() {
    // –ü—ã—Ç–∞–µ–º—Å—è –±—ã—Ç—å —Ç–µ–º, –∫—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç
    if (atomic_cas_i32(initialized, 0, 1)) {
        // –ú—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –≥–æ–Ω–∫—É, –≤—ã–ø–æ–ª–Ω—è–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
        do_expensive_init();
    }
    // –ò–Ω–∞—á–µ —É–∂–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –ê—Ç–æ–º–∞—Ä–Ω—ã–π —Ñ–ª–∞–≥

```hemlock
let flag = alloc(4);
ptr_write_i32(flag, 0);

fn set_flag() {
    atomic_store_i32(flag, 1);
}

fn clear_flag() {
    atomic_store_i32(flag, 0);
}

fn test_and_set(): bool {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç true –µ—Å–ª–∏ —Ñ–ª–∞–≥ —É–∂–µ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    return atomic_exchange_i32(flag, 1) == 1;
}

fn check_flag(): bool {
    return atomic_load_i32(flag) == 1;
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å—á—ë—Ç—á–∏–∫

```hemlock
let counter = alloc(4);
ptr_write_i32(counter, 0);
let max_value = 100;

fn try_increment(): bool {
    while (true) {
        let current = atomic_load_i32(counter);
        if (current >= max_value) {
            return false;  // –î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º
        }
        if (atomic_cas_i32(counter, current, current + 1)) {
            return true;  // –£—Å–ø–µ—à–Ω–æ —É–≤–µ–ª–∏—á–µ–Ω–æ
        }
        // CAS –Ω–µ —É–¥–∞–ª—Å—è, –¥—Ä—É–≥–æ–π –ø–æ—Ç–æ–∫ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª - –ø–æ–≤—Ç–æ—Ä—è–µ–º
    }
}
```

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ

–£–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω—ã –¥–ª—è —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö:
- i32: –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ 4 –±–∞–π—Ç–∞–º
- i64: –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ 8 –±–∞–π—Ç–∞–º

–ü–∞–º—è—Ç—å –∏–∑ `alloc()` –æ–±—ã—á–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω–∞.

### 2. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è

–ö–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è –º–µ–∂–∑–∞–¥–∞—á–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏. –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–æ–ª–µ–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∏ —Ç—Ä–µ–±—É—é—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–¥—É–º—ã–≤–∞–Ω–∏—è.

```hemlock
// –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ:
let ch = channel(10);
spawn(fn() { ch.send(result); });
let value = ch.recv();

// –í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–π –∞—Ç–æ–º–∞—Ä–Ω–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –∫–æ–≥–¥–∞ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ
```

### 3. –ü–æ–º–Ω–∏—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–µ ABA

CAS –º–æ–∂–µ—Ç —Å—Ç—Ä–∞–¥–∞—Ç—å –æ—Ç –ø—Ä–æ–±–ª–µ–º—ã ABA: –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è —Å A –Ω–∞ B –∏ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ A. –í–∞—à CAS —É—Å–ø–µ—à–µ–Ω, –Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–≥–ª–æ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏.

### 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º

–í—Å–µ–≥–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –ø–æ—Ä–æ–∂–¥–µ–Ω–∏–µ–º –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –∫ –Ω–∏–º –æ–±—Ä–∞—â–∞—é—Ç—Å—è:

```hemlock
let counter = alloc(4);
ptr_write_i32(counter, 0);  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –î–û –ø–æ—Ä–æ–∂–¥–µ–Ω–∏—è

let task = spawn(worker, counter);
```

### 5. –û—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á

–ù–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ –∞—Ç–æ–º–∞—Ä–Ω—É—é –ø–∞–º—è—Ç—å –ø–æ–∫–∞ –∑–∞–¥–∞—á–∏ –µ—â—ë –º–æ–≥—É—Ç –∫ –Ω–µ–π –æ–±—Ä–∞—â–∞—Ç—å—Å—è:

```hemlock
let counter = alloc(4);
ptr_write_i32(counter, 0);

let t1 = spawn(worker, counter);
let t2 = spawn(worker, counter);

join(t1);
join(t2);

// –¢–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å
free(counter);
```

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ i32 –∏ i64** - –ù–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤
2. **–ù–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏** - –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∞—Ç–æ–º–∞—Ä–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å/—Å–æ—Ö—Ä–∞–Ω—è—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª–∏
3. **–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –ù–µ—Ç –±–æ–ª–µ–µ —Å–ª–∞–±—ã—Ö —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–π –ø–∞–º—è—Ç–∏
4. **–ù–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω–æ–π –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º

- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç C11 `<stdatomic.h>` –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ
- –î–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏—Ö POSIX-–ø–æ—Ç–æ–∫–∏
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö 64-–±–∏—Ç–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

---

## –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ

- [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å/–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å](#advanced-async-concurrency) - –ü–æ—Ä–æ–∂–¥–µ–Ω–∏–µ –∑–∞–¥–∞—á –∏ –∫–∞–Ω–∞–ª—ã
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#language-guide-memory) - –£–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤
- [API –ø–∞–º—è—Ç–∏](#reference-memory-api) - –§—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏


--------------------------------------------------------------------------------
## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
--------------------------------------------------------------------------------

# –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ Hemlock

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `exec()`** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –æ–±–æ–ª–æ—á–∫–∏ –∏ –∑–∞—Ö–≤–∞—Ç–∞ –∏—Ö –≤—ã–≤–æ–¥–∞.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–§—É–Ω–∫—Ü–∏—è exec()](#—Ñ—É–Ω–∫—Ü–∏—è-exec)
- [–û–±—ä–µ–∫—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞](#–æ–±—ä–µ–∫—Ç-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞)
- [–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–±–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-–ø—Ä–∏–º–µ—Ä—ã)
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
- [–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–¥–µ—Ç–∞–ª–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- [–í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#–≤–æ–ø—Ä–æ—Å—ã-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](#–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
- [–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Å–ª—É—á–∞–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)
- [–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø–æ–ª–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã)

## –û–±–∑–æ—Ä

–§—É–Ω–∫—Ü–∏—è `exec()` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞–º Hemlock:
- –í—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –æ–±–æ–ª–æ—á–∫–∏
- –ó–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ (stdout)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–¥—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±–æ–ª–æ—á–∫–∏ (–∫–∞–Ω–∞–ª—ã, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ç.–¥.)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏

**–í–∞–∂–Ω–æ:** –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `/bin/sh`, —á—Ç–æ –¥–∞—ë—Ç –ø–æ–ª–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±–æ–ª–æ—á–∫–∏, –Ω–æ —Ç–∞–∫–∂–µ –≤–Ω–æ—Å–∏—Ç –≤–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

## –§—É–Ω–∫—Ü–∏—è exec()

### –°–∏–≥–Ω–∞—Ç—É—Ä–∞

```hemlock
exec(command: string): object
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `command` (string) - –ö–æ–º–∞–Ω–¥–∞ –æ–±–æ–ª–æ—á–∫–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç —Å –¥–≤—É–º—è –ø–æ–ª—è–º–∏:
- `output` (string) - –í—ã–≤–æ–¥ stdout –∫–æ–º–∞–Ω–¥—ã
- `exit_code` (i32) - –ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```hemlock
let result = exec("echo hello");
print(result.output);      // "hello\n"
print(result.exit_code);   // 0
```

## –û–±—ä–µ–∫—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–û–±—ä–µ–∫—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π `exec()`, –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```hemlock
{
    output: string,      // stdout –∫–æ–º–∞–Ω–¥—ã (–∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥)
    exit_code: i32       // –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ (0 = —É—Å–ø–µ—Ö)
}
```

### –ü–æ–ª–µ output

–°–æ–¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å —Ç–µ–∫—Å—Ç, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–π –≤ stdout –∫–æ–º–∞–Ω–¥–æ–π.

**–°–≤–æ–π—Å—Ç–≤–∞:**
- –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –≤—ã–≤–æ–¥–∞
- –í–∫–ª—é—á–∞–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –∏ –ø—Ä–æ–±–µ–ª—ã –∫–∞–∫ –µ—Å—Ç—å
- –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –ù–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ —Ä–∞–∑–º–µ—Ä—É (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let r1 = exec("echo test");
print(r1.output);  // "test\n"

let r2 = exec("ls");
print(r2.output);  // –õ–∏—Å—Ç–∏–Ω–≥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ —Å—Ç—Ä–æ–∫

let r3 = exec("true");
print(r3.output);  // "" (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)
```

### –ü–æ–ª–µ exit_code

–ö–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã.

**–ó–Ω–∞—á–µ–Ω–∏—è:**
- `0` –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç —É—Å–ø–µ—Ö
- `1-255` –æ–∑–Ω–∞—á–∞—é—Ç –æ—à–∏–±–∫–∏ (—Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è –ø–æ –∫–æ–º–∞–Ω–¥–∞–º)
- `-1` –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ —Å–º–æ–≥–ª–∞ –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –∞–Ω–æ–º–∞–ª—å–Ω–æ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let r1 = exec("true");
print(r1.exit_code);  // 0 (—É—Å–ø–µ—Ö)

let r2 = exec("false");
print(r2.exit_code);  // 1 (–Ω–µ—É–¥–∞—á–∞)

let r3 = exec("ls /nonexistent");
print(r3.exit_code);  // 2 (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è –ø–æ –∫–æ–º–∞–Ω–¥–∞–º)
```

## –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞

```hemlock
let r = exec("ls -la");
print(r.output);
print("–ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: " + typeof(r.exit_code));
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

```hemlock
let r = exec("grep pattern file.txt");
if (r.exit_code == 0) {
    print("–ù–∞–π–¥–µ–Ω–æ: " + r.output);
} else {
    print("–ü–∞—Ç—Ç–µ—Ä–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω");
}
```

### –ö–æ–º–∞–Ω–¥—ã —Å –∫–∞–Ω–∞–ª–∞–º–∏

```hemlock
let r = exec("ps aux | grep hemlock");
print(r.output);
```

### –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥

```hemlock
let r = exec("cd /tmp && ls -la");
print(r.output);
```

### –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥

```hemlock
let r = exec("echo $(date)");
print(r.output);  // –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```hemlock
let r = exec("ls /nonexistent");
if (r.exit_code != 0) {
    print("–ö–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π, –∫–æ–¥: " + typeof(r.exit_code));
    print("–í—ã–≤–æ–¥ –æ—à–∏–±–∫–∏: " + r.output);  // –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: stderr –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞

```hemlock
let r = exec("cat file.txt");
let lines = r.output.split("\n");
let i = 0;
while (i < lines.length) {
    print("–°—Ç—Ä–æ–∫–∞ " + typeof(i) + ": " + lines[i]);
    i = i + 1;
}
```

### –¶–µ–ø–æ—á–∫–∏ –∫–æ–º–∞–Ω–¥

**–° && (–ò):**
```hemlock
let r1 = exec("mkdir -p /tmp/test && touch /tmp/test/file.txt");
if (r1.exit_code == 0) {
    print("–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞");
}
```

**–° || (–ò–õ–ò):**
```hemlock
let r = exec("command1 || command2");
// –ó–∞–ø—É—Å–∫–∞–µ—Ç command2 —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ command1 –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π
```

**–° ; (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å):**
```hemlock
let r = exec("command1; command2");
// –ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–±–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —É—Å–ø–µ—Ö–∞/–Ω–µ—É–¥–∞—á–∏
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤

```hemlock
let r = exec("echo 'data' | base64");
print("Base64: " + r.output);
```

**–°–ª–æ–∂–Ω—ã–µ –∫–æ–Ω–≤–µ–π–µ—Ä—ã:**
```hemlock
let r = exec("cat /etc/passwd | grep root | cut -d: -f1");
print(r.output);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–†–∞–∑–Ω—ã–µ –∫–æ–¥—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–∑–Ω–∞—á–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —É—Å–ª–æ–≤–∏—è:

```hemlock
let r = exec("test -f myfile.txt");
if (r.exit_code == 0) {
    print("–§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç");
} else if (r.exit_code == 1) {
    print("–§–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç");
} else {
    print("–ö–æ–º–∞–Ω–¥–∞ test –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π: " + typeof(r.exit_code));
}
```

### –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–≤–æ–¥–∞

```hemlock
// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ stdout –≤ —Ñ–∞–π–ª (–≤–Ω—É—Ç—Ä–∏ –æ–±–æ–ª–æ—á–∫–∏)
let r1 = exec("echo 'test' > /tmp/output.txt");

// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ stderr –≤ stdout (–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: stderr –≤—Å—ë –µ—â—ë –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è Hemlock)
let r2 = exec("command 2>&1");
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```hemlock
let r = exec("export VAR=value && echo $VAR");
print(r.output);  // "value\n"
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```hemlock
let r = exec("cd /tmp && pwd");
print(r.output);  // "/tmp\n"
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ö–æ–≥–¥–∞ exec() –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è

–§—É–Ω–∫—Ü–∏—è `exec()` –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞:

```hemlock
try {
    let r = exec("nonexistent_command_xyz");
} catch (e) {
    print("–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å: " + e);
}
```

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∫–æ–≥–¥–∞:**
- `popen()` –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —É–¥–∞—ë—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª)
- –ü—Ä–µ–≤—ã—à–µ–Ω—ã –ª–∏–º–∏—Ç—ã —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –û—à–∏–±–∫–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

### –ö–æ–≥–¥–∞ exec() –ù–ï –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç

```hemlock
// –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–Ω—É–ª–µ–≤–æ–π –∫–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
let r1 = exec("false");
print(r1.exit_code);  // 1 (–Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)

// –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –≤—ã–≤–æ–¥–∞
let r2 = exec("true");
print(r2.output);  // "" (–Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)

// –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –æ–±–æ–ª–æ—á–∫–æ–π
let r3 = exec("nonexistent_cmd");
print(r3.exit_code);  // 127 (–Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ)
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```hemlock
fn safe_exec(command: string) {
    try {
        let r = exec(command);
        if (r.exit_code != 0) {
            print("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –ö–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –∫–æ–¥–æ–º " + typeof(r.exit_code));
            return "";
        }
        return r.output;
    } catch (e) {
        print("–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã: " + e);
        return "";
    }
}

let output = safe_exec("ls -la");
```

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `popen()` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ `/bin/sh`
- –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ stdout (stderr –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è)
- –í—ã–≤–æ–¥ –±—É—Ñ–µ—Ä–∏–∑—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ (–Ω–∞—á–∏–Ω–∞—è —Å 4KB, —Ä–∞—Å—Ç—ë—Ç –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–∞–∫—Ä–æ—Å–æ–≤ `WIFEXITED()` –∏ `WEXITSTATUS()`
- –°—Ç—Ä–æ–∫–∞ –≤—ã–≤–æ–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –Ω—É–ª—ë–º

**–ü–æ—Ç–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞:**
1. `popen(command, "r")` —Å–æ–∑–¥–∞—ë—Ç –∫–∞–Ω–∞–ª –∏ —Ñ–æ—Ä–∫–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å
2. –î–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç `/bin/sh -c "command"`
3. –†–æ–¥–∏—Ç–µ–ª—å —á–∏—Ç–∞–µ—Ç stdout —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª –≤ —Ä–∞—Å—Ç—É—â–∏–π –±—É—Ñ–µ—Ä
4. `pclose()` –æ–∂–∏–¥–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
5. –°—Ç–∞—Ç—É—Å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ó–∞—Ç—Ä–∞—Ç—ã:**
- –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–æ–ª–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞ (~1-5–º—Å –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤)
- –í—ã–≤–æ–¥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –ø–∞–º—è—Ç–∏ (–Ω–µ –ø–æ—Ç–æ–∫–æ–≤—ã–π)
- –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ (–æ–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫–æ–º–∞–Ω–¥ —Å —Ä–∞–∑—É–º–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –≤—ã–≤–æ–¥–∞

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –ë—É—Ñ–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 4KB –∏ —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏)
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —á—Ç–µ–Ω–∏—è –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (< 1 —Å–µ–∫—É–Ω–¥—ã)
- –£–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤—ã–≤–æ–¥–∞ (< 10MB)
- –ü–∞–∫–µ—Ç–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑—É–º–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏

**–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –î–æ–ª–≥–æ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –¥–µ–º–æ–Ω—ã –∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã
- –ö–æ–º–∞–Ω–¥—ã, –ø—Ä–æ–∏–∑–≤–æ–¥—è—â–∏–µ –≥–∏–≥–∞–±–∞–π—Ç—ã –≤—ã–≤–æ–¥–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–µ–π
- –í—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (> 100 –≤—ã–∑–æ–≤–æ–≤/—Å–µ–∫—É–Ω–¥—É)

## –í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –†–∏—Å–∫ –∏–Ω—ä–µ–∫—Ü–∏–∏ –æ–±–æ–ª–æ—á–∫–∏

**–ö–†–ò–¢–ò–ß–ù–û:** –ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–±–æ–ª–æ—á–∫–æ–π (`/bin/sh`), —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç **–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—ä–µ–∫—Ü–∏–∏ –æ–±–æ–ª–æ—á–∫–∏**.

**–£—è–∑–≤–∏–º—ã–π –∫–æ–¥:**
```hemlock
// –û–ü–ê–°–ù–û - –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö
let filename = args[1];  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
let r = exec("cat " + filename);  // –ò–Ω—ä–µ–∫—Ü–∏—è –æ–±–æ–ª–æ—á–∫–∏!
```

**–ê—Ç–∞–∫–∞:**
```bash
./hemlock script.hml "; rm -rf /; echo pwned"
# –í—ã–ø–æ–ª–Ω—è–µ—Ç: cat ; rm -rf /; echo pwned
```

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

**1. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥:**
```hemlock
// –ü–ª–æ—Ö–æ
let user_input = args[1];
let r = exec("process " + user_input);  // –û–ü–ê–°–ù–û

// –•–æ—Ä–æ—à–æ - —Å–Ω–∞—á–∞–ª–∞ –≤–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ
fn is_safe_filename(name: string): bool {
    // –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ –±—É–∫–≤–µ–Ω–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã, –¥–µ—Ñ–∏—Å, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ, —Ç–æ—á–∫—É
    let i = 0;
    while (i < name.length) {
        let c = name[i];
        if (!(c >= 'a' && c <= 'z') &&
            !(c >= 'A' && c <= 'Z') &&
            !(c >= '0' && c <= '9') &&
            c != '-' && c != '_' && c != '.') {
            return false;
        }
        i = i + 1;
    }
    return true;
}

let filename = args[1];
if (is_safe_filename(filename)) {
    let r = exec("cat " + filename);
} else {
    print("–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∏–º—è —Ñ–∞–π–ª–∞");
}
```

**2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ–ª—ã–µ —Å–ø–∏—Å–∫–∏, –Ω–µ —á—ë—Ä–Ω—ã–µ:**
```hemlock
// –•–æ—Ä–æ—à–æ - —Å—Ç—Ä–æ–≥–∏–π –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫
let allowed_commands = ["status", "start", "stop", "restart"];
let cmd = args[1];

let found = false;
for (let allowed in allowed_commands) {
    if (cmd == allowed) {
        found = true;
        break;
    }
}

if (found) {
    exec("service myapp " + cmd);
} else {
    print("–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –∫–æ–º–∞–Ω–¥–∞");
}
```

**3. –≠–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã:**
```hemlock
fn shell_escape(s: string): string {
    // –ü—Ä–æ—Å—Ç–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - –æ–±—ë—Ä—Ç—ã–≤–∞–µ–º –≤ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ–º –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
    let escaped = s.replace_all("'", "'\\''");
    return "'" + escaped + "'";
}

let user_file = args[1];
let safe = shell_escape(user_file);
let r = exec("cat " + safe);
```

**4. –ò–∑–±–µ–≥–∞–π—Ç–µ exec() –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:**
```hemlock
// –ü–ª–æ—Ö–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å exec –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
let r = exec("cat file.txt");

// –•–æ—Ä–æ—à–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API —Ñ–∞–π–ª–æ–≤ Hemlock
let f = open("file.txt", "r");
let content = f.read();
f.close();
```

### –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ –ø—Ä–∞–≤–∞—Ö

–ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å —Ç–µ–º–∏ –∂–µ –ø—Ä–∞–≤–∞–º–∏, —á—Ç–æ –∏ –ø—Ä–æ—Ü–µ—Å—Å Hemlock:

```hemlock
// –ï—Å–ª–∏ Hemlock –∑–∞–ø—É—â–µ–Ω –æ—Ç root, –∫–æ–º–∞–Ω–¥—ã exec() —Ç–æ–∂–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ—Ç root!
let r = exec("rm -rf /important");  // –û–ü–ê–°–ù–û –µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ –æ—Ç root
```

**–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:** –ó–∞–ø—É—Å–∫–∞–π—Ç–µ Hemlock —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏.

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. –ù–µ—Ç –∑–∞—Ö–≤–∞—Ç–∞ stderr

–ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ stdout, stderr –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª:

```hemlock
let r = exec("ls /nonexistent");
// r.output –ø—É—Å—Ç
// –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è
```

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å stderr –≤ stdout:**
```hemlock
let r = exec("ls /nonexistent 2>&1");
// –¢–µ–ø–µ—Ä—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ r.output
```

### 2. –ù–µ—Ç –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã:

```hemlock
let r = exec("long_running_command");
// –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—ã–≤–æ–¥ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ
```

### 3. –ù–µ—Ç —Ç–∞–π–º–∞—É—Ç–∞

–ö–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ:

```hemlock
let r = exec("sleep 1000");
// –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 1000 —Å–µ–∫—É–Ω–¥
// –ù–µ—Ç —Å–ø–æ—Å–æ–±–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å
```

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É timeout:**
```hemlock
let r = exec("timeout 5 long_command");
// –¢–∞–π–º–∞—É—Ç —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
```

### 4. –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–∏–≥–Ω–∞–ª—ã –≤—ã–ø–æ–ª–Ω—è—é—â–∏–º—Å—è –∫–æ–º–∞–Ω–¥–∞–º:

```hemlock
let r = exec("long_command");
// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å SIGINT, SIGTERM –∏ —Ç.–¥. –∫–æ–º–∞–Ω–¥–µ
```

### 5. –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞

–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∫–æ–º–∞–Ω–¥–æ–π –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

```hemlock
let r = exec("interactive_program");
// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º–µ
// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```

## –°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –•–æ—Ä–æ—à–∏–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç:**
```hemlock
let r = exec("ls -la");
let r = exec("grep pattern file.txt");
let r = exec("find /path -name '*.txt'");
```

**2. –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å Unix-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:**
```hemlock
let r = exec("cat data.txt | sort | uniq | wc -l");
print("–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫: " + r.output);
```

**3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:**
```hemlock
let r = exec("df -h");
print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:\n" + r.output);
```

**4. –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤:**
```hemlock
let r = exec("test -f myfile.txt");
if (r.exit_code == 0) {
    print("–§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç");
}
```

**5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤:**
```hemlock
let r = exec("ps aux | grep myapp | wc -l");
let count = r.output.trim();
print("–ó–∞–ø—É—â–µ–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤: " + count);
```

**6. –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
```hemlock
exec("git add .");
exec("git commit -m '–ê–≤—Ç–æ-–∫–æ–º–º–∏—Ç'");
let r = exec("git push");
if (r.exit_code != 0) {
    print("Push –Ω–µ —É–¥–∞–ª—Å—è");
}
```

### –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è

**1. –î–æ–ª–≥–æ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
```hemlock
// –ü–ª–æ—Ö–æ
let r = exec("nginx");  // –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞
```

**2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:**
```hemlock
// –ü–ª–æ—Ö–æ - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤–≤–æ–¥
let r = exec("ssh user@host");
```

**3. –ö–æ–º–∞–Ω–¥, –ø—Ä–æ–∏–∑–≤–æ–¥—è—â–∏—Ö –æ–≥—Ä–æ–º–Ω—ã–π –≤—ã–≤–æ–¥:**
```hemlock
// –ü–ª–æ—Ö–æ - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å –≤—ã–≤–æ–¥ –≤ –ø–∞–º—è—Ç—å
let r = exec("cat 10GB_file.log");
```

**4. –ü–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
```hemlock
// –ü–ª–æ—Ö–æ - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—ã–≤–æ–¥ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ
let r = exec("tail -f /var/log/app.log");
```

**5. –ö—Ä–∏—Ç–∏—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:**
```hemlock
// –ü–ª–æ—Ö–æ - stderr –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è
let r = exec("critical_operation");
// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–¥—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

```hemlock
let r = exec("important_command");
if (r.exit_code != 0) {
    print("–ö–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π!");
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
}
```

### 2. –û–±—Ä–µ–∑–∞–π—Ç–µ –≤—ã–≤–æ–¥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

```hemlock
let r = exec("echo test");
let clean = r.output.trim();  // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∞—é—â–µ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏
print(clean);  // "test" (–±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏)
```

### 3. –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

```hemlock
fn is_valid_command(cmd: string): bool {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã
    return true;  // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
}

if (is_valid_command(user_cmd)) {
    exec(user_cmd);
}
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try/catch –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

```hemlock
try {
    let r = exec("critical_command");
    if (r.exit_code != 0) {
        throw "–ö–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π";
    }
} catch (e) {
    print("–û—à–∏–±–∫–∞: " + e);
    // –û—á–∏—Å—Ç–∫–∞ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
}
```

### 5. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ API Hemlock –≤–º–µ—Å—Ç–æ exec()

```hemlock
// –ü–ª–æ—Ö–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å exec –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
let r = exec("cat file.txt");

// –•–æ—Ä–æ—à–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å File API Hemlock
let f = open("file.txt", "r");
let content = f.read();
f.close();
```

### 6. –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–π—Ç–µ stderr –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

```hemlock
// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ stderr –≤ stdout
let r = exec("command 2>&1");
// –¢–µ–ø–µ—Ä—å r.output —Å–æ–¥–µ—Ä–∂–∏—Ç –∏ stdout, –∏ stderr
```

### 7. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±–æ–ª–æ—á–∫–∏ —Ä–∞–∑—É–º–Ω–æ

```hemlock
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–Ω–∞–ª—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
let r = exec("cat large.txt | grep pattern | head -n 10");

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫—É –∫–æ–º–∞–Ω–¥
let r = exec("echo –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: $(whoami)");

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Å–ª–æ–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
let r = exec("test -f file.txt && cat file.txt");
```

## –ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –°–±–æ—Ä—â–∏–∫ —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```hemlock
fn get_system_info() {
    print("=== –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ===");

    // –ò–º—è —Ö–æ—Å—Ç–∞
    let r1 = exec("hostname");
    print("–ò–º—è —Ö–æ—Å—Ç–∞: " + r1.output.trim());

    // –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
    let r2 = exec("uptime");
    print("–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: " + r2.output.trim());

    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
    let r3 = exec("df -h /");
    print("\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞:");
    print(r3.output);

    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
    let r4 = exec("free -h");
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:");
    print(r4.output);
}

get_system_info();
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ª–æ–≥–æ–≤

```hemlock
fn analyze_log(logfile: string) {
    print("–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∞: " + logfile);

    // –ü–æ–¥—Å—á—ë—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫
    let r1 = exec("wc -l " + logfile);
    print("–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: " + r1.output.trim());

    // –ü–æ–¥—Å—á—ë—Ç –æ—à–∏–±–æ–∫
    let r2 = exec("grep -c ERROR " + logfile + " 2>/dev/null");
    let errors = r2.output.trim();
    if (r2.exit_code == 0) {
        print("–û—à–∏–±–æ–∫: " + errors);
    } else {
        print("–û—à–∏–±–æ–∫: 0");
    }

    // –ü–æ–¥—Å—á—ë—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
    let r3 = exec("grep -c WARN " + logfile + " 2>/dev/null");
    let warnings = r3.output.trim();
    if (r3.exit_code == 0) {
        print("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π: " + warnings);
    } else {
        print("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π: 0");
    }

    // –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏
    print("\n–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—à–∏–±–∫–∏:");
    let r4 = exec("grep ERROR " + logfile + " | tail -n 5");
    print(r4.output);
}

if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <logfile>");
} else {
    analyze_log(args[1]);
}
```

### –ü—Ä–∏–º–µ—Ä 3: Git-–ø–æ–º–æ—â–Ω–∏–∫

```hemlock
fn git_status() {
    let r = exec("git status --short");
    if (r.exit_code != 0) {
        print("–û—à–∏–±–∫–∞: –ù–µ git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π");
        return;
    }

    if (r.output == "") {
        print("–†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —á–∏—Å—Ç–∞—è");
    } else {
        print("–ò–∑–º–µ–Ω–µ–Ω–∏—è:");
        print(r.output);
    }
}

fn git_quick_commit(message: string) {
    print("–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π...");
    let r1 = exec("git add -A");
    if (r1.exit_code != 0) {
        print("–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤");
        return;
    }

    print("–ö–æ–º–º–∏—Ç...");
    let safe_msg = message.replace_all("'", "'\\''");
    let r2 = exec("git commit -m '" + safe_msg + "'");
    if (r2.exit_code != 0) {
        print("–û—à–∏–±–∫–∞ –∫–æ–º–º–∏—Ç–∞");
        return;
    }

    print("–ö–æ–º–º–∏—Ç —É—Å–ø–µ—à–µ–Ω");
    print(r2.output);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
git_status();
if (args.length > 1) {
    git_quick_commit(args[1]);
}
```

### –ü—Ä–∏–º–µ—Ä 4: –°–∫—Ä–∏–ø—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

```hemlock
fn backup_directory(source: string, dest: string) {
    print("–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ " + source + " –≤ " + dest);

    // –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –±—ç–∫–∞–ø–∞
    let r1 = exec("mkdir -p " + dest);
    if (r1.exit_code != 0) {
        print("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –±—ç–∫–∞–ø–∞");
        return false;
    }

    // –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ —Å –º–µ—Ç–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏
    let r2 = exec("date +%Y%m%d_%H%M%S");
    let timestamp = r2.output.trim();
    let backup_file = dest + "/backup_" + timestamp + ".tar.gz";

    print("–°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞: " + backup_file);
    let r3 = exec("tar -czf " + backup_file + " " + source + " 2>&1");
    if (r3.exit_code != 0) {
        print("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞:");
        print(r3.output);
        return false;
    }

    print("–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ");

    // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–º–µ—Ä –±—ç–∫–∞–ø–∞
    let r4 = exec("du -h " + backup_file);
    print("–†–∞–∑–º–µ—Ä –±—ç–∫–∞–ø–∞: " + r4.output.trim());

    return true;
}

if (args.length < 3) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <–∏—Å—Ç–æ—á–Ω–∏–∫> <–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ>");
} else {
    backup_directory(args[1], args[2]);
}
```

## –ò—Ç–æ–≥

–§—É–Ω–∫—Ü–∏—è `exec()` –≤ Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- –ü—Ä–æ—Å—Ç–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –æ–±–æ–ª–æ—á–∫–∏
- –ó–∞—Ö–≤–∞—Ç –≤—ã–≤–æ–¥–∞ (stdout)
- –ü—Ä–æ–≤–µ—Ä–∫—É –∫–æ–¥–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º –æ–±–æ–ª–æ—á–∫–∏ (–∫–∞–Ω–∞–ª—ã, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ç.–¥.)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏

–ü–æ–º–Ω–∏—Ç–µ:
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–æ–¥—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–∏–Ω—ä–µ–∫—Ü–∏—è –æ–±–æ–ª–æ—á–∫–∏)
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –∫–æ–º–∞–Ω–¥–∞—Ö
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ API Hemlock –≤–º–µ—Å—Ç–æ exec() –∫–æ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
- stderr –Ω–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `2>&1` –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- –ö–æ–º–∞–Ω–¥—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç, –Ω–µ –¥–ª—è –¥–æ–ª–≥–æ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –≤–≤–æ–¥
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–µ–ª—ã–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥
- –≠–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ API Hemlock –≤–º–µ—Å—Ç–æ –∫–æ–º–∞–Ω–¥ –æ–±–æ–ª–æ—á–∫–∏


--------------------------------------------------------------------------------
## –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
--------------------------------------------------------------------------------

# –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

Hemlock –≤–∫–ª—é—á–∞–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä –¥–ª—è **–∞–Ω–∞–ª–∏–∑–∞ –≤—Ä–µ–º–µ–Ω–∏ CPU**, **–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏** –∏ **–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫**. –ü—Ä–æ—Ñ–∞–π–ª–µ—Ä –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–ª—è—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é –≤ –≤–∞—à–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–†–µ–∂–∏–º—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è](#—Ä–µ–∂–∏–º—ã-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
- [–§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞](#—Ñ–æ—Ä–º–∞—Ç—ã-–≤—ã–≤–æ–¥–∞)
- [–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫](#–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ-—É—Ç–µ—á–µ–∫)
- [–ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤](#–ø–æ–Ω–∏–º–∞–Ω–∏–µ-–æ—Ç—á—ë—Ç–æ–≤)
- [–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Flamegraph](#–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-flamegraph)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

---

## –û–±–∑–æ—Ä

–ü—Ä–æ—Ñ–∞–π–ª–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –ø–æ–¥–∫–æ–º–∞–Ω–¥—É `profile`:

```bash
hemlock profile [OPTIONS] <FILE>
```

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CPU** - –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–æ–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –≤ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –∏ –æ–±—â–µ–µ –≤—Ä–µ–º—è)
- **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—ã–¥–µ–ª–µ–Ω–∏–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ
- **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫** - –í—ã—è–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞
- **–ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—ã–≤–æ–¥–∞** - –¢–µ–∫—Å—Ç, JSON –∏ —Ñ–æ—Ä–º–∞—Ç, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å flamegraph
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º** - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–µ–ª—è—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ø–∞–º—è—Ç–∏

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ CPU (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

```bash
hemlock profile script.hml
```

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏–π –ø–∞–º—è—Ç–∏

```bash
hemlock profile --memory script.hml
```

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

```bash
hemlock profile --leaks script.hml
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è flamegraph

```bash
hemlock profile --flamegraph script.hml > profile.folded
flamegraph.pl profile.folded > profile.svg
```

---

## –†–µ–∂–∏–º—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CPU (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–ò–∑–º–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è, –ø—Ä–æ–≤–µ–¥—ë–Ω–Ω–æ–µ –≤ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–∑–ª–∏—á–∞—è:
- **–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è** - –í—Ä–µ–º—è, –∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ —Ñ—É–Ω–∫—Ü–∏–∏
- **–û–±—â–µ–µ –≤—Ä–µ–º—è** - –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –ø–ª—é—Å –≤—Ä–µ–º—è –≤ –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö

```bash
hemlock profile script.hml
hemlock profile --cpu script.hml  # –Ø–≤–Ω–æ
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
=== –û—Ç—á—ë—Ç –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞ Hemlock ===

–û–±—â–µ–µ –≤—Ä–µ–º—è: 1.234–º—Å
–í—ã–∑–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π: 5 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö

--- –¢–æ–ø 5 –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ ---

–§—É–Ω–∫—Ü–∏—è                         –°–æ–±—Å—Ç–≤.   –û–±—â–µ–µ    –í—ã–∑–æ–≤—ã
--------                        ------    -----    ------
expensive_calc              0.892–º—Å    0.892–º—Å     100  (72.3%)
process_data                0.234–º—Å    1.126–º—Å      10  (19.0%)
helper                      0.067–º—Å    0.067–º—Å     500  (5.4%)
main                        0.041–º—Å    1.234–º—Å       1  (3.3%)
```

---

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Å–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ (`alloc`, `buffer`, `talloc`, `realloc`) —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ.

```bash
hemlock profile --memory script.hml
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
=== –û—Ç—á—ë—Ç –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞ Hemlock ===

–û–±—â–µ–µ –≤—Ä–µ–º—è: 0.543–º—Å
–í—ã–∑–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π: 3 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö
–í—Å–µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏–π: 15 (4.2KB)

--- –¢–æ–ø 3 –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ ---

–§—É–Ω–∫—Ü–∏—è                         –°–æ–±—Å—Ç–≤.   –û–±—â–µ–µ    –í—ã–∑–æ–≤—ã     –í—ã–¥–µ–ª.     –ö–æ–ª-–≤–æ
--------                        ------    -----    ------     ------     ------
allocator                   0.312–º—Å    0.312–º—Å      10      3.2KB         10  (57.5%)
buffer_ops                  0.156–º—Å    0.156–º—Å       5       1KB          5  (28.7%)
main                        0.075–º—Å    0.543–º—Å       1        0B          0  (13.8%)

--- –¢–æ–ø 10 –º–µ—Å—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è ---

–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ                                –í—Å–µ–≥–æ    –ö–æ–ª-–≤–æ
----------                                    -----    ------
src/data.hml:42                               1.5KB        5
src/data.hml:67                               1.0KB       10
src/main.hml:15                               512B         1
```

---

### –†–µ–∂–∏–º –ø–æ–¥—Å—á—ë—Ç–∞ –≤—ã–∑–æ–≤–æ–≤

–†–µ–∂–∏–º —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π —Ç–æ–ª—å–∫–æ –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π (–±–µ–∑ –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏).

```bash
hemlock profile --calls script.hml
```

---

## –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞

### –¢–µ–∫—Å—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–∞—è —Å–≤–æ–¥–∫–∞ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏.

```bash
hemlock profile script.hml
```

---

### JSON

–ú–∞—à–∏–Ω–æ—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

```bash
hemlock profile --json script.hml
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```json
{
  "total_time_ns": 1234567,
  "function_count": 5,
  "total_alloc_bytes": 4096,
  "total_alloc_count": 15,
  "functions": [
    {
      "name": "expensive_calc",
      "source_file": "script.hml",
      "line": 10,
      "self_time_ns": 892000,
      "total_time_ns": 892000,
      "call_count": 100,
      "alloc_bytes": 0,
      "alloc_count": 0
    }
  ],
  "alloc_sites": [
    {
      "source_file": "script.hml",
      "line": 42,
      "total_bytes": 1536,
      "alloc_count": 5,
      "current_bytes": 0
    }
  ]
}
```

---

### Flamegraph

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç —Å–≤—ë—Ä–Ω—É—Ç–æ–≥–æ —Å—Ç–µ–∫–∞, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å [flamegraph.pl](https://github.com/brendangregg/FlameGraph).

```bash
hemlock profile --flamegraph script.hml > profile.folded

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SVG —Å –ø–æ–º–æ—â—å—é flamegraph.pl
flamegraph.pl profile.folded > profile.svg
```

**–ü—Ä–∏–º–µ—Ä —Å–≤—ë—Ä–Ω—É—Ç–æ–≥–æ –≤—ã–≤–æ–¥–∞:**
```
main;process_data;expensive_calc 892
main;process_data;helper 67
main;process_data 234
main 41
```

---

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫

–§–ª–∞–≥ `--leaks` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –≤—ã—è–≤–ª–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.

```bash
hemlock profile --leaks script.hml
```

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã —Å —É—Ç–µ—á–∫–∞–º–∏:**
```hemlock
fn leaky() {
    let p1 = alloc(100);    // –£—Ç–µ—á–∫–∞ - –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è
    let p2 = alloc(200);    // OK - –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –Ω–∏–∂–µ
    free(p2);
}

fn clean() {
    let b = buffer(64);
    free(b);                // –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ
}

leaky();
clean();
```

**–í—ã–≤–æ–¥ —Å --leaks:**
```
=== –û—Ç—á—ë—Ç –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞ Hemlock ===

–û–±—â–µ–µ –≤—Ä–µ–º—è: 0.034–º—Å
–í—ã–∑–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π: 2 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö
–í—Å–µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏–π: 3 (388B)

--- –¢–æ–ø 2 –ø–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ ---

–§—É–Ω–∫—Ü–∏—è                         –°–æ–±—Å—Ç–≤.   –û–±—â–µ–µ    –í—ã–∑–æ–≤—ã     –í—ã–¥–µ–ª.     –ö–æ–ª-–≤–æ
--------                        ------    -----    ------     ------     ------
leaky                       0.021–º—Å    0.021–º—Å       1       300B          2  (61.8%)
clean                       0.013–º—Å    0.013–º—Å       1        88B          1  (38.2%)

--- –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ (1 –º–µ—Å—Ç–æ) ---

–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ                                  –£—Ç–µ—á–∫–∞      –í—Å–µ–≥–æ    –ö–æ–ª-–≤–æ
----------                                      ------      -----    ------
script.hml:2                                   100B       100B        1
```

–û—Ç—á—ë—Ç –æ–± —É—Ç–µ—á–∫–∞—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- **–£—Ç–µ—á–∫–∞** - –ë–∞–π—Ç—ã, –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω–Ω—ã–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
- **–í—Å–µ–≥–æ** - –í—Å–µ–≥–æ –±–∞–π—Ç, –∫–æ–≥–¥–∞-–ª–∏–±–æ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ
- **–ö–æ–ª-–≤–æ** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–µ–ª–µ–Ω–∏–π –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ

---

## –ü–æ–Ω–∏–º–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| –§—É–Ω–∫—Ü–∏—è | –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏ |
| –°–æ–±—Å—Ç–≤. | –í—Ä–µ–º—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ —É—á—ë—Ç–∞ –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö |
| –û–±—â–µ–µ | –í—Ä–µ–º—è –≤–∫–ª—é—á–∞—è –≤—Å–µ –≤—ã–∑—ã–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| –í—ã–∑–æ–≤—ã | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ |
| –í—ã–¥–µ–ª. | –í—Å–µ–≥–æ –±–∞–π—Ç, –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π |
| –ö–æ–ª-–≤–æ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–µ–ª–µ–Ω–∏–π —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π |
| (%) | –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã |

### –ú–µ—Å—Ç–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ | –§–∞–π–ª –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –∏ –Ω–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏ |
| –í—Å–µ–≥–æ | –í—Å–µ–≥–æ –±–∞–π—Ç, –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ —ç—Ç–æ–º –º–µ—Å—Ç–µ |
| –ö–æ–ª-–≤–æ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–µ–ª–µ–Ω–∏–π |
| –£—Ç–µ—á–∫–∞ | –ë–∞–π—Ç—ã, –≤—Å—ë –µ—â—ë –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã (—Ç–æ–ª—å–∫–æ --leaks) |

### –ï–¥–∏–Ω–∏—Ü—ã –≤—Ä–µ–º–µ–Ω–∏

–ü—Ä–æ—Ñ–∞–π–ª–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –µ–¥–∏–Ω–∏—Ü—ã:
- `–Ω—Å` - –ù–∞–Ω–æ—Å–µ–∫—É–Ω–¥—ã (< 1–º–∫—Å)
- `–º–∫—Å` - –ú–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥—ã (< 1–º—Å)
- `–º—Å` - –ú–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã (< 1—Å)
- `—Å` - –°–µ–∫—É–Ω–¥—ã

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥

```
hemlock profile [OPTIONS] <FILE>

OPTIONS:
    --cpu           –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CPU/–≤—Ä–µ–º–µ–Ω–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    --memory        –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
    --calls         –¢–æ–ª—å–∫–æ –ø–æ–¥—Å—á—ë—Ç –≤—ã–∑–æ–≤–æ–≤ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã)
    --leaks         –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ—Å–≤–æ–±–æ–∂–¥—ë–Ω–Ω—ã–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è (–ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç --memory)
    --json          –í—ã–≤–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
    --flamegraph    –í—ã–≤–æ–¥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º —Å flamegraph
    --top N         –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ø N –∑–∞–ø–∏—Å–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 20)
```

---

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Flamegraph

Flamegraph –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç, –≥–¥–µ –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è, –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–µ –ø–æ–ª–æ—Å—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –±–æ–ª—å—à–µ–µ –≤—Ä–µ–º—è.

### –°–æ–∑–¥–∞–Ω–∏–µ Flamegraph

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ flamegraph.pl:
   ```bash
   git clone https://github.com/brendangregg/FlameGraph
   ```

2. –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –≤–∞—à—É –ø—Ä–æ–≥—Ä–∞–º–º—É:
   ```bash
   hemlock profile --flamegraph script.hml > profile.folded
   ```

3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ SVG:
   ```bash
   ./FlameGraph/flamegraph.pl profile.folded > profile.svg
   ```

4. –û—Ç–∫—Ä–æ–π—Ç–µ `profile.svg` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.

### –ß—Ç–µ–Ω–∏–µ Flamegraph

- **–û—Å—å X**: –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (—à–∏—Ä–∏–Ω–∞ = –ø—Ä–æ–ø–æ—Ä—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏)
- **–û—Å—å Y**: –ì–ª—É–±–∏–Ω–∞ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤ (–Ω–∏–∑ = —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –≤–µ—Ä—Ö = –ª–∏—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- **–¶–≤–µ—Ç**: –°–ª—É—á–∞–π–Ω—ã–π, —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è
- **–ö–ª–∏–∫**: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏

–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –º–æ–≥—É—Ç –Ω–µ –≤—ã—è–≤–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞.

```bash
# –•–æ—Ä–æ—à–æ: –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–∞–Ω–Ω—ã–º–∏, –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω
hemlock profile --memory process_large_file.hml large_input.txt

# –ú–µ–Ω–µ–µ –ø–æ–ª–µ–∑–Ω–æ: –ö—Ä–æ—à–µ—á–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å–ª—É—á–∞–π
hemlock profile quick_test.hml
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --leaks –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–†–µ–≥—É–ª—è—Ä–Ω–æ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫, —á—Ç–æ–±—ã –≤—ã—è–≤–ª—è—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏:

```bash
hemlock profile --leaks my_program.hml
```

### 3. –°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ –¥–æ –∏ –ø–æ—Å–ª–µ

–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –¥–æ –∏ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞:

```bash
# –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
hemlock profile --json script.hml > before.json

# –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
hemlock profile --json script.hml > after.json

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

### 4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ --top –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º

–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –≤—ã–≤–æ–¥, —á—Ç–æ–±—ã —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–º—ã—Ö –∑–Ω–∞—á–∏–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö:

```bash
hemlock profile --top 10 large_program.hml
```

### 5. –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å Flamegraph

–î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤—ã–∑–æ–≤–æ–≤ flamegraph –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—É—á—à—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é, —á–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π –≤—ã–≤–æ–¥:

```bash
hemlock profile --flamegraph complex_app.hml > app.folded
flamegraph.pl app.folded > app.svg
```

---

## –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞

–ü—Ä–æ—Ñ–∞–π–ª–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –ø—Ä–æ–≥—Ä–∞–º–º—ã:

| –†–µ–∂–∏–º | –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã | –°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|-------|-------------------|----------------------|
| `--calls` | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ | –¢–æ–ª—å–∫–æ –ø–æ–¥—Å—á—ë—Ç –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π |
| `--cpu` | –ù–∏–∑–∫–∏–µ | –û–±—â–µ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| `--memory` | –£–º–µ—Ä–µ–Ω–Ω—ã–µ | –ê–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ |

–î–ª—è –Ω–∞–∏–±–æ–ª–µ–µ —Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏ –∏—â–∏—Ç–µ —É—Å—Ç–æ–π—á–∏–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã.

---

## –°–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ

- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#language-guide-memory) - –£–∫–∞–∑–∞—Ç–µ–ª–∏ –∏ –±—É—Ñ–µ—Ä—ã
- [API –ø–∞–º—è—Ç–∏](#reference-memory-api) - –§—É–Ω–∫—Ü–∏–∏ alloc, free, buffer
- [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å/–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å](#advanced-async-concurrency) - –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞


--------------------------------------------------------------------------------
## –°–±–æ—Ä–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞
--------------------------------------------------------------------------------

# –°–±–æ—Ä–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –º–Ω–æ–≥–æ—Ñ–∞–π–ª–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –µ–¥–∏–Ω—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤.

## –û–±–∑–æ—Ä

| –ö–æ–º–∞–Ω–¥–∞ | –í—ã—Ö–æ–¥ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|---------|-------|------------|
| `--bundle` | `.hmlc` –∏–ª–∏ `.hmlb` | –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–π—Ç–∫–æ–¥–∞ (—Ç—Ä–µ–±—É–µ—Ç Hemlock –¥–ª—è –∑–∞–ø—É—Å–∫–∞) |
| `--package` | –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª | –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π) |
| `--compile` | `.hmlc` | –ö–æ–º–ø–∏–ª—è—Ü–∏—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤) |

## –°–±–æ—Ä–∫–∞

–°–±–æ—Ä—â–∏–∫ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã `import` –∏–∑ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö –≤ –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª.

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–±—Ä–∞—Ç—å app.hml –∏ –≤—Å–µ –µ–≥–æ –∏–º–ø–æ—Ä—Ç—ã –≤ app.hmlc
hemlock --bundle app.hml

# –£–∫–∞–∑–∞—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å
hemlock --bundle app.hml -o dist/app.hmlc

# –°–æ–∑–¥–∞—Ç—å —Å–∂–∞—Ç—ã–π –±–∞–Ω–¥–ª (.hmlb) - –º–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
hemlock --bundle app.hml --compress -o app.hmlb

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏)
hemlock --bundle app.hml --verbose
```

### –§–æ—Ä–º–∞—Ç—ã –≤—ã–≤–æ–¥–∞

**`.hmlc` (–ù–µ—Å–∂–∞—Ç—ã–π)**
- –°–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç AST
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**`.hmlb` (–°–∂–∞—Ç—ã–π)**
- –°–∂–∞—Ç—ã–π zlib `.hmlc`
- –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–æ–±—ã—á–Ω–æ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 50-70%)
- –ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –∑–∞–ø—É—Å–∫ –∏–∑-–∑–∞ –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏

### –ó–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∂–∞—Ç–æ–≥–æ –±–∞–Ω–¥–ª–∞
hemlock app.hmlc

# –ó–∞–ø—É—Å–∫ —Å–∂–∞—Ç–æ–≥–æ –±–∞–Ω–¥–ª–∞
hemlock app.hmlb

# –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
hemlock app.hmlc arg1 arg2
```

### –ü—Ä–∏–º–µ—Ä: –ú–Ω–æ–≥–æ–º–æ–¥—É–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

```
myapp/
‚îú‚îÄ‚îÄ main.hml
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ math.hml
‚îÇ   ‚îî‚îÄ‚îÄ utils.hml
‚îî‚îÄ‚îÄ config.hml
```

```hemlock
// main.hml
import { add, multiply } from "./lib/math.hml";
import { log } from "./lib/utils.hml";
import { VERSION } from "./config.hml";

log(`App v${VERSION}`);
print(add(2, 3));
```

```bash
hemlock --bundle myapp/main.hml -o myapp.hmlc
hemlock myapp.hmlc  # –ó–∞–ø—É—Å–∫ —Å–æ –≤—Å–µ–º–∏ —Å–æ–±—Ä–∞–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```

### –ò–º–ø–æ—Ä—Ç—ã stdlib

–°–±–æ—Ä—â–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏–º–ø–æ—Ä—Ç—ã `@stdlib/`:

```hemlock
import { HashMap } from "@stdlib/collections";
import { now } from "@stdlib/time";
```

–ü—Ä–∏ —Å–±–æ—Ä–∫–µ –º–æ–¥—É–ª–∏ stdlib –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ –≤—ã–≤–æ–¥.

## –£–ø–∞–∫–æ–≤–∫–∞

–£–ø–∞–∫–æ–≤–∫–∞ —Å–æ–∑–¥–∞—ë—Ç —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –ø—É—Ç—ë–º –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –±–∞–π—Ç–∫–æ–¥–∞ –≤ –∫–æ–ø–∏—é –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ Hemlock.

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∏–∑ app.hml
hemlock --package app.hml

# –£–∫–∞–∑–∞—Ç—å –∏–º—è –≤—ã—Ö–æ–¥–∞
hemlock --package app.hml -o myapp

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∂–∞—Ç–∏–µ (–±—ã—Å—Ç—Ä–µ–µ –∑–∞–ø—É—Å–∫, –±–æ–ª—å—à–∏–π —Ñ–∞–π–ª)
hemlock --package app.hml --no-compress

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
hemlock --package app.hml --verbose
```

### –ó–∞–ø—É—Å–∫ —É–ø–∞–∫–æ–≤–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
# –£–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
./myapp

# –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç—É
./myapp arg1 arg2
```

### –§–æ—Ä–º–∞—Ç –ø–∞–∫–µ—Ç–∞

–£–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç HMLP:

```
[–±–∏–Ω–∞—Ä–Ω–∏–∫ hemlock][HMLB/HMLC payload][payload_size:u64][HMLP magic:u32]
```

–ö–æ–≥–¥–∞ —É–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
1. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ payload –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞
2. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω, –¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—Ä—É–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç payload
3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Hemlock

### –û–ø—Ü–∏–∏ —Å–∂–∞—Ç–∏—è

| –§–ª–∞–≥ | –§–æ—Ä–º–∞—Ç | –ó–∞–ø—É—Å–∫ | –†–∞–∑–º–µ—Ä |
|------|--------|--------|--------|
| (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | HMLB | –û–±—ã—á–Ω—ã–π | –ú–µ–Ω—å—à–µ |
| `--no-compress` | HMLC | –ë—ã—Å—Ç—Ä–µ–µ | –ë–æ–ª—å—à–µ |

–î–ª—è CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –≥–¥–µ –≤–∞–∂–Ω–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--no-compress`.

## –ò–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–Ω–¥–ª–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--info` –¥–ª—è –∏–Ω—Å–ø–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:

```bash
hemlock --info app.hmlc
```

–í—ã–≤–æ–¥:
```
=== –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ: app.hmlc ===
–†–∞–∑–º–µ—Ä: 12847 –±–∞–π—Ç
–§–æ—Ä–º–∞—Ç: HMLC (—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π AST)
–í–µ—Ä—Å–∏—è: 1
–§–ª–∞–≥–∏: 0x0001 [DEBUG]
–°—Ç—Ä–æ–∫–∏: 42
–û–ø–µ—Ä–∞—Ç–æ—Ä—ã: 156
```

```bash
hemlock --info app.hmlb
```

–í—ã–≤–æ–¥:
```
=== –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ: app.hmlb ===
–†–∞–∑–º–µ—Ä: 5234 –±–∞–π—Ç
–§–æ—Ä–º–∞—Ç: HMLB (—Å–∂–∞—Ç—ã–π –±–∞–Ω–¥–ª)
–í–µ—Ä—Å–∏—è: 1
–ù–µ—Å–∂–∞—Ç—ã–π: 12847 –±–∞–π—Ç
–°–∂–∞—Ç—ã–π: 5224 –±–∞–π—Ç
–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: —É–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 59.3%
```

## –ù–∞—Ç–∏–≤–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è

–î–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö –Ω–∞—Ç–∏–≤–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ (–±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä Hemlock:

```bash
# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤ –Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —á–µ—Ä–µ–∑ C
hemlockc app.hml -o app

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ C
hemlockc app.hml -o app --keep-c

# –í—ã–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ C (–Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å)
hemlockc app.hml -c -o app.c

# –£—Ä–æ–≤–µ–Ω—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
hemlockc app.hml -o app -O2
```

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ C –∏ –≤—ã–∑—ã–≤–∞–µ—Ç GCC –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞. –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç:
- –ë–∏–±–ª–∏–æ—Ç–µ–∫—É —Ä–∞–Ω—Ç–∞–π–º–∞ Hemlock (`libhemlock_runtime`)
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä C (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é GCC)

### –û–ø—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

| –û–ø—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `-o <file>` | –ò–º—è –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ |
| `-c` | –¢–æ–ª—å–∫–æ –≤—ã–¥–∞—Ç—å –∫–æ–¥ C |
| `--emit-c <file>` | –ó–∞–ø–∏—Å–∞—Ç—å C –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª |
| `-k, --keep-c` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π C –ø–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |
| `-O<level>` | –£—Ä–æ–≤–µ–Ω—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (0-3) |
| `--cc <path>` | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä C –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| `--runtime <path>` | –ü—É—Ç—å –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Ä–∞–Ω—Ç–∞–π–º–∞ |
| `-v, --verbose` | –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ |

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

| –ü–æ–¥—Ö–æ–¥ | –ü–æ—Ä—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å | –ó–∞–ø—É—Å–∫ | –†–∞–∑–º–µ—Ä | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |
|--------|---------------|--------|--------|-------------|
| `.hml` | –¢–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥–Ω–∏–∫ | –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ | –ù–∞–∏–º–µ–Ω—å—à–∏–π | Hemlock |
| `.hmlc` | –¢–æ–ª—å–∫–æ Hemlock | –ë—ã—Å—Ç—Ä—ã–π | –ú–∞–ª–µ–Ω—å–∫–∏–π | Hemlock |
| `.hmlb` | –¢–æ–ª—å–∫–æ Hemlock | –ë—ã—Å—Ç—Ä—ã–π | –ú–µ–Ω—å—à–µ | Hemlock |
| `--package` | –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π | –ë—ã—Å—Ç—Ä—ã–π | –ë–æ–ª—å—à–µ | –ù–µ—Ç |
| `hemlockc` | –ù–∞—Ç–∏–≤–Ω—ã–π | –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π | –í–∞—Ä—å–∏—Ä—É–µ—Ç—Å—è | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ä–∞–Ω—Ç–∞–π–º–∞ |

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ñ–∞–π–ª—ã `.hml` –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
2. **–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ (—Å Hemlock)**: –°–æ–±–∏—Ä–∞–π—Ç–µ —Å `--compress` –¥–ª—è –º–µ–Ω—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
3. **–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ (–∞–≤—Ç–æ–Ω–æ–º–Ω–æ–µ)**: –£–ø–∞–∫–æ–≤—ã–≤–∞–π—Ç–µ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
4. **–ö—Ä–∏—Ç–∏—á–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `hemlockc` –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### "Cannot find stdlib"

–°–±–æ—Ä—â–∏–∫ –∏—â–µ—Ç stdlib –≤:
1. `./stdlib` (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞)
2. `../stdlib` (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞)
3. `/usr/local/lib/hemlock/stdlib`

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Hemlock –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º–∏.

### –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
Error: Circular dependency detected when loading 'path/to/module.hml'
```

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–µ –≤–∞—à–∏ –∏–º–ø–æ—Ä—Ç—ã, —á—Ç–æ–±—ã —Ä–∞–∑–æ—Ä–≤–∞—Ç—å —Ü–∏–∫–ª. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–≥–æ –º–æ–¥—É–ª—è –¥–ª—è –æ–±—â–∏—Ö —Ç–∏–ø–æ–≤.

### –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∂–∞—Ç–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--no-compress`)
- –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä (~500KB-1MB –±–∞–∑–æ–≤—ã–π)
- –î–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `hemlockc` –¥–ª—è –Ω–∞—Ç–∏–≤–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏


--------------------------------------------------------------------------------
## –°–∏–≥–Ω–∞–ª—ã
--------------------------------------------------------------------------------

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ Hemlock

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–æ–±—Ä–∞–±–æ—Ç–∫—É POSIX-—Å–∏–≥–Ω–∞–ª–æ–≤** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ SIGINT (Ctrl+C), SIGTERM –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å–∏–≥–Ω–∞–ª–∞–º–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ –º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [API —Å–∏–≥–Ω–∞–ª–æ–≤](#api-—Å–∏–≥–Ω–∞–ª–æ–≤)
- [–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∏–≥–Ω–∞–ª–æ–≤](#–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã-—Å–∏–≥–Ω–∞–ª–æ–≤)
- [–ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤](#–±–∞–∑–æ–≤–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-—Å–∏–≥–Ω–∞–ª–æ–≤)
- [–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- [–ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤](#–ø–æ–≤–µ–¥–µ–Ω–∏–µ-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤-—Å–∏–≥–Ω–∞–ª–æ–≤)
- [–í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#–≤–æ–ø—Ä–æ—Å—ã-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ-—Å–ª—É—á–∞–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø–æ–ª–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã)

## –û–±–∑–æ—Ä

–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞–º:
- –†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Ctrl+C, Ctrl+Z)
- –†–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã –¥–ª—è –º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –°–æ–∑–¥–∞–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º—ã –±—É–¥–∏–ª—å–Ω–∏–∫–æ–≤/—Ç–∞–π–º–µ—Ä–æ–≤

**–í–∞–∂–Ω–æ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ **–ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞** –≤ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, –ø—Ä–µ—Ä—ã–≤–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.

## API —Å–∏–≥–Ω–∞–ª–æ–≤

### signal(signum, handler_fn)

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–∏–≥–Ω–∞–ª–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `signum` (i32) - –ù–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞ (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ —Ç–∏–ø–∞ SIGINT, SIGTERM)
- `handler_fn` (—Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ null) - –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞, –∏–ª–∏ `null` –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ü—Ä–µ–¥—ã–¥—É—â—É—é —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (–∏–ª–∏ `null`, –µ—Å–ª–∏ –µ—ë –Ω–µ –±—ã–ª–æ)

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
fn my_handler(sig) {
    print("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω —Å–∏–≥–Ω–∞–ª: " + typeof(sig));
}

let old_handler = signal(SIGINT, my_handler);
```

**–°–±—Ä–æ—Å –∫ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
```hemlock
signal(SIGINT, null);  // –°–±—Ä–æ—Å SIGINT –∫ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

### raise(signum)

–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ —Ç–µ–∫—É—â–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `signum` (i32) - –ù–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
raise(SIGUSR1);  // –í—ã–∑–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ SIGUSR1
```

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∏–≥–Ω–∞–ª–æ–≤

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã POSIX-—Å–∏–≥–Ω–∞–ª–æ–≤ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è i32.

### –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä |
|-----------|----------|----------|--------------------------|
| `SIGINT` | 2 | –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã | Ctrl+C |
| `SIGTERM` | 15 | –ó–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ | –ö–æ–º–∞–Ω–¥–∞ `kill` |
| `SIGQUIT` | 3 | –í—ã—Ö–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã | Ctrl+\ |
| `SIGHUP` | 1 | –û–±–Ω–∞—Ä—É–∂–µ–Ω –æ–±—Ä—ã–≤ —Å–≤—è–∑–∏ | –¢–µ—Ä–º–∏–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç |
| `SIGABRT` | 6 | –°–∏–≥–Ω–∞–ª –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è | –§—É–Ω–∫—Ü–∏—è `abort()` |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
signal(SIGINT, handle_interrupt);   // Ctrl+C
signal(SIGTERM, handle_terminate);  // –ö–æ–º–∞–Ω–¥–∞ kill
signal(SIGHUP, handle_hangup);      // –ó–∞–∫—Ä—ã—Ç–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –°–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|-----------|----------|----------|----------------------|
| `SIGUSR1` | 10 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª 1 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ IPC |
| `SIGUSR2` | 12 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª 2 | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ IPC |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
signal(SIGUSR1, reload_config);
signal(SIGUSR2, rotate_logs);
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|-----------|----------|----------|------------|
| `SIGALRM` | 14 | –¢–∞–π–º–µ—Ä –±—É–¥–∏–ª—å–Ω–∏–∫–∞ | –ü–æ—Å–ª–µ `alarm()` |
| `SIGCHLD` | 17 | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ |
| `SIGCONT` | 18 | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ SIGSTOP |
| `SIGSTOP` | 19 | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å | **–ù–µ–ª—å–∑—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å** |
| `SIGTSTP` | 20 | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ | Ctrl+Z |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
signal(SIGALRM, handle_timeout);
signal(SIGCHLD, handle_child_exit);
```

### –°–∏–≥–Ω–∞–ª—ã –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–æ–≥–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è |
|-----------|----------|----------|-------------------|
| `SIGPIPE` | 13 | –†–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª | –ó–∞–ø–∏—Å—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª |
| `SIGTTIN` | 21 | –§–æ–Ω–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ | –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —á–∏—Ç–∞–µ—Ç TTY |
| `SIGTTOU` | 22 | –§–æ–Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª | –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø–∏—à–µ—Ç –≤ TTY |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
signal(SIGPIPE, handle_broken_pipe);
```

## –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

### –ü–µ—Ä–µ—Ö–≤–∞—Ç Ctrl+C

```hemlock
let interrupted = false;

fn handle_interrupt(sig) {
    print("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω SIGINT!");
    interrupted = true;
}

signal(SIGINT, handle_interrupt);

// –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å...
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç Ctrl+C -> –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è handle_interrupt()

while (!interrupted) {
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
}

print("–í—ã—Ö–æ–¥ –∏–∑-–∑–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è");
```

### –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ–ª—É—á–∞—é—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç: –Ω–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞ (i32)

```hemlock
fn my_handler(signum) {
    print("–ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª: " + typeof(signum));
    // signum —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2 –¥–ª—è SIGINT)

    if (signum == SIGINT) {
        print("–≠—Ç–æ SIGINT");
    }
}

signal(SIGINT, my_handler);
signal(SIGTERM, my_handler);  // –û–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
```

### –ù–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤

–†–∞–∑–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:

```hemlock
fn handle_int(sig) {
    print("–ü–æ–ª—É—á–µ–Ω SIGINT");
}

fn handle_term(sig) {
    print("–ü–æ–ª—É—á–µ–Ω SIGTERM");
}

fn handle_usr1(sig) {
    print("–ü–æ–ª—É—á–µ–Ω SIGUSR1");
}

signal(SIGINT, handle_int);
signal(SIGTERM, handle_term);
signal(SIGUSR1, handle_usr1);
```

### –°–±—Ä–æ—Å –∫ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ü–µ—Ä–µ–¥–∞–π—Ç–µ `null` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```hemlock
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
signal(SIGINT, my_handler);

// –ü–æ–∑–∂–µ —Å–±—Ä–æ—Å –∫ –ø–æ–≤–µ–¥–µ–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–∏ SIGINT)
signal(SIGINT, null);
```

### –†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ —Å–≤–æ–µ–º—É —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É:

```hemlock
let count = 0;

fn increment(sig) {
    count = count + 1;
}

signal(SIGUSR1, increment);

// –†—É—á–Ω–æ–π –≤—ã–∑–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
raise(SIGUSR1);
raise(SIGUSR1);

print(count);  // 2
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏:

```hemlock
let should_exit = false;

fn handle_shutdown(sig) {
    print("–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ...");
    should_exit = true;
}

signal(SIGINT, handle_shutdown);
signal(SIGTERM, handle_shutdown);

// –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
while (!should_exit) {
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã...
    // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ should_exit
}

print("–û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞");
```

### –°—á—ë—Ç—á–∏–∫ —Å–∏–≥–Ω–∞–ª–æ–≤

–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:

```hemlock
let signal_count = 0;

fn count_signals(sig) {
    signal_count = signal_count + 1;
    print("–ü–æ–ª—É—á–µ–Ω–æ " + typeof(signal_count) + " —Å–∏–≥–Ω–∞–ª–æ–≤");
}

signal(SIGUSR1, count_signals);

// –ü–æ–∑–∂–µ...
print("–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤: " + typeof(signal_count));
```

### –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ —Å–∏–≥–Ω–∞–ª—É

```hemlock
let config = load_config();

fn reload_config(sig) {
    print("–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...");
    config = load_config();
    print("–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω–∞");
}

signal(SIGHUP, reload_config);  // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ SIGHUP

// –û—Ç–ø—Ä–∞–≤–∫–∞ SIGHUP –ø—Ä–æ—Ü–µ—Å—Å—É –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞
// –ò–∑ –æ–±–æ–ª–æ—á–∫–∏: kill -HUP <pid>
```

### –¢–∞–π–º–∞—É—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SIGALRM

```hemlock
let timed_out = false;

fn handle_alarm(sig) {
    print("–¢–∞–π–º–∞—É—Ç!");
    timed_out = true;
}

signal(SIGALRM, handle_alarm);

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—É–¥–∏–ª—å–Ω–∏–∫–∞ (–µ—â—ë –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ Hemlock, —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä)
// alarm(5);  // 5 —Å–µ–∫—É–Ω–¥ —Ç–∞–π–º–∞—É—Ç

while (!timed_out) {
    // –†–∞–±–æ—Ç–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º
}
```

### –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –Ω–∞ —Å–∏–≥–Ω–∞–ª–∞—Ö

```hemlock
let state = 0;

fn next_state(sig) {
    state = (state + 1) % 3;
    print("–°–æ—Å—Ç–æ—è–Ω–∏–µ: " + typeof(state));
}

fn prev_state(sig) {
    state = (state - 1 + 3) % 3;
    print("–°–æ—Å—Ç–æ—è–Ω–∏–µ: " + typeof(state));
}

signal(SIGUSR1, next_state);  // –°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
signal(SIGUSR2, prev_state);  // –ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω–æ–π —Å–æ—Å—Ç–æ—è–Ω–∏–π:
// kill -USR1 <pid>  # –°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
// kill -USR2 <pid>  # –ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
```

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤

### –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

**–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ —Ä–∞–∑–¥–µ–ª—è—é—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∏ –∏–∑–º–µ–Ω—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (–∫–∞–∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–ª–∏ –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

**–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
- –î–µ—Ä–∂–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –±—ã—Å—Ç—Ä—ã–º–∏ - –∏–∑–±–µ–≥–∞–π—Ç–µ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ñ–ª–∞–≥–∏ –≤–º–µ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
- –ò–∑–±–µ–≥–∞–π—Ç–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –ø—Ä–µ—Ä–≤–∞—Ç—å –ª—é–±—É—é –æ–ø–µ—Ä–∞—Ü–∏—é

### –ö–∞–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å

**–ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å:**
- SIGINT, SIGTERM, SIGUSR1, SIGUSR2, SIGHUP, SIGQUIT
- SIGALRM, SIGCHLD, SIGCONT, SIGTSTP
- SIGPIPE, SIGTTIN, SIGTTOU
- SIGABRT (–Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –ø–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞)

**–ù–µ–ª—å–∑—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å:**
- `SIGKILL` (9) - –í—Å–µ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å
- `SIGSTOP` (19) - –í—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–∏—Å—Ç–µ–º—ã:**
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–≥–Ω–∞–ª—ã –∏–º–µ—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è –ø–æ —Å–∏—Å—Ç–µ–º–∞–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Å–∏–≥–Ω–∞–ª–æ–≤ –≤–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

```hemlock
fn complex_handler(sig) {
    // –ò–∑–±–µ–≥–∞–π—Ç–µ —ç—Ç–æ–≥–æ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:

    // –î–æ–ª–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    // process_large_file();

    // –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π I/O
    // let f = open("log.txt", "a");
    // f.write("–°–∏–≥–Ω–∞–ª –ø–æ–ª—É—á–µ–Ω\n");

    // –°–ª–æ–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
    // rebuild_entire_data_structure();

    // –ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞
    let should_stop = true;

    // –ü—Ä–æ—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ –æ–±—ã—á–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ
    let signal_count = signal_count + 1;
}
```

## –í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ **–ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞** –≤ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock.

### –°–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω—ã –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, –ø—Ä–µ—Ä—ã–≤–∞—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:

```hemlock
let counter = 0;

fn increment(sig) {
    counter = counter + 1;  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏ –µ—Å–ª–∏ –≤—ã–∑–≤–∞–Ω –≤–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è counter
}

signal(SIGUSR1, increment);

// –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Ç–æ–∂–µ –∏–∑–º–µ–Ω—è–µ—Ç counter
counter = counter + 1;  // –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º —Å–∏–≥–Ω–∞–ª–∞
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ —Å–∏–≥–Ω–∞–ª –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç `counter`, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

Hemlock **–Ω–µ** –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤:
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ª—é–±–æ–π –∫–æ–¥ Hemlock (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π C, –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤)
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–æ–∑–º–æ–∂–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏, –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω—è–µ—Ç –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

**1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ —Ñ–ª–∞–≥–∏**

–ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è –±—É–ª–µ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –æ–±—ã—á–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã:

```hemlock
let should_exit = false;

fn handler(sig) {
    should_exit = true;  // –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ
}

signal(SIGINT, handler);

while (!should_exit) {
    // —Ä–∞–±–æ—Ç–∞...
}
```

**2. –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**

```hemlock
let interrupt_count = 0;

fn handler(sig) {
    // –ò–∑–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —ç—Ç—É –æ–¥–Ω—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
    interrupt_count = interrupt_count + 1;
}
```

**3. –û—Ç–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**

```hemlock
let pending_reload = false;

fn signal_reload(sig) {
    pending_reload = true;  // –¢–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ñ–ª–∞–≥
}

signal(SIGHUP, signal_reload);

// –í –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ:
while (true) {
    if (pending_reload) {
        reload_config();  // –í—ã–ø–æ–ª–Ω—è–µ–º —Å–ª–æ–∂–Ω—É—é —Ä–∞–±–æ—Ç—É –∑–¥–µ—Å—å
        pending_reload = false;
    }

    // –û–±—ã—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞...
}
```

**4. –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–æ–±–ª–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤—Ö–æ–¥–∞**

```hemlock
let in_critical_section = false;
let data = [];

fn careful_handler(sig) {
    if (in_critical_section) {
        // –ù–µ –∏–∑–º–µ–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
        return;
    }
    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å
}
```

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

```hemlock
let running = true;

fn shutdown(sig) {
    print("–ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è");
    running = false;
}

signal(SIGINT, shutdown);
signal(SIGTERM, shutdown);

// –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–µ—Ä–≤–µ—Ä–∞
while (running) {
    handle_client_request();
}

cleanup_resources();
print("–°–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω");
```

### 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)

```hemlock
let config = load_config("app.conf");
let reload_needed = false;

fn trigger_reload(sig) {
    reload_needed = true;
}

signal(SIGHUP, trigger_reload);

while (true) {
    if (reload_needed) {
        print("–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...");
        config = load_config("app.conf");
        reload_needed = false;
    }

    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ config...
}
```

### 3. –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

```hemlock
let log_file = open("app.log", "a");
let rotate_needed = false;

fn trigger_rotate(sig) {
    rotate_needed = true;
}

signal(SIGUSR1, trigger_rotate);

while (true) {
    if (rotate_needed) {
        log_file.close();
        // –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –ª–æ–≥–∞, –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤–æ–≥–æ
        exec("mv app.log app.log.old");
        log_file = open("app.log", "a");
        rotate_needed = false;
    }

    // –û–±—ã—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ...
    log_file.write("–ó–∞–ø–∏—Å—å –≤ –ª–æ–≥\n");
}
```

### 4. –û—Ç—á—ë—Ç –æ —Å—Ç–∞—Ç—É—Å–µ

```hemlock
let requests_handled = 0;

fn report_status(sig) {
    print("–°—Ç–∞—Ç—É—Å: " + typeof(requests_handled) + " –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ");
}

signal(SIGUSR1, report_status);

while (true) {
    handle_request();
    requests_handled = requests_handled + 1;
}

// –ò–∑ –æ–±–æ–ª–æ—á–∫–∏: kill -USR1 <pid>
```

### 5. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏

```hemlock
let debug_mode = false;

fn toggle_debug(sig) {
    debug_mode = !debug_mode;
    if (debug_mode) {
        print("–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏: –í–ö–õ");
    } else {
        print("–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏: –í–´–ö–õ");
    }
}

signal(SIGUSR2, toggle_debug);

// –ò–∑ –æ–±–æ–ª–æ—á–∫–∏: kill -USR2 <pid> –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
```

## –ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π —Å –æ—á–∏—Å—Ç–∫–æ–π

```hemlock
let running = true;
let signal_count = 0;

fn handle_signal(signum) {
    signal_count = signal_count + 1;

    if (signum == SIGINT) {
        print("–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ (Ctrl+C)");
        running = false;
    }

    if (signum == SIGUSR1) {
        print("–ü–æ–ª—É—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª 1");
    }
}

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
signal(SIGINT, handle_signal);
signal(SIGUSR1, handle_signal);

// –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã
let i = 0;
while (running && i < 100) {
    print("–†–∞–±–æ—Ç–∞... " + typeof(i));

    // –í—ã–∑–æ–≤ SIGUSR1 –∫–∞–∂–¥—ã–µ 10 –∏—Ç–µ—Ä–∞—Ü–∏–π
    if (i == 10 || i == 20) {
        raise(SIGUSR1);
    }

    i = i + 1;
}

print("–í—Å–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–æ —Å–∏–≥–Ω–∞–ª–æ–≤: " + typeof(signal_count));
```

### –ü—Ä–∏–º–µ—Ä 2: –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∏–≥–Ω–∞–ª–∞—Ö

```hemlock
let state = "idle";
let request_count = 0;

fn start_processing(sig) {
    state = "processing";
    print("–°–æ—Å—Ç–æ—è–Ω–∏–µ: " + state);
}

fn stop_processing(sig) {
    state = "idle";
    print("–°–æ—Å—Ç–æ—è–Ω–∏–µ: " + state);
}

fn report_stats(sig) {
    print("–°–æ—Å—Ç–æ—è–Ω–∏–µ: " + state);
    print("–ó–∞–ø—Ä–æ—Å–æ–≤: " + typeof(request_count));
}

signal(SIGUSR1, start_processing);
signal(SIGUSR2, stop_processing);
signal(SIGHUP, report_stats);

while (true) {
    if (state == "processing") {
        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
        request_count = request_count + 1;
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é...
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—É–ª–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤

```hemlock
let worker_count = 4;
let should_exit = false;

fn increase_workers(sig) {
    worker_count = worker_count + 1;
    print("–í–æ—Ä–∫–µ—Ä–æ–≤: " + typeof(worker_count));
}

fn decrease_workers(sig) {
    if (worker_count > 1) {
        worker_count = worker_count - 1;
    }
    print("–í–æ—Ä–∫–µ—Ä–æ–≤: " + typeof(worker_count));
}

fn shutdown(sig) {
    print("–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ...");
    should_exit = true;
}

signal(SIGUSR1, increase_workers);
signal(SIGUSR2, decrease_workers);
signal(SIGINT, shutdown);
signal(SIGTERM, shutdown);

// –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –ø—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ worker_count
while (!should_exit) {
    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Ä–∫–µ—Ä–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ worker_count
    // ...
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ü–∞—Ç—Ç–µ—Ä–Ω —Ç–∞–π–º–∞—É—Ç–∞

```hemlock
let operation_complete = false;
let timed_out = false;

fn timeout_handler(sig) {
    timed_out = true;
}

signal(SIGALRM, timeout_handler);

// –ó–∞–ø—É—Å–∫ –¥–æ–ª–≥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
async fn long_operation() {
    // ... —Ä–∞–±–æ—Ç–∞
    operation_complete = true;
}

let task = spawn(long_operation);

// –û–∂–∏–¥–∞–Ω–∏–µ —Å —Ç–∞–π–º–∞—É—Ç–æ–º (—Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
let elapsed = 0;
while (!operation_complete && elapsed < 1000) {
    // –°–æ–Ω –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
    elapsed = elapsed + 1;
}

if (!operation_complete) {
    print("–û–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ —Ç–∞–π–º–∞—É—Ç—É");
    detach(task);  // –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º –æ–∂–∏–¥–∞–Ω–∏–µ
} else {
    join(task);
    print("–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞");
}
```

## –û—Ç–ª–∞–¥–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã–≤–æ–¥–æ–≤

```hemlock
fn debug_handler(sig) {
    print("–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–∑–≤–∞–Ω –¥–ª—è —Å–∏–≥–Ω–∞–ª–∞: " + typeof(sig));
    print("–°—Ç–µ–∫: (–ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ)");

    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞...
}

signal(SIGINT, debug_handler);
```

### –ü–æ–¥—Å—á—ë—Ç –≤—ã–∑–æ–≤–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

```hemlock
let handler_calls = 0;

fn counting_handler(sig) {
    handler_calls = handler_calls + 1;
    print("–í—ã–∑–æ–≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ #" + typeof(handler_calls));

    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞...
}
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å raise()

```hemlock
fn test_handler(sig) {
    print("–¢–µ—Å—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª –ø–æ–ª—É—á–µ–Ω: " + typeof(sig));
}

signal(SIGUSR1, test_handler);

// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä—É—á–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–æ–π
raise(SIGUSR1);
print("–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã–ª –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω");
```

## –ò—Ç–æ–≥

–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- –û–±—Ä–∞–±–æ—Ç–∫–∞ POSIX-—Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- 15 —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç —Å–∏–≥–Ω–∞–ª–æ–≤
- –ü—Ä–æ—Å—Ç–æ–π API signal() –∏ raise()
- –ì–∏–±–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∑–∞–º—ã–∫–∞–Ω–∏–π
- –ù–µ—Å–∫–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–æ–≤ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

–ü–æ–º–Ω–∏—Ç–µ:
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ —Å–≤–æ–µ–π –ø—Ä–∏—Ä–æ–¥–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é
- –î–µ—Ä–∂–∏—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –±—ã—Å—Ç—Ä—ã–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏—è, –Ω–µ —Å–ª–æ–∂–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å SIGKILL –∏–ª–∏ SIGSTOP
- –¢—â–∞—Ç–µ–ª—å–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å raise()

–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ (SIGINT, SIGTERM)
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (SIGHUP)
- –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (SIGUSR1)
- –û—Ç—á—ë—Ç –æ —Å—Ç–∞—Ç—É—Å–µ (SIGUSR1/SIGUSR2)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ (SIGUSR2)



################################################################################
# –°–ü–†–ê–í–û–ß–ù–ò–ö API
################################################################################

--------------------------------------------------------------------------------
## API –º–∞—Å—Å–∏–≤–æ–≤
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ API –º–∞—Å—Å–∏–≤–æ–≤

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ç–∏–ø—É –º–∞—Å—Å–∏–≤–æ–≤ Hemlock –∏ –≤—Å–µ–º 18 –º–µ—Ç–æ–¥–∞–º –º–∞—Å—Å–∏–≤–æ–≤.

---

## –û–±–∑–æ—Ä

–ú–∞—Å—Å–∏–≤—ã –≤ Hemlock ‚Äî —ç—Ç–æ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ä–∞–∑–º–µ—â–∞–µ–º—ã–µ –≤ –∫—É—á–µ**, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å–º–µ—à–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤. –û–Ω–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ)
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –Ω—É–ª—è
- –î–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Å–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
- 18 –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- –†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤ –∫—É—á–µ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º —ë–º–∫–æ—Å—Ç–∏

---

## –¢–∏–ø –º–∞—Å—Å–∏–≤–∞

**–¢–∏–ø:** `array`

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (i32)

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–∏—Ç–µ—Ä–∞–ª–∞:** –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ `[—ç–ª–µ–º1, —ç–ª–µ–º2, ...]`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
print(arr.length);     // 5

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
let mixed = [1, "hello", true, null];
print(mixed.length);   // 4

// –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
let empty = [];
print(empty.length);   // 0
```

---

## –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è

–ú–∞—Å—Å–∏–≤—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —Å –Ω—É–ª—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `[]`:

**–ß—Ç–µ–Ω–∏–µ:**
```hemlock
let arr = [10, 20, 30];
print(arr[0]);         // 10
print(arr[1]);         // 20
print(arr[2]);         // 30
```

**–ó–∞–ø–∏—Å—å:**
```hemlock
let arr = [10, 20, 30];
arr[0] = 99;
arr[1] = 88;
print(arr);            // [99, 88, 30]
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä—è–º–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≥—Ä–∞–Ω–∏—Ü. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## –°–≤–æ–π—Å—Ç–≤–∞ –º–∞—Å—Å–∏–≤–∞

### .length

–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ.

**–¢–∏–ø:** `i32`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3];
print(arr.length);     // 3

let empty = [];
print(empty.length);   // 0

// –î–ª–∏–Ω–∞ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
arr.push(4);
print(arr.length);     // 4

arr.pop();
print(arr.length);     // 3
```

---

## –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤

### –°—Ç–µ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### push

–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –∫–æ–Ω–µ—Ü –º–∞—Å—Å–∏–≤–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.push(value: any): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` - –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3];
arr.push(4);           // [1, 2, 3, 4]
arr.push(5);           // [1, 2, 3, 4, 5]
arr.push("hello");     // [1, 2, 3, 4, 5, "hello"]
```

---

#### pop

–£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.pop(): any
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç (—É–¥–∞–ª—ë–Ω–Ω—ã–π –∏–∑ –º–∞—Å—Å–∏–≤–∞)

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3];
let last = arr.pop();  // 3
print(arr);            // [1, 2]

let last2 = arr.pop(); // 2
print(arr);            // [1]
```

**–û—à–∏–±–∫–∞:** –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç.

---

### –û–ø–µ—Ä–∞—Ü–∏–∏ –æ—á–µ—Ä–µ–¥–∏

#### shift

–£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.shift(): any
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç (—É–¥–∞–ª—ë–Ω–Ω—ã–π –∏–∑ –º–∞—Å—Å–∏–≤–∞)

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3];
let first = arr.shift();  // 1
print(arr);               // [2, 3]

let first2 = arr.shift(); // 2
print(arr);               // [3]
```

**–û—à–∏–±–∫–∞:** –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç.

---

#### unshift

–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –Ω–∞—á–∞–ª–æ –º–∞—Å—Å–∏–≤–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.unshift(value: any): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` - –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [2, 3];
arr.unshift(1);        // [1, 2, 3]
arr.unshift(0);        // [0, 1, 2, 3]
```

---

### –í—Å—Ç–∞–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

#### insert

–í—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∏–Ω–¥–µ–∫—Å—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.insert(index: i32, value: any): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `index` - –ü–æ–∑–∏—Ü–∏—è –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ (—Å 0)
- `value` - –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 4, 5];
arr.insert(2, 3);      // [1, 2, 3, 4, 5]

let arr2 = [1, 3];
arr2.insert(1, 2);     // [1, 2, 3]

// –í—Å—Ç–∞–≤–∫–∞ –≤ –∫–æ–Ω–µ—Ü
arr2.insert(arr2.length, 4);  // [1, 2, 3, 4]
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –°–¥–≤–∏–≥–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—á–∏–Ω–∞—è —Å —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –≤–ø—Ä–∞–≤–æ.

---

#### remove

–£–¥–∞–ª–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å —ç–ª–µ–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.remove(index: i32): any
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `index` - –ü–æ–∑–∏—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (—Å 0)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –£–¥–∞–ª—ë–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
let removed = arr.remove(0);  // 1
print(arr);                   // [2, 3, 4, 5]

let removed2 = arr.remove(2); // 4
print(arr);                   // [2, 3, 5]
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –°–¥–≤–∏–≥–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –≤–ª–µ–≤–æ.

**–û—à–∏–±–∫–∞:** –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã.

---

### –ü–æ–∏—Å–∫

#### find

–ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.find(value: any): i32
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` - –ò—Å–∫–æ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ò–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –∏–ª–∏ `-1`, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [10, 20, 30, 40];
let idx = arr.find(30);      // 2
let idx2 = arr.find(99);     // -1 (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ)

// –ù–∞–π—Ç–∏ –ø–µ—Ä–≤—ã–π –¥—É–±–ª–∏–∫–∞—Ç
let arr2 = [1, 2, 3, 2, 4];
let idx3 = arr2.find(2);     // 1 (–ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ)
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ –∏ —Å—Ç—Ä–æ–∫.

---

#### contains

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.contains(value: any): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` - –ò—Å–∫–æ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `true`, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ, `false` –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [10, 20, 30, 40];
let has = arr.contains(20);  // true
let has2 = arr.contains(99); // false

// –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
let words = ["hello", "world"];
let has3 = words.contains("hello");  // true
```

---

### –°—Ä–µ–∑—ã –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ

#### slice

–ò–∑–≤–ª–µ—á—å –ø–æ–¥–º–∞—Å—Å–∏–≤ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É (–∫–æ–Ω–µ—Ü –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.slice(start: i32, end: i32): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` - –ù–∞—á–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (—Å 0, –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ)
- `end` - –ö–æ–Ω–µ—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏–∑ [start, end)

**–ò–∑–º–µ–Ω—è–µ—Ç:** –ù–µ—Ç (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
let sub = arr.slice(1, 4);   // [2, 3, 4]
let first_three = arr.slice(0, 3);  // [1, 2, 3]
let last_two = arr.slice(3, 5);     // [4, 5]

// –ü—É—Å—Ç–æ–π —Å—Ä–µ–∑
let empty = arr.slice(2, 2); // []
```

---

#### first

–ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.first(): any
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç

**–ò–∑–º–µ–Ω—è–µ—Ç:** –ù–µ—Ç

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3];
let f = arr.first();         // 1
print(arr);                  // [1, 2, 3] (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

**–û—à–∏–±–∫–∞:** –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç.

---

#### last

–ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.last(): any
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç

**–ò–∑–º–µ–Ω—è–µ—Ç:** –ù–µ—Ç

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3];
let l = arr.last();          // 3
print(arr);                  // [1, 2, 3] (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

**–û—à–∏–±–∫–∞:** –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç.

---

### –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–æ–º

#### reverse

–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.reverse(): null
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
arr.reverse();               // [5, 4, 3, 2, 1]
print(arr);                  // [5, 4, 3, 2, 1]

let words = ["hello", "world"];
words.reverse();             // ["world", "hello"]
```

---

#### clear

–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.clear(): null
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ò–∑–º–µ–Ω—è–µ—Ç:** –î–∞ (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
arr.clear();
print(arr);                  // []
print(arr.length);           // 0
```

---

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤

#### concat

–û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å –¥—Ä—É–≥–∏–º –º–∞—Å—Å–∏–≤–æ–º.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.concat(other: array): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `other` - –ú–∞—Å—Å–∏–≤ –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏–∑ –æ–±–æ–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤

**–ò–∑–º–µ–Ω—è–µ—Ç:** –ù–µ—Ç (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a = [1, 2, 3];
let b = [4, 5, 6];
let combined = a.concat(b);  // [1, 2, 3, 4, 5, 6]
print(a);                    // [1, 2, 3] (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
print(b);                    // [4, 5, 6] (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

// –¶–µ–ø–æ—á–∫–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–π
let c = [7, 8];
let all = a.concat(b).concat(c);  // [1, 2, 3, 4, 5, 6, 7, 8]
```

---

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### map

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é callback-—Ñ—É–Ω–∫—Ü–∏–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.map(callback: fn): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `callback` - –§—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è —ç–ª–µ–º–µ–Ω—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

**–ò–∑–º–µ–Ω—è–µ—Ç:** –ù–µ—Ç (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
let doubled = arr.map(fn(x) { return x * 2; });
print(doubled);  // [2, 4, 6, 8, 10]

let names = ["alice", "bob"];
let upper = names.map(fn(s) { return s.to_upper(); });
print(upper);  // ["ALICE", "BOB"]
```

---

#### filter

–í—ã–±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–µ–¥–∏–∫–∞—Ç—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.filter(predicate: fn): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `predicate` - –§—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è —ç–ª–µ–º–µ–Ω—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è bool

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥–∏–∫–∞—Ç –≤–µ—Ä–Ω—É–ª true

**–ò–∑–º–µ–Ω—è–µ—Ç:** –ù–µ—Ç (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5, 6];
let evens = arr.filter(fn(x) { return x % 2 == 0; });
print(evens);  // [2, 4, 6]

let words = ["hello", "hi", "hey", "goodbye"];
let short = words.filter(fn(s) { return s.length < 4; });
print(short);  // ["hi", "hey"]
```

---

#### reduce

–°–≤–µ—Å—Ç–∏ –º–∞—Å—Å–∏–≤ –∫ –æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é —Å –ø–æ–º–æ—â—å—é –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.reduce(callback: fn, initial: any): any
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `callback` - –§—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è (–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä, —ç–ª–µ–º–µ–Ω—Ç) –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –Ω–æ–≤—ã–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä
- `initial` - –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ò—Ç–æ–≥–æ–≤–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–ò–∑–º–µ–Ω—è–µ—Ç:** –ù–µ—Ç

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
let sum = arr.reduce(fn(acc, x) { return acc + x; }, 0);
print(sum);  // 15

let product = arr.reduce(fn(acc, x) { return acc * x; }, 1);
print(product);  // 120

// –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
let max = arr.reduce(fn(acc, x) {
    if (x > acc) { return x; }
    return acc;
}, arr[0]);
print(max);  // 5
```

---

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É

#### join

–û–±—ä–µ–¥–∏–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å—Ç—Ä–æ–∫—É —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
array.join(delimiter: string): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `delimiter` - –°—Ç—Ä–æ–∫–∞-—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç—Ä–æ–∫–∞ —Å–æ –≤—Å–µ–º–∏ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let words = ["hello", "world", "foo"];
let joined = words.join(" ");  // "hello world foo"

let numbers = [1, 2, 3];
let csv = numbers.join(",");   // "1,2,3"

// –†–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–º–µ—à–∞–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
let mixed = [1, "hello", true, null];
print(mixed.join(" | "));  // "1 | hello | true | null"

// –ü—É—Å—Ç–æ–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
let arr = ["a", "b", "c"];
let s = arr.join("");          // "abc"
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å—Ç—Ä–æ–∫–∏.

---

## –¶–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤

–ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤ —Ü–µ–ø–æ—á–∫–∏ –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏:

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –¶–µ–ø–æ—á–∫–∞ slice –∏ join
let result = ["apple", "banana", "cherry", "date"]
    .slice(0, 2)
    .join(" and ");  // "apple and banana"

// –¶–µ–ø–æ—á–∫–∞ concat –∏ slice
let combined = [1, 2, 3]
    .concat([4, 5, 6])
    .slice(2, 5);    // [3, 4, 5]

// –°–ª–æ–∂–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞
let words = ["hello", "world", "foo", "bar"];
let result2 = words
    .slice(0, 3)
    .concat(["baz"])
    .join("-");      // "hello-world-foo-baz"
```

---

## –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ –º–µ—Ç–æ–¥–æ–≤

### –ò–∑–º–µ–Ω—è—é—â–∏–µ –º–µ—Ç–æ–¥—ã

–ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –º–µ—Å—Ç–µ:

| –ú–µ—Ç–æ–¥      | –°–∏–≥–Ω–∞—Ç—É—Ä–∞                  | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|------------|----------------------------|------------|--------------------------------|
| `push`     | `(value: any)`             | `null`     | –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü               |
| `pop`      | `()`                       | `any`      | –£–¥–∞–ª–∏—Ç—å —Å –∫–æ–Ω—Ü–∞                |
| `shift`    | `()`                       | `any`      | –£–¥–∞–ª–∏—Ç—å —Å –Ω–∞—á–∞–ª–∞               |
| `unshift`  | `(value: any)`             | `null`     | –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ              |
| `insert`   | `(index: i32, value: any)` | `null`     | –í—Å—Ç–∞–≤–∏—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É            |
| `remove`   | `(index: i32)`             | `any`      | –£–¥–∞–ª–∏—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É             |
| `reverse`  | `()`                       | `null`     | –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –º–µ—Å—Ç–µ            |
| `clear`    | `()`                       | `null`     | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã           |

### –ù–µ–∏–∑–º–µ–Ω—è—é—â–∏–µ –º–µ—Ç–æ–¥—ã

–ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª–∞:

| –ú–µ—Ç–æ–¥      | –°–∏–≥–Ω–∞—Ç—É—Ä–∞                  | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|------------|----------------------------|------------|--------------------------------|
| `find`     | `(value: any)`             | `i32`      | –ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ         |
| `contains` | `(value: any)`             | `bool`     | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è     |
| `slice`    | `(start: i32, end: i32)`   | `array`    | –ò–∑–≤–ª–µ—á—å –ø–æ–¥–º–∞—Å—Å–∏–≤              |
| `first`    | `()`                       | `any`      | –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç        |
| `last`     | `()`                       | `any`      | –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç     |
| `concat`   | `(other: array)`           | `array`    | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–∞—Å—Å–∏–≤—ã             |
| `join`     | `(delimiter: string)`      | `string`   | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —Å—Ç—Ä–æ–∫—É   |
| `map`      | `(callback: fn)`           | `array`    | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç   |
| `filter`   | `(predicate: fn)`          | `array`    | –í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã    |
| `reduce`   | `(callback: fn, initial: any)` | `any`  | –°–≤–µ—Å—Ç–∏ –∫ –æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é       |

---

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ —Å—Ç–µ–∫

```hemlock
let stack = [];

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
stack.push(1);
stack.push(2);
stack.push(3);

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
while (stack.length > 0) {
    let item = stack.pop();
    print(item);  // 3, 2, 1
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –æ—á–µ—Ä–µ–¥—å

```hemlock
let queue = [];

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å
queue.push(1);
queue.push(2);
queue.push(3);

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏
while (queue.length > 0) {
    let item = queue.shift();
    print(item);  // 1, 2, 3
}
```

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞

```hemlock
// –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–≤—Ä—É—á–Ω—É—é)
let numbers = [1, 2, 3, 4, 5, 6];
let evens = [];
let i = 0;
while (i < numbers.length) {
    if (numbers[i] % 2 == 0) {
        evens.push(numbers[i]);
    }
    i = i + 1;
}

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–≤—Ä—É—á–Ω—É—é)
let numbers2 = [1, 2, 3, 4, 5];
let doubled = [];
let j = 0;
while (j < numbers2.length) {
    doubled.push(numbers2[j] * 2);
    j = j + 1;
}
```

### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤

```hemlock
let arr = [];

// –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –≤ —Ü–∏–∫–ª–µ
let i = 0;
while (i < 10) {
    arr.push(i * 10);
    i = i + 1;
}

print(arr);  // [0, 10, 20, 30, 40, 50, 60, 70, 80, 90]
```

---

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ë–º–∫–æ—Å—Ç—å—é:**
- –ú–∞—Å—Å–∏–≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –Å–º–∫–æ—Å—Ç—å —É–¥–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏
- –ù–µ—Ç —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ë–º–∫–æ—Å—Ç—å—é

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π:**
- `find()` –∏ `contains()` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ –∏ —Å—Ç—Ä–æ–∫
- –û–±—ä–µ–∫—Ç—ã/–º–∞—Å—Å–∏–≤—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ

**–ü–∞–º—è—Ç—å:**
- –†–∞–∑–º–µ—â–∞–µ—Ç—Å—è –≤ –∫—É—á–µ
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è (—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é)
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –ø—Ä—è–º–æ–º –¥–æ—Å—Ç—É–ø–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É

---

## –°–º. —Ç–∞–∫–∂–µ

- [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#reference-type-system) - –î–µ—Ç–∞–ª–∏ —Ç–∏–ø–∞ –º–∞—Å—Å–∏–≤–∞
- [API —Å—Ç—Ä–æ–∫](#reference-string-api) - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–µ—Ç–æ–¥–∞ join()
- [–û–ø–µ—Ä–∞—Ç–æ—Ä—ã](#reference-operators) - –û–ø–µ—Ä–∞—Ç–æ—Ä –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –º–∞—Å—Å–∏–≤–∞


--------------------------------------------------------------------------------
## API –ø–∞–º—è—Ç–∏
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ API –ø–∞–º—è—Ç–∏

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é –∏ —Ç–∏–ø–∞–º —É–∫–∞–∑–∞—Ç–µ–ª–µ–π Hemlock.

---

## –û–±–∑–æ—Ä

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é** —Å —è–≤–Ω—ã–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º. –ü–∞–º—è—Ç—å —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –¥–≤–∞ —Ç–∏–ø–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π: —Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`ptr`) –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –±—É—Ñ–µ—Ä—ã (`buffer`).

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –Ø–≤–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
- –ù–µ—Ç —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã–∑–æ–≤ `free()`
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏/–ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è (—Å–º. –Ω–∏–∂–µ)

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫

–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–µ–º –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ–±–ª–∞—Å—Ç—è—Ö –≤–∏–¥–∏–º–æ—Å—Ç–∏. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–Ω–µ –Ω—É–∂–µ–Ω `free()`):**
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∏–ø–æ–≤ —Å –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫ (buffer, array, object, string) –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
- –°—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –≠–ª–µ–º–µ–Ω—Ç—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π `free()`:**
- –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –æ—Ç `alloc()` - –≤—Å–µ–≥–¥–∞
- –†–∞–Ω–Ω—è—è –æ—á–∏—Å—Ç–∫–∞ –¥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
- –î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ/–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–º. [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø–∞–º—è—Ç—å—é](../language-guide/memory.md#internal-reference-counting) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

---

## –¢–∏–ø—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

### ptr (–°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å)

**–¢–∏–ø:** `ptr`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—ã—Ä–æ–π –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü –∏–ª–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è.

**–†–∞–∑–º–µ—Ä:** 8 –±–∞–π—Ç–æ–≤

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é
- FFI (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–±–µ–∑ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤)

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ù–µ–±–µ–∑–æ–ø–∞—Å–µ–Ω - –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let p: ptr = alloc(64);
memset(p, 0, 64);
free(p);
```

---

### buffer (–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä)

**–¢–∏–ø:** `buffer`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –£–∫–∞–∑–∞—Ç–µ–ª—å + –¥–ª–∏–Ω–∞ + —ë–º–∫–æ—Å—Ç—å + —Å—á—ë—Ç—á–∏–∫_—Å—Å—ã–ª–æ–∫

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.length` - –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (i32)
- `.capacity` - –í—ã–¥–µ–ª–µ–Ω–Ω–∞—è —ë–º–∫–æ—Å—Ç—å (i32)

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤—ã–¥–µ–ª–µ–Ω–∏–π –ø–∞–º—è—Ç–∏
- –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É

**–ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫:** –ë—É—Ñ–µ—Ä—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `free()` –¥–ª—è —Ä–∞–Ω–Ω–µ–π –æ—á–∏—Å—Ç–∫–∏ –∏–ª–∏ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let b: buffer = buffer(64);
b[0] = 65;              // –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü
print(b.length);        // 64
free(b);
```

---

## –§—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏

### alloc

–í—ã–¥–µ–ª–∏—Ç—å —Å—ã—Ä—É—é –ø–∞–º—è—Ç—å.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
alloc(size: i32): ptr
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `size` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å (`ptr`)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let p = alloc(1024);        // –í—ã–¥–µ–ª–∏—Ç—å 1–ö–ë
memset(p, 0, 1024);         // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω—É–ª—è–º–∏
free(p);                    // –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

// –í—ã–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
let struct_size = 16;
let p2 = alloc(struct_size);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–º—è—Ç—å
- –ü–∞–º—è—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞ –≤—Ä—É—á–Ω—É—é
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è (–≤—ã–∑—ã–≤–∞—é—â–∏–π –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

**–°–º. —Ç–∞–∫–∂–µ:** `buffer()` –¥–ª—è –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã

---

### buffer

–í—ã–¥–µ–ª–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
buffer(size: i32): buffer
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `size` - –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –≤ –±–∞–π—Ç–∞—Ö

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç –±—É—Ñ–µ—Ä–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let buf = buffer(256);
print(buf.length);          // 256
print(buf.capacity);        // 256

// –î–æ—Å—Ç—É–ø —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü
buf[0] = 65;                // 'A'
buf[255] = 90;              // 'Z'
// buf[256] = 0;            // –û–®–ò–ë–ö–ê: –≤—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã

free(buf);
```

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.length` - –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä (i32)
- `.capacity` - –í—ã–¥–µ–ª–µ–Ω–Ω–∞—è —ë–º–∫–æ—Å—Ç—å (i32)

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–∞–º—è—Ç—å –Ω—É–ª—è–º–∏
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –≥—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è (–≤—ã–∑—ã–≤–∞—é—â–∏–π –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω –≤—Ä—É—á–Ω—É—é

---

### free

–û—Å–≤–æ–±–æ–¥–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
free(ptr: ptr | buffer): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –£–∫–∞–∑–∞—Ç–µ–ª—å –∏–ª–∏ –±—É—Ñ–µ—Ä –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –û—Å–≤–æ–±–æ–¥–∏—Ç—å —Å—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å
let p = alloc(1024);
free(p);

// –û—Å–≤–æ–±–æ–¥–∏—Ç—å –±—É—Ñ–µ—Ä
let buf = buffer(256);
free(buf);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å, –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é `alloc()` –∏–ª–∏ `buffer()`
- –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Ö (–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–±–µ–≥–∞—Ç—å)
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

**–í–∞–∂–Ω–æ:** –í—ã –≤—ã–¥–µ–ª—è–µ—Ç–µ - –≤—ã –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç–µ. –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏.

---

### realloc

–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
realloc(ptr: ptr, new_size: i32): ptr
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –£–∫–∞–∑–∞—Ç–µ–ª—å –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
- `new_size` - –ù–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–∞–º—è—Ç—å —Å –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º (–º–æ–∂–µ—Ç –±—ã—Ç—å –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let p = alloc(100);
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ ...

// –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞
p = realloc(p, 200);        // –¢–µ–ø–µ—Ä—å 200 –±–∞–π—Ç–æ–≤
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ ...

free(p);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ú–æ–∂–µ—Ç –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø–∞–º—è—Ç—å –Ω–∞ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ (–¥–æ –º–∏–Ω–∏–º—É–º–∞ –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ/–Ω–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)
- –°—Ç–∞—Ä—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ realloc (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å)
- –ï—Å–ª–∏ new_size –º–µ–Ω—å—à–µ, –¥–∞–Ω–Ω—ã–µ —É—Å–µ–∫–∞—é—Ç—Å—è
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è (–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –æ—Å—Ç–∞—ë—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º)

**–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ `null` –∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —É–∫–∞–∑–∞—Ç–µ–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

---

## –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é

### memset

–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞–º—è—Ç—å –±–∞–π—Ç–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
memset(ptr: ptr, byte: i32, size: i32): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–∞–º—è—Ç—å
- `byte` - –ë–∞–π—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è (0-255)
- `size` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let p = alloc(100);

// –û–±–Ω—É–ª–∏—Ç—å –ø–∞–º—è—Ç—å
memset(p, 0, 100);

// –ó–∞–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
memset(p, 0xFF, 100);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±—É—Ñ–µ—Ä
let buf = alloc(256);
memset(buf, 65, 256);       // –ó–∞–ø–æ–ª–Ω–∏—Ç—å 'A'

free(p);
free(buf);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –±–∞–π—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–∞–∂–¥—ã–π –±–∞–π—Ç –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- –ë–∞–π—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É—Å–µ–∫–∞–µ—Ç—Å—è –¥–æ 8 –±–∏—Ç (0-255)
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)

---

### memcpy

–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –≤ –º–µ—Å—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
memcpy(dest: ptr, src: ptr, size: i32): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `dest` - –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
- `src` - –£–∫–∞–∑–∞—Ç–µ–ª—å –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- `size` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let src = alloc(100);
let dest = alloc(100);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫
memset(src, 65, 100);

// –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –º–µ—Å—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
memcpy(dest, src, 100);

// dest —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ –∏ src

free(src);
free(dest);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ö–æ–ø–∏—Ä—É–µ—Ç –ø–æ–±–∞–π—Ç–æ–≤–æ –∏–∑ src –≤ dest
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)
- –ü–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –æ–±–ª–∞—Å—Ç–∏ –∏–º–µ—é—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ)

---

## –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é

### sizeof

–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–∏–ø–∞ –≤ –±–∞–π—Ç–∞—Ö.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
sizeof(type): i32
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type` - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∏–ø–∞ (–Ω–∞–ø—Ä., `i32`, `f64`, `ptr`)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –†–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö (i32)

**–†–∞–∑–º–µ—Ä—ã —Ç–∏–ø–æ–≤:**

| –¢–∏–ø | –†–∞–∑–º–µ—Ä (–±–∞–π—Ç—ã) |
|-----|----------------|
| `i8` | 1 |
| `i16` | 2 |
| `i32`, `integer` | 4 |
| `i64` | 8 |
| `u8`, `byte` | 1 |
| `u16` | 2 |
| `u32` | 4 |
| `u64` | 8 |
| `f32` | 4 |
| `f64`, `number` | 8 |
| `bool` | 1 |
| `ptr` | 8 |
| `rune` | 4 |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let int_size = sizeof(i32);      // 4
let ptr_size = sizeof(ptr);      // 8
let float_size = sizeof(f64);    // 8
let byte_size = sizeof(u8);      // 1
let rune_size = sizeof(rune);    // 4

// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–∞
let count = 100;
let total = sizeof(i32) * count; // 400 –±–∞–π—Ç–æ–≤
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 –¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–∞–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ç–∏–ø–æ–≤, —Ç–∞–∫ –∏ —Å—Ç—Ä–æ–∫–∏ —Ç–∏–ø–æ–≤

---

### talloc

–í—ã–¥–µ–ª–∏—Ç—å –º–∞—Å—Å–∏–≤ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
talloc(type, count: i32): ptr
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type` - –¢–∏–ø –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä., `i32`, `f64`, `ptr`)
- `count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤, –∏–ª–∏ `null` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = talloc(i32, 100);      // –ú–∞—Å—Å–∏–≤ –∏–∑ 100 i32 (400 –±–∞–π—Ç–æ–≤)
let floats = talloc(f64, 50);    // –ú–∞—Å—Å–∏–≤ –∏–∑ 50 f64 (400 –±–∞–π—Ç–æ–≤)
let bytes = talloc(u8, 1024);    // –ú–∞—Å—Å–∏–≤ –∏–∑ 1024 –±–∞–π—Ç–æ–≤

// –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ –Ω–µ—É–¥–∞—á—É –≤—ã–¥–µ–ª–µ–Ω–∏—è
if (arr == null) {
    panic("–≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å");
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏
// ...

free(arr);
free(floats);
free(bytes);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í—ã–¥–µ–ª—è–µ—Ç `sizeof(type) * count` –±–∞–π—Ç–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–∞–º—è—Ç—å
- –ü–∞–º—è—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞ –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é `free()`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è (–≤—ã–∑—ã–≤–∞—é—â–∏–π –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)
- –ü–∞–Ω–∏–∫—É–µ—Ç, –µ—Å–ª–∏ count –Ω–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π

---

## –°–≤–æ–π—Å—Ç–≤–∞ –±—É—Ñ–µ—Ä–∞

### .length

–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞.

**–¢–∏–ø:** `i32`

**–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let buf = buffer(256);
print(buf.length);          // 256

let buf2 = buffer(1024);
print(buf2.length);         // 1024
```

---

### .capacity

–ü–æ–ª—É—á–∏—Ç—å —ë–º–∫–æ—Å—Ç—å –±—É—Ñ–µ—Ä–∞.

**–¢–∏–ø:** `i32`

**–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let buf = buffer(256);
print(buf.capacity);        // 256
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è `.length` –∏ `.capacity` –æ–¥–∏–Ω–∞–∫–æ–≤—ã –¥–ª—è –±—É—Ñ–µ—Ä–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é `buffer()`.

---

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –≤—ã–¥–µ–ª–µ–Ω–∏—è

```hemlock
// –í—ã–¥–µ–ª–∏—Ç—å
let p = alloc(1024);
if (p == null) {
    panic("–≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å");
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
memset(p, 0, 1024);

// –û—Å–≤–æ–±–æ–¥–∏—Ç—å
free(p);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –±—É—Ñ–µ—Ä–∞

```hemlock
// –í—ã–¥–µ–ª–∏—Ç—å –±—É—Ñ–µ—Ä
let buf = buffer(256);
if (buf == null) {
    panic("–≤—ã–¥–µ–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ –Ω–µ —É–¥–∞–ª–æ—Å—å");
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü
let i = 0;
while (i < buf.length) {
    buf[i] = i;
    i = i + 1;
}

// –û—Å–≤–æ–±–æ–¥–∏—Ç—å
free(buf);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–æ—Å—Ç–∞

```hemlock
let size = 100;
let p = alloc(size);
if (p == null) {
    panic("–≤—ã–¥–µ–ª–µ–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å");
}

// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ ...

// –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –Ω–µ—É–¥–∞—á—É
let new_p = realloc(p, 200);
if (new_p == null) {
    // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –≤—Å—ë –µ—â—ë –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω, –æ—á–∏—Å—Ç–∏—Ç—å
    free(p);
    panic("realloc –Ω–µ —É–¥–∞–ª—Å—è");
}
p = new_p;
size = 200;

// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ ...

free(p);
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏

```hemlock
let original = alloc(100);
memset(original, 65, 100);

// –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é
let copy = alloc(100);
memcpy(copy, original, 100);

free(original);
free(copy);
```

---

## –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –≤ Hemlock –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û –ø–æ –∑–∞–º—ã—Å–ª—É:**

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

**1. –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏**
```hemlock
// –ü–õ–û–•–û: –£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏
fn create_buffer() {
    let p = alloc(1024);
    return null;  // –ü–∞–º—è—Ç—å —É—Ç–µ–∫–ª–∞!
}

// –•–û–†–û–®–û: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
fn create_buffer() {
    let p = alloc(1024);
    // ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ ...
    free(p);
    return null;
}
```

**2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è**
```hemlock
// –ü–õ–û–•–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
let p = alloc(100);
free(p);
memset(p, 0, 100);  // –ö–†–ê–•: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏

// –•–û–†–û–®–û: –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
let p2 = alloc(100);
memset(p2, 0, 100);
free(p2);
// –ù–µ —Ç—Ä–æ–≥–∞—Ç—å p2 –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ
```

**3. –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ**
```hemlock
// –ü–õ–û–•–û: –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
let p = alloc(100);
free(p);
free(p);  // –ö–†–ê–•: –¥–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ

// –•–û–†–û–®–û: –û—Å–≤–æ–±–æ–¥–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑
let p2 = alloc(100);
free(p2);
```

**4. –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ (ptr)**
```hemlock
// –ü–õ–û–•–û: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞ —Å ptr
let p = alloc(10);
memset(p, 65, 100);  // –ö–†–ê–•: –∑–∞–ø–∏—Å—å –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –≤—ã–¥–µ–ª–µ–Ω–∏—è

// –•–û–†–û–®–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å buffer –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü
let buf = buffer(10);
// buf[100] = 65;  // –û–®–ò–ë–ö–ê: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞
```

**5. –í–∏—Å—è—á–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏**
```hemlock
// –ü–õ–û–•–û: –í–∏—Å—è—á–∏–π —É–∫–∞–∑–∞—Ç–µ–ª—å
let p1 = alloc(100);
let p2 = p1;
free(p1);
memset(p2, 0, 100);  // –ö–†–ê–•: p2 –≤–∏—Å—è—á–∏–π

// –•–û–†–û–®–û: –¢—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤–ª–∞–¥–µ–Ω–∏–µ
let p = alloc(100);
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ p ...
free(p);
// –ù–µ —Ö—Ä–∞–Ω–∏—Ç—å –¥—Ä—É–≥–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ p
```

**6. –ù–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –Ω–µ—É–¥–∞—á–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è**
```hemlock
// –ü–õ–û–•–û: –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null
let p = alloc(1000000000);  // –ú–æ–∂–µ—Ç –Ω–µ —É–¥–∞—Ç—å—Å—è –ø—Ä–∏ –º–∞–ª–æ–π –ø–∞–º—è—Ç–∏
memset(p, 0, 1000000000);   // –ö–†–ê–•: p —Ä–∞–≤–µ–Ω null

// –•–û–†–û–®–û: –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è
let p2 = alloc(1000000000);
if (p2 == null) {
    panic("–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏");
}
memset(p2, 0, 1000000000);
free(p2);
```

---

## –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `buffer()` –∫–æ–≥–¥–∞:
- –ù—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
- –†–∞–±–æ—Ç–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –í–∞–∂–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ò–∑—É—á–∞–µ—Ç–µ Hemlock

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `alloc()` –∫–æ–≥–¥–∞:
- –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- FFI/–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å C
- –ó–Ω–∞–µ—Ç–µ —Ç–æ—á–Ω—É—é —Ä–∞—Å–∫–ª–∞–¥–∫—É –ø–∞–º—è—Ç–∏
- –í—ã —ç–∫—Å–ø–µ—Ä—Ç

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `realloc()` –∫–æ–≥–¥–∞:
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ/—É–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏–π
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã
- –ù—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

---

## –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

| –§—É–Ω–∫—Ü–∏—è   | –°–∏–≥–Ω–∞—Ç—É—Ä–∞                              | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                   |
|-----------|----------------------------------------|------------|----------------------------|
| `alloc`   | `(size: i32)`                          | `ptr`      | –í—ã–¥–µ–ª–∏—Ç—å —Å—ã—Ä—É—é –ø–∞–º—è—Ç—å      |
| `buffer`  | `(size: i32)`                          | `buffer`   | –í—ã–¥–µ–ª–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä  |
| `free`    | `(ptr: ptr \| buffer)`                 | `null`     | –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å          |
| `realloc` | `(ptr: ptr, new_size: i32)`            | `ptr`      | –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª–µ–Ω–∏—è  |
| `memset`  | `(ptr: ptr, byte: i32, size: i32)`     | `null`     | –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞–º—è—Ç—å           |
| `memcpy`  | `(dest: ptr, src: ptr, size: i32)`     | `null`     | –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å          |
| `sizeof`  | `(type)`                               | `i32`      | –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–∏–ø–∞       |
| `talloc`  | `(type, count: i32)`                   | `ptr`      | –í—ã–¥–µ–ª–∏—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ |

---

## –°–º. —Ç–∞–∫–∂–µ

- [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#reference-type-system) - –¢–∏–ø—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –±—É—Ñ–µ—Ä–æ–≤
- [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#reference-builtins) - –í—Å–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [API —Å—Ç—Ä–æ–∫](#reference-string-api) - –ú–µ—Ç–æ–¥ —Å—Ç—Ä–æ–∫ `.to_bytes()`


--------------------------------------------------------------------------------
## API –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ API –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å–∏—Å—Ç–µ–º–µ async/–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ Hemlock.

---

## –û–±–∑–æ—Ä

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º** —Å –∏—Å—Ç–∏–Ω–Ω—ã–º –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Ç–æ–∫–æ–≤ POSIX (pthreads). –ö–∞–∂–¥–∞—è –∑–∞–ø—É—â–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ –û–°, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Ä–µ–∞–ª—å–Ω–æ–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–¥—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å—Ç–∏–Ω–Ω—ã–π –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (–Ω–µ –∑–µ–ª—ë–Ω—ã–µ –ø–æ—Ç–æ–∫–∏)
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ó–∞–ø—É—Å–∫ –∏ –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–ú–æ–¥–µ–ª—å –ø–æ—Ç–æ–∫–æ–≤:**
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –û–° (POSIX pthreads)
- ‚úÖ –ò—Å—Ç–∏–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (–Ω–µ—Å–∫–æ–ª—å–∫–æ —è–¥–µ—Ä CPU)
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —è–¥—Ä–æ–º (–≤—ã—Ç–µ—Å–Ω—è—é—â–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å)
- ‚úÖ –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–º—å—é—Ç–µ–∫—Å—ã, —É—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

---

## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

–§—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω—ã –∫–∞–∫ `async`, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –æ–Ω–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```hemlock
async fn function_name(params): return_type {
    // —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏
}
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
async fn compute(n: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < n) {
        sum = sum + i;
        i = i + 1;
    }
    return sum;
}

async fn factorial(n: i32): i32 {
    if (n <= 1) { return 1; }
    return n * factorial(n - 1);
}

async fn process_data(data: string) {
    print("–û–±—Ä–∞–±–æ—Ç–∫–∞:", data);
    return null;
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- `async fn` –æ–±—ä—è–≤–ª—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
- –ú–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º –ø–æ—Ç–æ–∫–µ)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞ –∫–∞–∫ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ)
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –ø–æ—Ç–æ–∫–µ –û–°

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `await` –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –Ω–æ –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ.

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏

### spawn

–°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—É—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –∑–∞–¥–∞—á—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
spawn(async_fn: function, ...args): task
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `async_fn` - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `...args` - –ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
async fn compute(n: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < n) {
        sum = sum + i;
        i = i + 1;
    }
    return sum;
}

// –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏
let t = spawn(compute, 1000);
let result = join(t);
print(result);

// –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!)
let t1 = spawn(compute, 100);
let t2 = spawn(compute, 200);
let t3 = spawn(compute, 300);

// –í—Å–µ —Ç—Ä–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
let r1 = join(t1);
let r2 = join(t2);
let r3 = join(t3);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –ø–æ—Ç–æ–∫ –û–° —á–µ—Ä–µ–∑ `pthread_create()`
- –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è
- –ó–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–¥—Ä–∞—Ö CPU

---

### join

–î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
join(task: task): any
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `task` - –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏ –æ—Ç `spawn()`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
async fn factorial(n: i32): i32 {
    if (n <= 1) { return 1; }
    return n * factorial(n - 1);
}

let t = spawn(factorial, 10);
let result = join(t);  // –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
print(result);         // 3628800
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–µ–∫—É—â–∏–π –ø–æ—Ç–æ–∫ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â—ë–Ω–Ω–æ–µ –∑–∞–¥–∞—á–µ–π
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤—ã–±—Ä–æ—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–µ–π
- –û—á–∏—â–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –∑–∞–¥–∞—á–∏ –ø–æ—Å–ª–µ –≤–æ–∑–≤—Ä–∞—Ç–∞

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```hemlock
async fn risky_operation(should_fail: i32): i32 {
    if (should_fail == 1) {
        throw "–ó–∞–¥–∞—á–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å!";
    }
    return 42;
}

let t = spawn(risky_operation, 1);
try {
    let result = join(t);
} catch (e) {
    print("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ:", e);  // "–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ: –ó–∞–¥–∞—á–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å!"
}
```

---

### detach

–û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∑–∞–¥–∞—á—É (–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É "–∑–∞–ø—É—Å—Ç–∏–ª –∏ –∑–∞–±—ã–ª").

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
detach(task: task): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `task` - –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∑–∞–¥–∞—á–∏ –æ—Ç `spawn()`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
async fn background_work() {
    print("–†–∞–±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ...");
    return null;
}

let t = spawn(background_work);
detach(t);  // –ó–∞–¥–∞—á–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

// –ù–µ–ª—å–∑—è –∂–¥–∞—Ç—å –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—É—é –∑–∞–¥–∞—á—É
// join(t);  // –û–®–ò–ë–ö–ê
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–¥–∞—á–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `join()` –¥–ª—è –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
- –ó–∞–¥–∞—á–∞ –∏ –ø–æ—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É "–∑–∞–ø—É—Å—Ç–∏–ª –∏ –∑–∞–±—ã–ª"
- –ó–∞–¥–∞—á–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è/–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –ó–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–º –Ω–µ –Ω—É–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è

---

## –ö–∞–Ω–∞–ª—ã

–ö–∞–Ω–∞–ª—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—É—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏.

### channel

–°–æ–∑–¥–∞—Ç—å –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
channel(capacity: i32): channel
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `capacity` - –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç –∫–∞–Ω–∞–ª–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let ch = channel(10);  // –ë—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª —Å —ë–º–∫–æ—Å—Ç—å—é 10
let ch2 = channel(1);  // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
let ch3 = channel(100); // –ë–æ–ª—å—à–æ–π –±—É—Ñ–µ—Ä
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—ë—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º—å—é—Ç–µ–∫—Å—ã pthread –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –Å–º–∫–æ—Å—Ç—å —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

---

### –ú–µ—Ç–æ–¥—ã –∫–∞–Ω–∞–ª–∞

#### send

–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª (–±–ª–æ–∫–∏—Ä—É–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª–æ–Ω).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
channel.send(value: any): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–ª—é–±–æ–π —Ç–∏–ø)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
async fn producer(ch, count: i32) {
    let i = 0;
    while (i < count) {
        ch.send(i * 10);
        i = i + 1;
    }
    ch.close();
    return null;
}

let ch = channel(10);
let t = spawn(producer, ch, 5);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –ø–æ–ª–æ–Ω
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º—å—é—Ç–µ–∫—Å)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–Ω–∞—á–µ–Ω–∏—è

---

#### recv

–ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ (–±–ª–æ–∫–∏—Ä—É–µ—Ç, –µ—Å–ª–∏ –ø—É—Å—Ç).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
channel.recv(): any
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ `null`, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç –∏ –ø—É—Å—Ç

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
async fn consumer(ch, count: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < count) {
        let val = ch.recv();
        sum = sum + val;
        i = i + 1;
    }
    return sum;
}

let ch = channel(10);
let t = spawn(consumer, ch, 5);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –ø—É—Å—Ç
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç –∏ –ø—É—Å—Ç
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º—å—é—Ç–µ–∫—Å)

---

#### close

–ó–∞–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª (–æ—Ç–ø—Ä–∞–≤–∫–∞ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
channel.close(): null
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
async fn producer(ch) {
    ch.send(1);
    ch.send(2);
    ch.send(3);
    ch.close();  // –°–∏–≥–Ω–∞–ª –æ —Ç–æ–º, —á—Ç–æ –±–æ–ª—å—à–µ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ—Ç
    return null;
}

async fn consumer(ch) {
    while (true) {
        let val = ch.recv();
        if (val == null) {
            break;  // –ö–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç
        }
        print(val);
    }
    return null;
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–Ω–∞–ª
- –û—Ç–ø—Ä–∞–≤–∫–∞ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞
- `recv()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`, –∫–æ–≥–¥–∞ –∫–∞–Ω–∞–ª –ø—É—Å—Ç
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ

---

## –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

### –ü–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å-–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å

```hemlock
async fn producer(ch, count: i32) {
    let i = 0;
    while (i < count) {
        print("–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ:", i);
        ch.send(i * 10);
        i = i + 1;
    }
    ch.close();
    return null;
}

async fn consumer(ch, count: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < count) {
        let val = ch.recv();
        print("–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ:", val);
        sum = sum + val;
        i = i + 1;
    }
    return sum;
}

// –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª
let ch = channel(10);

// –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
let p = spawn(producer, ch, 5);
let c = spawn(consumer, ch, 5);

// –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
join(p);
let total = join(c);
print("–ò—Ç–æ–≥–æ:", total);  // 0+10+20+30+40 = 100
```

---

## –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á

```hemlock
async fn factorial(n: i32): i32 {
    if (n <= 1) { return 1; }
    return n * factorial(n - 1);
}

// –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á (–≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!)
let t1 = spawn(factorial, 5);   // –ü–æ—Ç–æ–∫ 1
let t2 = spawn(factorial, 6);   // –ü–æ—Ç–æ–∫ 2
let t3 = spawn(factorial, 7);   // –ü–æ—Ç–æ–∫ 3
let t4 = spawn(factorial, 8);   // –ü–æ—Ç–æ–∫ 4

// –í—Å–µ —á–µ—Ç—ã—Ä–µ –≤—ã—á–∏—Å–ª—è—é—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!

// –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
let f5 = join(t1);  // 120
let f6 = join(t2);  // 720
let f7 = join(t3);  // 5040
let f8 = join(t4);  // 40320

print(f5, f6, f7, f8);
```

---

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á–∏

### –ü–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π

1. **–°–æ–∑–¥–∞–Ω–∞** - –ó–∞–¥–∞—á–∞ –∑–∞–ø—É—â–µ–Ω–∞, –Ω–æ –µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
2. **–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è** - –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –ø–æ—Ç–æ–∫–µ –û–°
3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∞** - –ó–∞–¥–∞—á–∞ –∑–∞–∫–æ–Ω—á–µ–Ω–∞ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ—Å—Ç—É–ø–µ–Ω)
4. **–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∞** - –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ª—É—á–µ–Ω, —Ä–µ—Å—É—Ä—Å—ã –æ—á–∏—â–µ–Ω—ã
5. **–û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∞** - –ó–∞–¥–∞—á–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

### –ü—Ä–∏–º–µ—Ä –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```hemlock
async fn work(n: i32): i32 {
    return n * 2;
}

// 1. –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
let t = spawn(work, 21);  // –°–æ—Å—Ç–æ—è–Ω–∏–µ: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

// –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ...

// 2. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
let result = join(t);     // –°–æ—Å—Ç–æ—è–Ω–∏–µ: –ó–∞–≤–µ—Ä—à–µ–Ω–∞ ‚Üí –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∞
print(result);            // 42

// –†–µ—Å—É—Ä—Å—ã –∑–∞–¥–∞—á–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø–æ—Å–ª–µ join
```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏

```hemlock
async fn background() {
    print("–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è");
    return null;
}

// 1. –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
let t = spawn(background);  // –°–æ—Å—Ç–æ—è–Ω–∏–µ: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

// 2. –û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
detach(t);                  // –°–æ—Å—Ç–æ—è–Ω–∏–µ: –û—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∞

// –ó–∞–¥–∞—á–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
// –†–µ—Å—É—Ä—Å—ã –æ—á–∏—â–∞—é—Ç—Å—è –û–° –ø–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–ò—Å–∫–ª—é—á–µ–Ω–∏—è, –≤—ã–±—Ä–æ—à–µ–Ω–Ω—ã–µ –≤ –∑–∞–¥–∞—á–∞—Ö, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏:

```hemlock
async fn risky_operation(should_fail: i32): i32 {
    if (should_fail == 1) {
        throw "–ó–∞–¥–∞—á–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å!";
    }
    return 42;
}

// –ó–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
let t1 = spawn(risky_operation, 0);
let result1 = join(t1);  // 42

// –ó–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è —Ç–µ—Ä–ø–∏—Ç –Ω–µ—É–¥–∞—á—É
let t2 = spawn(risky_operation, 1);
try {
    let result2 = join(t2);
} catch (e) {
    print("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ:", e);  // "–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ: –ó–∞–¥–∞—á–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å!"
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á

```hemlock
async fn work(id: i32, should_fail: i32): i32 {
    if (should_fail == 1) {
        throw "–ó–∞–¥–∞—á–∞ " + typeof(id) + " –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å";
    }
    return id * 10;
}

let t1 = spawn(work, 1, 0);
let t2 = spawn(work, 2, 1);  // –ü—Ä–æ–≤–∞–ª–∏—Ç—Å—è
let t3 = spawn(work, 3, 0);

// –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
try {
    let r1 = join(t1);  // OK
    print("–ó–∞–¥–∞—á–∞ 1:", r1);

    let r2 = join(t2);  // –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç
    print("–ó–∞–¥–∞—á–∞ 2:", r2);  // –ù–µ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è
} catch (e) {
    print("–û—à–∏–±–∫–∞:", e);  // "–û—à–∏–±–∫–∞: –ó–∞–¥–∞—á–∞ 2 –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å"
}

// –ú–æ–∂–Ω–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –æ—Å—Ç–∞–≤—à—É—é—Å—è –∑–∞–¥–∞—á—É
let r3 = join(t3);
print("–ó–∞–¥–∞—á–∞ 3:", r3);
```

---

## –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ò—Å—Ç–∏–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

```hemlock
async fn cpu_intensive(n: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < n) {
        sum = sum + i;
        i = i + 1;
    }
    return sum;
}

// –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
let start = get_time();
let r1 = cpu_intensive(10000000);
let r2 = cpu_intensive(10000000);
let sequential_time = get_time() - start;

// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
let start2 = get_time();
let t1 = spawn(cpu_intensive, 10000000);
let t2 = spawn(cpu_intensive, 10000000);
join(t1);
join(t2);
let parallel_time = get_time() - start2;

// parallel_time –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~50% –æ—Ç sequential_time –Ω–∞ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
```

**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- N –∑–∞–¥–∞—á –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å N —è–¥–µ—Ä CPU –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 8-9x CPU-–≤—Ä–µ–º—è –ø—Ä–æ—Ç–∏–≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞)
- –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–æ—Ç–æ–∫: ~8–ö–ë —Å—Ç–µ–∫ + –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã pthread –Ω–∞ –∑–∞–¥–∞—á—É
- –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–µ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥—Ä—É–≥–∏–µ

---

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ú–æ–¥–µ–ª—å –ø–æ—Ç–æ–∫–æ–≤

- **–ü–æ—Ç–æ–∫–∏ 1:1** - –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ = 1 –ø–æ—Ç–æ–∫ –û–° (`pthread`)
- **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —è–¥—Ä–æ–º** - –Ø–¥—Ä–æ –û–° —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ç–æ–∫–∏ –ø–æ —è–¥—Ä–∞–º
- **–í—ã—Ç–µ—Å–Ω—è—é—â–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å** - –û–° –º–æ–∂–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø–æ—Ç–æ–∫–∏
- **–ù–µ—Ç GIL** - –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Python)

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

- **–ú—å—é—Ç–µ–∫—Å—ã** - –ö–∞–Ω–∞–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `pthread_mutex_t`
- **–£—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** - –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ send/recv –∏—Å–ø–æ–ª—å–∑—É—é—Ç `pthread_cond_t`
- **–ë–µ–∑–±–ª–æ–∫–∏—Ä–æ–≤–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - –ü–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–¥–∞—á–∏ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ

### –ü–∞–º—è—Ç—å –∏ –æ—á–∏—Å—Ç–∫–∞

- **–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø–æ—Å–ª–µ `join()`
- **–û—Ç—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- **–ö–∞–Ω–∞–ª—ã** - –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫, –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –∫–æ–≥–¥–∞ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–µ—Ç `select()` –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤
- –ù–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —Å –ø–µ—Ä–µ—Ö–≤–∞—Ç–æ–º —Ä–∞–±–æ—Ç—ã (1 –ø–æ—Ç–æ–∫ –Ω–∞ –∑–∞–¥–∞—á—É)
- –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –≤–≤–æ–¥–æ–º-–≤—ã–≤–æ–¥–æ–º (—Ñ–∞–π–ª–æ–≤—ã–µ/—Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç)
- –Å–º–∫–æ—Å—Ç—å –∫–∞–Ω–∞–ª–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏

---

## –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ API

### –§—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è   | –°–∏–≥–Ω–∞—Ç—É—Ä–∞                         | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|-----------|-----------------------------------|------------|--------------------------------|
| `spawn`   | `(async_fn: function, ...args)`   | `task`     | –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É     |
| `join`    | `(task: task)`                    | `any`      | –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–¥–∞—á–∏, –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
| `detach`  | `(task: task)`                    | `null`     | –û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∑–∞–¥–∞—á—É             |
| `channel` | `(capacity: i32)`                 | `channel`  | –°–æ–∑–¥–∞—Ç—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª |

### –ú–µ—Ç–æ–¥—ã –∫–∞–Ω–∞–ª–∞

| –ú–µ—Ç–æ–¥   | –°–∏–≥–Ω–∞—Ç—É—Ä–∞       | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|---------|-----------------|------------|----------------------------------|
| `send`  | `(value: any)`  | `null`     | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ (–±–ª–æ–∫–∏—Ä—É–µ—Ç –µ—Å–ª–∏ –ø–æ–ª–æ–Ω) |
| `recv`  | `()`            | `any`      | –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ (–±–ª–æ–∫–∏—Ä—É–µ—Ç –µ—Å–ª–∏ –ø—É—Å—Ç) |
| `close` | `()`            | `null`     | –ó–∞–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª                    |

### –¢–∏–ø—ã

| –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ                             |
|-----------|--------------------------------------|
| `task`    | –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–∏       |
| `channel` | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏  |

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª—ã –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏
‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –æ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
‚úÖ –ó–∞–∫—Ä—ã–≤–∞—Ç—å –∫–∞–Ω–∞–ª—ã –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `join()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –æ—á–∏—Å—Ç–∫–∏
‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ async —Ñ—É–Ω–∫—Ü–∏–∏

### –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

‚ùå –ù–µ —Ä–∞–∑–¥–µ–ª—è—Ç—å –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
‚ùå –ù–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∑–∞–¥–∞—á—É –¥–≤–∞–∂–¥—ã
‚ùå –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–µ –∫–∞–Ω–∞–ª—ã
‚ùå –ù–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ-async —Ñ—É–Ω–∫—Ü–∏–∏
‚ùå –ù–µ –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ (–µ—Å–ª–∏ –Ω–µ –æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω—ã)

---

## –°–º. —Ç–∞–∫–∂–µ

- [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#reference-builtins) - `spawn()`, `join()`, `detach()`, `channel()`
- [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#reference-type-system) - –¢–∏–ø—ã task –∏ channel


--------------------------------------------------------------------------------
## API —Å—Ç—Ä–æ–∫
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ API —Å—Ç—Ä–æ–∫

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–æ–∫ Hemlock –∏ –≤—Å–µ–º 19 –º–µ—Ç–æ–¥–∞–º —Å—Ç—Ä–æ–∫.

---

## –û–±–∑–æ—Ä

–°—Ç—Ä–æ–∫–∏ –≤ Hemlock ‚Äî —ç—Ç–æ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8, –∏–∑–º–µ–Ω—è–µ–º—ã–µ, —Ä–∞–∑–º–µ—â–∞–µ–º—ã–µ –≤ –∫—É—á–µ**, —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Unicode. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å **–∫–æ–¥–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏** (—Å–∏–º–≤–æ–ª–∞–º–∏), –∞ –Ω–µ –±–∞–π—Ç–∞–º–∏.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ö–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8 (U+0000 –¥–æ U+10FFFF)
- –ò–∑–º–µ–Ω—è–µ–º—ã–µ (–º–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã –Ω–∞ –º–µ—Å—Ç–µ)
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫
- 19 –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º `+`

---

## –¢–∏–ø —Å—Ç—Ä–æ–∫–∏

**–¢–∏–ø:** `string`

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ (—Å–∏–º–≤–æ–ª–æ–≤)
- `.byte_length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ UTF-8

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–∏—Ç–µ—Ä–∞–ª–∞:** –î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ `"—Ç–µ–∫—Å—Ç"`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
print(s.length);        // 5 (–∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫)
print(s.byte_length);   // 5 (–±–∞–π—Ç–æ–≤)

let emoji = "üöÄ";
print(emoji.length);        // 1 (–æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)
print(emoji.byte_length);   // 4 (—á–µ—Ç—ã—Ä–µ –±–∞–π—Ç–∞ UTF-8)
```

---

## –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è

–°—Ç—Ä–æ–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `[]`:

**–ß—Ç–µ–Ω–∏–µ:**
```hemlock
let s = "hello";
let ch = s[0];          // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä—É–Ω—É 'h'
```

**–ó–∞–ø–∏—Å—å:**
```hemlock
let s = "hello";
s[0] = 'H';             // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä—É–Ω–æ–π (—Ç–µ–ø–µ—Ä—å "Hello")
```

**–ü—Ä–∏–º–µ—Ä UTF-8:**
```hemlock
let text = "HiüöÄ!";
print(text[0]);         // 'H'
print(text[1]);         // 'i'
print(text[2]);         // 'üöÄ' (–æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)
print(text[3]);         // '!'
```

---

## –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä `+` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –∏ —Ä—É–Ω:

**–°—Ç—Ä–æ–∫–∞ + –°—Ç—Ä–æ–∫–∞:**
```hemlock
let s = "hello" + " " + "world";  // "hello world"
let msg = "Count: " + typeof(42); // "Count: 42"
```

**–°—Ç—Ä–æ–∫–∞ + –†—É–Ω–∞:**
```hemlock
let greeting = "Hello" + '!';      // "Hello!"
let decorated = "Text" + '‚úì';      // "Text‚úì"
```

**–†—É–Ω–∞ + –°—Ç—Ä–æ–∫–∞:**
```hemlock
let prefix = '>' + " Message";     // "> Message"
let bullet = '‚Ä¢' + " Item";        // "‚Ä¢ Item"
```

**–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è:**
```hemlock
let msg = "Hi " + 'üëã' + " World " + 'üåç';  // "Hi üëã World üåç"
```

---

## –°–≤–æ–π—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫–∏

### .length

–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ Unicode (—Å–∏–º–≤–æ–ª–æ–≤).

**–¢–∏–ø:** `i32`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
print(s.length);        // 5

let emoji = "üöÄ";
print(emoji.length);    // 1 (–æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)

let text = "Hello üåç!";
print(text.length);     // 8 (7 ASCII + 1 —ç–º–æ–¥–∑–∏)
```

---

### .byte_length

–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ UTF-8.

**–¢–∏–ø:** `i32`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
print(s.byte_length);   // 5 (1 –±–∞–π—Ç –Ω–∞ —Å–∏–º–≤–æ–ª ASCII)

let emoji = "üöÄ";
print(emoji.byte_length); // 4 (—ç–º–æ–¥–∑–∏ –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞ UTF-8)

let text = "Hello üåç!";
print(text.byte_length);  // 11 (7 ASCII + 4 –¥–ª—è —ç–º–æ–¥–∑–∏)
```

---

## –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫

### –ü–æ–¥—Å—Ç—Ä–æ–∫–∞ –∏ —Å—Ä–µ–∑—ã

#### substr

–ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –ø–æ–∑–∏—Ü–∏–∏ –∏ –¥–ª–∏–Ω–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.substr(start: i32, length: i32): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` - –ù–∞—á–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ (—Å 0)
- `length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let sub = s.substr(6, 5);       // "world"
let first = s.substr(0, 5);     // "hello"

// –ü—Ä–∏–º–µ—Ä UTF-8
let text = "HiüöÄ!";
let emoji = text.substr(2, 1);  // "üöÄ"
```

---

#### slice

–ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É (–∫–æ–Ω–µ—Ü –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.slice(start: i32, end: i32): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `start` - –ù–∞—á–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ (—Å 0)
- `end` - –ö–æ–Ω–µ—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ (–Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let sub = s.slice(0, 5);        // "hello"
let world = s.slice(6, 11);     // "world"

// –ü—Ä–∏–º–µ—Ä UTF-8
let text = "HiüöÄ!";
let first_three = text.slice(0, 3);  // "HiüöÄ"
```

---

### –ü–æ–∏—Å–∫

#### find

–ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.find(needle: string): i32
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `needle` - –ò—Å–∫–æ–º–∞—è –ø–æ–¥—Å—Ç—Ä–æ–∫–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ò–Ω–¥–µ–∫—Å –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –∏–ª–∏ `-1`, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let pos = s.find("world");      // 6
let pos2 = s.find("foo");       // -1 (–Ω–µ –Ω–∞–π–¥–µ–Ω–æ)
let pos3 = s.find("l");         // 2 (–ø–µ—Ä–≤–∞—è 'l')
```

---

#### contains

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥—Å—Ç—Ä–æ–∫—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.contains(needle: string): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `needle` - –ò—Å–∫–æ–º–∞—è –ø–æ–¥—Å—Ç—Ä–æ–∫–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `true`, –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ, `false` –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let has = s.contains("world");  // true
let has2 = s.contains("foo");   // false
```

---

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ

#### split

–†–∞–∑–¥–µ–ª–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –º–∞—Å—Å–∏–≤ –ø–æ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—é.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.split(delimiter: string): array
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `delimiter` - –°—Ç—Ä–æ–∫–∞-—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let csv = "a,b,c";
let parts = csv.split(",");     // ["a", "b", "c"]

let path = "/usr/local/bin";
let dirs = path.split("/");     // ["", "usr", "local", "bin"]

let text = "hello world foo";
let words = text.split(" ");    // ["hello", "world", "foo"]
```

---

#### trim

–£–¥–∞–ª–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –∏ –∫–æ–Ω–µ—á–Ω—ã–µ –ø—Ä–æ–±–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.trim(): string
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "  hello  ";
let clean = s.trim();           // "hello"

let text = "\n\t  world  \n";
let clean2 = text.trim();       // "world"
```

---

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞

#### to_upper

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.to_upper(): string
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ –≤–µ—Ä—Ö–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let upper = s.to_upper();       // "HELLO WORLD"

let mixed = "HeLLo";
let upper2 = mixed.to_upper();  // "HELLO"
```

---

#### to_lower

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.to_lower(): string
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "HELLO WORLD";
let lower = s.to_lower();       // "hello world"

let mixed = "HeLLo";
let lower2 = mixed.to_lower();  // "hello"
```

---

### –ü—Ä–µ—Ñ–∏–∫—Å –∏ —Å—É—Ñ—Ñ–∏–∫—Å

#### starts_with

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.starts_with(prefix: string): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `prefix` - –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–π –ø—Ä–µ—Ñ–∏–∫—Å

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `true`, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞, `false` –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let starts = s.starts_with("hello");  // true
let starts2 = s.starts_with("world"); // false
```

---

#### ends_with

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ —Å—É—Ñ—Ñ–∏–∫—Å–æ–º.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.ends_with(suffix: string): bool
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `suffix` - –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–π —Å—É—Ñ—Ñ–∏–∫—Å

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `true`, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å—É—Ñ—Ñ–∏–∫—Å–æ–º, `false` –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let ends = s.ends_with("world");      // true
let ends2 = s.ends_with("hello");     // false
```

---

### –ó–∞–º–µ–Ω–∞

#### replace

–ó–∞–º–µ–Ω–∏—Ç—å –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.replace(old: string, new: string): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `old` - –ó–∞–º–µ–Ω—è–µ–º–∞—è –ø–æ–¥—Å—Ç—Ä–æ–∫–∞
- `new` - –°—Ç—Ä–æ–∫–∞ –¥–ª—è –∑–∞–º–µ–Ω—ã

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –∑–∞–º–µ–Ω—ë–Ω–Ω—ã–º –ø–µ—Ä–≤—ã–º –≤—Ö–æ–∂–¥–µ–Ω–∏–µ–º

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello world";
let s2 = s.replace("world", "there");  // "hello there"

let text = "foo foo foo";
let text2 = text.replace("foo", "bar"); // "bar foo foo" (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ)
```

---

#### replace_all

–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ–¥—Å—Ç—Ä–æ–∫–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.replace_all(old: string, new: string): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `old` - –ó–∞–º–µ–Ω—è–µ–º–∞—è –ø–æ–¥—Å—Ç—Ä–æ–∫–∞
- `new` - –°—Ç—Ä–æ–∫–∞ –¥–ª—è –∑–∞–º–µ–Ω—ã

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É —Å–æ –≤—Å–µ–º–∏ –∑–∞–º–µ–Ω—ë–Ω–Ω—ã–º–∏ –≤—Ö–æ–∂–¥–µ–Ω–∏—è–º–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let text = "foo foo foo";
let text2 = text.replace_all("foo", "bar"); // "bar bar bar"

let s = "hello world hello";
let s2 = s.replace_all("hello", "hi");      // "hi world hi"
```

---

### –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ

#### repeat

–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å—Ç—Ä–æ–∫—É n —Ä–∞–∑.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.repeat(count: i32): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é —Å—Ç—Ä–æ–∫—É, –ø–æ–≤—Ç–æ—Ä—ë–Ω–Ω—É—é count —Ä–∞–∑

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "ha";
let repeated = s.repeat(3);     // "hahaha"

let line = "-";
let separator = line.repeat(40); // "----------------------------------------"
```

---

### –î–æ—Å—Ç—É–ø –∫ —Å–∏–º–≤–æ–ª–∞–º

#### char_at

–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É Unicode –ø–æ –∏–Ω–¥–µ–∫—Å—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.char_at(index: i32): rune
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `index` - –ò–Ω–¥–µ–∫—Å –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ (—Å 0)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –†—É–Ω—É (–∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É Unicode)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
let ch = s.char_at(0);          // 'h'
let ch2 = s.char_at(1);         // 'e'

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "üöÄ";
let ch3 = emoji.char_at(0);     // U+1F680 (—Ä–∞–∫–µ—Ç–∞)
```

---

#### chars

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –º–∞—Å—Å–∏–≤ —Ä—É–Ω.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.chars(): array
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ú–∞—Å—Å–∏–≤ —Ä—É–Ω (–∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
let chars = s.chars();          // ['h', 'e', 'l', 'l', 'o']

// –ü—Ä–∏–º–µ—Ä UTF-8
let text = "HiüöÄ!";
let chars2 = text.chars();      // ['H', 'i', 'üöÄ', '!']
```

---

### –î–æ—Å—Ç—É–ø –∫ –±–∞–π—Ç–∞–º

#### byte_at

–ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–π—Ç–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.byte_at(index: i32): u8
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `index` - –ò–Ω–¥–µ–∫—Å –±–∞–π—Ç–∞ (—Å 0, –ù–ï –∏–Ω–¥–µ–∫—Å –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ó–Ω–∞—á–µ–Ω–∏–µ –±–∞–π—Ç–∞ (u8)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
let byte = s.byte_at(0);        // 104 (ASCII 'h')
let byte2 = s.byte_at(1);       // 101 (ASCII 'e')

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "üöÄ";
let byte3 = emoji.byte_at(0);   // 240 (–ø–µ—Ä–≤—ã–π –±–∞–π—Ç UTF-8)
```

---

#### bytes

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.bytes(): array
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ú–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤ u8

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
let bytes = s.bytes();          // [104, 101, 108, 108, 111]

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "üöÄ";
let bytes2 = emoji.bytes();     // [240, 159, 154, 128] (4 –±–∞–π—Ç–∞ UTF-8)
```

---

#### to_bytes

–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ –±—É—Ñ–µ—Ä.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.to_bytes(): buffer
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ë—É—Ñ–µ—Ä, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –±–∞–π—Ç—ã UTF-8

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
let buf = s.to_bytes();
print(buf.length);              // 5

// –ü—Ä–∏–º–µ—Ä UTF-8
let emoji = "üöÄ";
let buf2 = emoji.to_bytes();
print(buf2.length);             // 4
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥. –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.bytes()` –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤.

---

### –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON

#### deserialize

–†–∞–∑–æ–±—Ä–∞—Ç—å JSON-—Å—Ç—Ä–æ–∫—É –≤ –∑–Ω–∞—á–µ–Ω–∏–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
string.deserialize(): any
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –†–∞–∑–æ–±—Ä–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–æ–±—ä–µ–∫—Ç, –º–∞—Å—Å–∏–≤, —á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞, bool –∏–ª–∏ null)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let json = '{"x":10,"y":20}';
let obj = json.deserialize();
print(obj.x);                   // 10
print(obj.y);                   // 20

let arr_json = '[1,2,3]';
let arr = arr_json.deserialize();
print(arr[0]);                  // 1

let num_json = '42';
let num = num_json.deserialize();
print(num);                     // 42
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã:**
- –û–±—ä–µ–∫—Ç—ã: `{"key": value}`
- –ú–∞—Å—Å–∏–≤—ã: `[1, 2, 3]`
- –ß–∏—Å–ª–∞: `42`, `3.14`
- –°—Ç—Ä–æ–∫–∏: `"text"`
- –ë—É–ª–µ–≤—ã: `true`, `false`
- Null: `null`

**–°–º. —Ç–∞–∫–∂–µ:** –ú–µ—Ç–æ–¥ `.serialize()` –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤

---

## –¶–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤

–ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤ —Ü–µ–ø–æ—á–∫–∏ –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏:

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let result = "  Hello World  "
    .trim()
    .to_lower()
    .replace("world", "hemlock");  // "hello hemlock"

let processed = "foo,bar,baz"
    .split(",")
    .join(" | ");                  // "foo | bar | baz"

let cleaned = "  HELLO  "
    .trim()
    .to_lower();                   // "hello"
```

---

## –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥          | –°–∏–≥–Ω–∞—Ç—É—Ä–∞                                    | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|----------------|----------------------------------------------|------------|---------------------------------------|
| `substr`       | `(start: i32, length: i32)`                  | `string`   | –ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –ø–æ–∑–∏—Ü–∏–∏/–¥–ª–∏–Ω–µ    |
| `slice`        | `(start: i32, end: i32)`                     | `string`   | –ò–∑–≤–ª–µ—á—å –ø–æ–¥—Å—Ç—Ä–æ–∫—É –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É        |
| `find`         | `(needle: string)`                           | `i32`      | –ù–∞–π—Ç–∏ –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ (-1 –µ—Å–ª–∏ –Ω–µ—Ç)  |
| `contains`     | `(needle: string)`                           | `bool`     | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏           |
| `split`        | `(delimiter: string)`                        | `array`    | –†–∞–∑–¥–µ–ª–∏—Ç—å –≤ –º–∞—Å—Å–∏–≤                    |
| `trim`         | `()`                                         | `string`   | –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–±–µ–ª—ã                       |
| `to_upper`     | `()`                                         | `string`   | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä       |
| `to_lower`     | `()`                                         | `string`   | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä        |
| `starts_with`  | `(prefix: string)`                           | `bool`     | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—á–∞–ª–æ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞           |
| `ends_with`    | `(suffix: string)`                           | `bool`     | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å–æ–º         |
| `replace`      | `(old: string, new: string)`                 | `string`   | –ó–∞–º–µ–Ω–∏—Ç—å –ø–µ—Ä–≤–æ–µ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ             |
| `replace_all`  | `(old: string, new: string)`                 | `string`   | –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è                |
| `repeat`       | `(count: i32)`                               | `string`   | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å—Ç—Ä–æ–∫—É n —Ä–∞–∑                |
| `char_at`      | `(index: i32)`                               | `rune`     | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥–æ–≤—É—é —Ç–æ—á–∫—É –ø–æ –∏–Ω–¥–µ–∫—Å—É     |
| `byte_at`      | `(index: i32)`                               | `u8`       | –ü–æ–ª—É—á–∏—Ç—å –±–∞–π—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É              |
| `chars`        | `()`                                         | `array`    | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤ —Ä—É–Ω            |
| `bytes`        | `()`                                         | `array`    | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –º–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤         |
| `to_bytes`     | `()`                                         | `buffer`   | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π)    |
| `deserialize`  | `()`                                         | `any`      | –†–∞–∑–æ–±—Ä–∞—Ç—å JSON-—Å—Ç—Ä–æ–∫—É                 |

---

## –°–º. —Ç–∞–∫–∂–µ

- [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#reference-type-system) - –î–µ—Ç–∞–ª–∏ —Ç–∏–ø–∞ —Å—Ç—Ä–æ–∫–∏
- [API –º–∞—Å—Å–∏–≤–æ–≤](#reference-array-api) - –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ split()
- [–û–ø–µ—Ä–∞—Ç–æ—Ä—ã](#reference-operators) - –û–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫


--------------------------------------------------------------------------------
## API —Ñ–∞–π–ª–æ–≤
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ API —Ñ–∞–π–ª–æ–≤

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å–∏—Å—Ç–µ–º–µ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ —Ñ–∞–π–ª–æ–≤ Hemlock.

---

## –û–±–∑–æ—Ä

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **API —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤** –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –Ω–∞–¥–ª–µ–∂–∞—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–∞–º–∏. –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –§–∞–π–ª–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏
- –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∏ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (–±–µ–∑ RAII)

---

## –¢–∏–ø —Ñ–∞–π–ª–∞

**–¢–∏–ø:** `file`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

**–°–≤–æ–π—Å—Ç–≤–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è):**
- `.path` - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É (string)
- `.mode` - –†–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è (string)
- `.closed` - –ó–∞–∫—Ä—ã—Ç –ª–∏ —Ñ–∞–π–ª (bool)

---

## –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–æ–≤

### open

–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –¥–ª—è —á—Ç–µ–Ω–∏—è, –∑–∞–ø–∏—Å–∏ –∏–ª–∏ –æ–±–æ–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
open(path: string, mode?: string): file
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `path` - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π)
- `mode` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –†–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `"r"`)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –§–∞–π–ª–æ–≤—ã–π –æ–±—ä–µ–∫—Ç

**–†–µ–∂–∏–º—ã:**
- `"r"` - –ß—Ç–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `"w"` - –ó–∞–ø–∏—Å—å (–æ—á–∏—Å—Ç–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞)
- `"a"` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ
- `"r+"` - –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å
- `"w+"` - –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å (–æ—á–∏—Å—Ç–∫–∞)
- `"a+"` - –ß—Ç–µ–Ω–∏–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –†–µ–∂–∏–º —á—Ç–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
let f = open("data.txt");
let f_read = open("data.txt", "r");

// –†–µ–∂–∏–º –∑–∞–ø–∏—Å–∏ (–æ—á–∏—Å—Ç–∫–∞)
let f_write = open("output.txt", "w");

// –†–µ–∂–∏–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
let f_append = open("log.txt", "a");

// –†–µ–∂–∏–º —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
let f_rw = open("data.bin", "r+");

// –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å (–æ—á–∏—Å—Ç–∫–∞)
let f_rw_trunc = open("output.bin", "w+");

// –ß—Ç–µ–Ω–∏–µ/–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
let f_ra = open("log.txt", "a+");
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```hemlock
try {
    let f = open("missing.txt", "r");
} catch (e) {
    print("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å:", e);
    // –û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å 'missing.txt': –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
}
```

**–í–∞–∂–Ω–æ:** –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é `f.close()` –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ —É—Ç–µ—á–∫–∏ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤.

---

## –ú–µ—Ç–æ–¥—ã —Ñ–∞–π–ª–∞

### –ß—Ç–µ–Ω–∏–µ

#### read

–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–∞–π–ª–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
file.read(size?: i32): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `size` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è (–µ—Å–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–æ, —á–∏—Ç–∞–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°—Ç—Ä–æ–∫—É —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Ñ–∞–π–ª–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("data.txt", "r");

// –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤–µ—Å—å —Ñ–∞–π–ª
let all = f.read();
print(all);

// –ü—Ä–æ—á–∏—Ç–∞—Ç—å —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤
let chunk = f.read(1024);

f.close();
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ß–∏—Ç–∞–µ—Ç —Å —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ñ–∞–π–ª–µ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞
- –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ

**–û—à–∏–±–∫–∏:**
- –ß—Ç–µ–Ω–∏–µ –∏–∑ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
- –ß—Ç–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞, –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø–∏—Å–∏

---

#### read_bytes

–ü—Ä–æ—á–∏—Ç–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
file.read_bytes(size: i32): buffer
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `size` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ë—É—Ñ–µ—Ä —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("data.bin", "r");

// –ü—Ä–æ—á–∏—Ç–∞—Ç—å 256 –±–∞–π—Ç–æ–≤
let binary = f.read_bytes(256);
print(binary.length);       // 256

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let i = 0;
while (i < binary.length) {
    print(binary[i]);
    i = i + 1;
}

f.close();
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ß–∏—Ç–∞–µ—Ç —Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±—É—Ñ–µ—Ä (–Ω–µ —Å—Ç—Ä–æ–∫—É)
- –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ

---

### –ó–∞–ø–∏—Å—å

#### write

–ó–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ —Ñ–∞–π–ª.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
file.write(data: string): i32
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` - –°—Ç—Ä–æ–∫–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤ (i32)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("output.txt", "w");

// –ó–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç
let written = f.write("Hello, World!\n");
print("–ó–∞–ø–∏—Å–∞–Ω–æ", written, "–±–∞–π—Ç–æ–≤");

// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
f.write("–°—Ç—Ä–æ–∫–∞ 1\n");
f.write("–°—Ç—Ä–æ–∫–∞ 2\n");
f.write("–°—Ç—Ä–æ–∫–∞ 3\n");

f.close();
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤ —Ñ–∞–π–ª–µ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤
- –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ

**–û—à–∏–±–∫–∏:**
- –ó–∞–ø–∏—Å—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª
- –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª, –æ—Ç–∫—Ä—ã—Ç—ã–π —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

---

#### write_bytes

–ó–∞–ø–∏—Å–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
file.write_bytes(data: buffer): i32
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `data` - –ë—É—Ñ–µ—Ä –¥–ª—è –∑–∞–ø–∏—Å–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤ (i32)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("output.bin", "w");

// –°–æ–∑–¥–∞—Ç—å –±—É—Ñ–µ—Ä
let buf = buffer(10);
buf[0] = 65;  // 'A'
buf[1] = 66;  // 'B'
buf[2] = 67;  // 'C'

// –ó–∞–ø–∏—Å–∞—Ç—å –±—É—Ñ–µ—Ä
let written = f.write_bytes(buf);
print("–ó–∞–ø–∏—Å–∞–Ω–æ", written, "–±–∞–π—Ç–æ–≤");

f.close();
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É—Ñ–µ—Ä–∞ –≤ —Ñ–∞–π–ª
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤
- –ü–µ—Ä–µ–º–µ—â–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ

---

### –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

#### seek

–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤ –±–∞–π—Ç–∞—Ö.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
file.seek(position: i32): i32
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `position` - –°–º–µ—â–µ–Ω–∏–µ –≤ –±–∞–π—Ç–∞—Ö –æ—Ç –Ω–∞—á–∞–ª–∞ —Ñ–∞–π–ª–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ (i32)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("data.txt", "r");

// –ü–µ—Ä–µ–π—Ç–∏ –∫ –±–∞–π—Ç—É 100
f.seek(100);

// –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å —ç—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏
let chunk = f.read(50);

// –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –Ω–∞—á–∞–ª–æ
f.seek(0);

// –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å–Ω–∞—á–∞–ª–∞
let all = f.read();

f.close();
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é —Ñ–∞–π–ª–∞ –Ω–∞ –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∑–∞ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è (—Å–æ–∑–¥–∞—ë—Ç –¥—ã—Ä—É –≤ —Ñ–∞–π–ª–µ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏)

---

#### tell

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
file.tell(): i32
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –¢–µ–∫—É—â–µ–µ —Å–º–µ—â–µ–Ω–∏–µ –≤ –±–∞–π—Ç–∞—Ö –æ—Ç –Ω–∞—á–∞–ª–∞ —Ñ–∞–π–ª–∞ (i32)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("data.txt", "r");

print(f.tell());        // 0 (–≤ –Ω–∞—á–∞–ª–µ)

f.read(100);
print(f.tell());        // 100 (–ø–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è)

f.seek(50);
print(f.tell());        // 50 (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è)

f.close();
```

---

### –ó–∞–∫—Ä—ã—Ç–∏–µ

#### close

–ó–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
file.close(): null
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("data.txt", "r");
let content = f.read();
f.close();

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
f.close();  // –ë–µ–∑ –æ—à–∏–±–∫–∏
f.close();  // –ë–µ–∑ –æ—à–∏–±–∫–∏
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –æ–∂–∏–¥–∞—é—â–∏–µ –∑–∞–ø–∏—Å–∏
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑)
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `.closed` –≤ `true`

**–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ —É—Ç–µ—á–∫–∏ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤.

---

## –°–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–∞

### .path

–ü–æ–ª—É—á–∏—Ç—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É.

**–¢–∏–ø:** `string`

**–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("/path/to/file.txt", "r");
print(f.path);          // "/path/to/file.txt"
f.close();
```

---

### .mode

–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è.

**–¢–∏–ø:** `string`

**–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("data.txt", "r");
print(f.mode);          // "r"
f.close();

let f2 = open("output.txt", "w");
print(f2.mode);         // "w"
f2.close();
```

---

### .closed

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–∫—Ä—ã—Ç –ª–∏ —Ñ–∞–π–ª.

**–¢–∏–ø:** `bool`

**–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let f = open("data.txt", "r");
print(f.closed);        // false

f.close();
print(f.closed);        // true
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–∫–ª—é—á–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:

### –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω
```hemlock
let f = open("missing.txt", "r");
// –û—à–∏–±–∫–∞: –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å 'missing.txt': –ù–µ—Ç —Ç–∞–∫–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞
```

### –ß—Ç–µ–Ω–∏–µ –∏–∑ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
```hemlock
let f = open("data.txt", "r");
f.close();
f.read();
// –û—à–∏–±–∫–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ 'data.txt'
```

### –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
```hemlock
let f = open("readonly.txt", "r");
f.write("data");
// –û—à–∏–±–∫–∞: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª 'readonly.txt', –æ—Ç–∫—Ä—ã—Ç—ã–π –≤ —Ä–µ–∂–∏–º–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ try/catch
```hemlock
let f = null;
try {
    f = open("data.txt", "r");
    let content = f.read();
    print(content);
} catch (e) {
    print("–û—à–∏–±–∫–∞ —Ñ–∞–π–ª–∞:", e);
} finally {
    if (f != null && !f.closed) {
        f.close();
    }
}
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏

### –ë–∞–∑–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

```hemlock
let f = open("data.txt", "r");
let content = f.read();
f.close();
```

### –° –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

```hemlock
let f = open("data.txt", "r");
try {
    let content = f.read();
    process(content);
} finally {
    f.close();  // –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞—Ç—å, –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
}
```

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

```hemlock
let f = null;
try {
    f = open("data.txt", "r");
    let content = f.read();
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ ...
} catch (e) {
    print("–û—à–∏–±–∫–∞:", e);
} finally {
    if (f != null && !f.closed) {
        f.close();
    }
}
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤–µ—Å—å —Ñ–∞–π–ª

```hemlock
fn read_file(filename: string): string {
    let f = open(filename, "r");
    let content = f.read();
    f.close();
    return content;
}

let text = read_file("data.txt");
print(text);
```

### –ó–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª

```hemlock
fn write_file(filename: string, content: string) {
    let f = open(filename, "w");
    f.write(content);
    f.close();
}

write_file("output.txt", "Hello, World!\n");
```

### –î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª

```hemlock
fn append_file(filename: string, line: string) {
    let f = open(filename, "a");
    f.write(line + "\n");
    f.close();
}

append_file("log.txt", "–ó–∞–ø–∏—Å—å –≤ –∂—É—Ä–Ω–∞–ª 1");
append_file("log.txt", "–ó–∞–ø–∏—Å—å –≤ –∂—É—Ä–Ω–∞–ª 2");
```

### –ü—Ä–æ—á–∏—Ç–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª

```hemlock
fn read_binary(filename: string, size: i32): buffer {
    let f = open(filename, "r");
    let data = f.read_bytes(size);
    f.close();
    return data;
}

let binary = read_binary("data.bin", 256);
print("–ü—Ä–æ—á–∏—Ç–∞–Ω–æ", binary.length, "–±–∞–π—Ç–æ–≤");
```

### –ó–∞–ø–∏—Å–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª

```hemlock
fn write_binary(filename: string, data: buffer) {
    let f = open(filename, "w");
    f.write_bytes(data);
    f.close();
}

let buf = buffer(10);
buf[0] = 65;
write_binary("output.bin", buf);
```

### –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –ø–æ—Å—Ç—Ä–æ—á–Ω–æ

```hemlock
fn read_lines(filename: string): array {
    let f = open(filename, "r");
    let content = f.read();
    f.close();
    return content.split("\n");
}

let lines = read_lines("data.txt");
let i = 0;
while (i < lines.length) {
    print("–°—Ç—Ä–æ–∫–∞", i, ":", lines[i]);
    i = i + 1;
}
```

### –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª

```hemlock
fn copy_file(src: string, dest: string) {
    let f_in = open(src, "r");
    let f_out = open(dest, "w");

    let content = f_in.read();
    f_out.write(content);

    f_in.close();
    f_out.close();
}

copy_file("input.txt", "output.txt");
```

### –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ñ–∞–π–ª –ø–æ—Ä—Ü–∏—è–º–∏

```hemlock
fn process_chunks(filename: string) {
    let f = open(filename, "r");

    while (true) {
        let chunk = f.read(1024);  // –ß–∏—Ç–∞—Ç—å –ø–æ 1–ö–ë –∑–∞ —Ä–∞–∑
        if (chunk.length == 0) {
            break;  // –ö–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞
        }

        // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Ä—Ü–∏—é
        print("–û–±—Ä–∞–±–æ—Ç–∫–∞", chunk.length, "–±–∞–π—Ç–æ–≤");
    }

    f.close();
}

process_chunks("large_file.txt");
```

---

## –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥         | –°–∏–≥–Ω–∞—Ç—É—Ä–∞                | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|---------------|--------------------------|------------|------------------------------|
| `read`        | `(size?: i32)`           | `string`   | –ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç              |
| `read_bytes`  | `(size: i32)`            | `buffer`   | –ü—Ä–æ—á–∏—Ç–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ    |
| `write`       | `(data: string)`         | `i32`      | –ó–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç               |
| `write_bytes` | `(data: buffer)`         | `i32`      | –ó–∞–ø–∏—Å–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ     |
| `seek`        | `(position: i32)`        | `i32`      | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é           |
| `tell`        | `()`                     | `i32`      | –ü–æ–ª—É—á–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é             |
| `close`       | `()`                     | `null`     | –ó–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ)  |

---

## –ü–æ–ª–Ω–∞—è —Å–≤–æ–¥–∫–∞ —Å–≤–æ–π—Å—Ç–≤

| –°–≤–æ–π—Å—Ç–≤–æ  | –¢–∏–ø      | –î–æ—Å—Ç—É–ø          | –û–ø–∏—Å–∞–Ω–∏–µ               |
|-----------|----------|-----------------|------------------------|
| `.path`   | `string` | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ   | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É           |
| `.mode`   | `string` | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ   | –†–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è         |
| `.closed` | `bool`   | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ   | –ó–∞–∫—Ä—ã—Ç –ª–∏ —Ñ–∞–π–ª         |

---

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–≥–æ API

**–°—Ç–∞—Ä—ã–π API (—É–¥–∞–ª—ë–Ω):**
- `read_file(path)` - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `open(path, "r").read()`
- `write_file(path, data)` - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `open(path, "w").write(data)`
- `append_file(path, data)` - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `open(path, "a").write(data)`
- `file_exists(path)` - –ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–º–µ–Ω—ã

**–ü—Ä–∏–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏:**
```hemlock
// –°—Ç–∞—Ä—ã–π (v0.0)
let content = read_file("data.txt");
write_file("output.txt", content);

// –ù–æ–≤—ã–π (v0.1)
let f = open("data.txt", "r");
let content = f.read();
f.close();

let f2 = open("output.txt", "w");
f2.write(content);
f2.close();
```

---

## –°–º. —Ç–∞–∫–∂–µ

- [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#reference-builtins) - –§—É–Ω–∫—Ü–∏—è `open()`
- [API –ø–∞–º—è—Ç–∏](#reference-memory-api) - –¢–∏–ø –±—É—Ñ–µ—Ä–∞
- [API —Å—Ç—Ä–æ–∫](#reference-string-api) - –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞


--------------------------------------------------------------------------------
## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º Hemlock.

---

## –û–±–∑–æ—Ä

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–±–æ—Ä –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞, –∏–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏–∏ —Ç–∏–ø–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é, –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π. –í—Å–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≥–ª–æ–±–∞–ª—å–Ω–æ –±–µ–∑ –∏–º–ø–æ—Ä—Ç–∞.

---

## –§—É–Ω–∫—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

### print

–í—ã–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ stdout —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º —Å—Ç—Ä–æ–∫–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
print(...values): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `...values` - –õ—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –≤—ã–≤–æ–¥–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
print("Hello, World!");
print(42);
print(3.14);
print(true);
print([1, 2, 3]);
print({ x: 10, y: 20 });

// –ù–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π
print("x =", 10, "y =", 20);
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—Ç—Ä–æ–∫–∏
- –†–∞–∑–¥–µ–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ–±–µ–ª–∞–º–∏
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ü–µ
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –±—É—Ñ–µ—Ä stdout

---

### read_line

–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Å—Ç—Ä–æ–∫—É —Ç–µ–∫—Å—Ç–∞ –∏–∑ stdin (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
read_line(): string | null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `string` - –ü—Ä–æ—á–∏—Ç–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–∑ stdin (–ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ —É–¥–∞–ª—ë–Ω)
- `null` - –ü—Ä–∏ EOF (–∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞/–≤–≤–æ–¥–∞)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å
print("–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç?");
let name = read_line();
print("–ü—Ä–∏–≤–µ—Ç, " + name + "!");

// –ß—Ç–µ–Ω–∏–µ —á–∏—Å–µ–ª (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π —Ä–∞–∑–±–æ—Ä)
print("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ:");
let input = read_line();
let num = parse_int(input);  // –°–º. –Ω–∏–∂–µ parse_int
print("–£–¥–≤–æ–µ–Ω–Ω–æ–µ:", num * 2);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ EOF
let line = read_line();
if (line == null) {
    print("–ö–æ–Ω–µ—Ü –≤–≤–æ–¥–∞");
}

// –ß—Ç–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–æ–∫
print("–í–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ (Ctrl+D –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏):");
while (true) {
    let line = read_line();
    if (line == null) {
        break;
    }
    print("–í—ã —Å–∫–∞–∑–∞–ª–∏:", line);
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ –Ω–∞–∂–∞—Ç–∏—è Enter –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –£–¥–∞–ª—è–µ—Ç –∑–∞–≤–µ—Ä—à–∞—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ç—Ä–æ–∫–∏ (`\n`) –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã –∫–∞—Ä–µ—Ç–∫–∏ (`\r`)
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –ø—Ä–∏ EOF (Ctrl+D –Ω–∞ Unix, Ctrl+Z –Ω–∞ Windows)
- –ß–∏—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑ stdin (–Ω–µ –∏–∑ —Ñ–∞–π–ª–æ–≤)

**–†–∞–∑–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞:**

–ü–æ—Å–∫–æ–ª—å–∫—É `read_line()` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É, —á–∏—Å–ª–æ–≤–æ–π –≤–≤–æ–¥ –Ω—É–∂–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å –≤—Ä—É—á–Ω—É—é:

```hemlock
// –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–µ—Ä —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª
fn parse_int(s: string): i32 {
    let result: i32 = 0;
    let negative = false;
    let i = 0;

    if (s.length > 0 && s.char_at(0) == '-') {
        negative = true;
        i = 1;
    }

    while (i < s.length) {
        let c = s.char_at(i);
        let code: i32 = c;
        if (code >= 48 && code <= 57) {
            result = result * 10 + (code - 48);
        } else {
            break;
        }
        i = i + 1;
    }

    if (negative) {
        return -result;
    }
    return result;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
print("–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–∑—Ä–∞—Å—Ç:");
let age = parse_int(read_line());
print("–ß–µ—Ä–µ–∑ 10 –ª–µ—Ç –≤–∞–º –±—É–¥–µ—Ç", age + 10);
```

**–°–º. —Ç–∞–∫–∂–µ:** [API —Ñ–∞–π–ª–æ–≤](#reference-file-api) –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–æ–≤

---

### eprint

–í—ã–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ stderr —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º —Å—Ç—Ä–æ–∫–∏.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
eprint(value: any): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` - –û–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ stderr

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
eprint("–û—à–∏–±–∫–∞: —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω");
eprint(404);
eprint("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: " + message);

// –¢–∏–ø–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
fn load_config(path: string) {
    if (!exists(path)) {
        eprint("–û—à–∏–±–∫–∞: —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω: " + path);
        return null;
    }
    // ...
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í—ã–≤–æ–¥–∏—Ç –≤ stderr (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ç–æ–∫ –æ—à–∏–±–æ–∫)
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ü–µ
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `print`)
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–º–µ—à–∏–≤–∞—Ç—å—Å—è —Å –æ–±—ã—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º

**–û—Ç–ª–∏—á–∏–µ –æ—Ç print:**
- `print()` ‚Üí stdout (–æ–±—ã—á–Ω—ã–π –≤—ã–≤–æ–¥, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `>`)
- `eprint()` ‚Üí stderr (–≤—ã–≤–æ–¥ –æ—à–∏–±–æ–∫, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `2>`)

```bash
# –ü—Ä–∏–º–µ—Ä shell: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ stdout –∏ stderr
./hemlock script.hml > output.txt 2> errors.txt
```

---

## –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è —Ç–∏–ø–æ–≤

### typeof

–ü–æ–ª—É—á–∏—Ç—å –∏–º—è —Ç–∏–ø–∞ –∑–Ω–∞—á–µ–Ω–∏—è.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
typeof(value: any): string
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `value` - –õ—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ò–º—è —Ç–∏–ø–∞ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
print(typeof(42));              // "i32"
print(typeof(3.14));            // "f64"
print(typeof("hello"));         // "string"
print(typeof('A'));             // "rune"
print(typeof(true));            // "bool"
print(typeof(null));            // "null"
print(typeof([1, 2, 3]));       // "array"
print(typeof({ x: 10 }));       // "object"

// –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
define Person { name: string }
let p: Person = { name: "Alice" };
print(typeof(p));               // "Person"

// –î—Ä—É–≥–∏–µ —Ç–∏–ø—ã
print(typeof(alloc(10)));       // "ptr"
print(typeof(buffer(10)));      // "buffer"
print(typeof(open("file.txt"))); // "file"
```

**–ò–º–µ–Ω–∞ —Ç–∏–ø–æ–≤:**
- –ü—Ä–∏–º–∏—Ç–∏–≤—ã: `"i8"`, `"i16"`, `"i32"`, `"i64"`, `"u8"`, `"u16"`, `"u32"`, `"u64"`, `"f32"`, `"f64"`, `"bool"`, `"string"`, `"rune"`, `"null"`
- –°–æ—Å—Ç–∞–≤–Ω—ã–µ: `"array"`, `"object"`, `"ptr"`, `"buffer"`, `"function"`
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ: `"file"`, `"task"`, `"channel"`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ: –ò–º–µ–Ω–∞ —Ç–∏–ø–æ–≤ –æ—Ç `define`

**–°–º. —Ç–∞–∫–∂–µ:** [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#reference-type-system)

---

## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥

### exec

–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É shell –∏ –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –≤—ã–≤–æ–¥.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
exec(command: string): object
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `command` - –ö–æ–º–∞–Ω–¥–∞ shell –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏:
- `output` (string) - –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –≤ stdout
- `exit_code` (i32) - –ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0 = —É—Å–ø–µ—Ö)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let result = exec("echo hello");
print(result.output);      // "hello\n"
print(result.exit_code);   // 0

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
let r = exec("grep pattern file.txt");
if (r.exit_code == 0) {
    print("–ù–∞–π–¥–µ–Ω–æ:", r.output);
} else {
    print("–ü–∞—Ç—Ç–µ—Ä–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω");
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
let r2 = exec("ls -la");
let lines = r2.output.split("\n");
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É —á–µ—Ä–µ–∑ `/bin/sh`
- –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ stdout (stderr –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª)
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É, –µ—Å–ª–∏ –Ω–µ—Ç –≤—ã–≤–æ–¥–∞

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```hemlock
try {
    let r = exec("nonexistent_command");
} catch (e) {
    print("–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å:", e);
}
```

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** ‚ö†Ô∏è –£—è–∑–≤–∏–º–æ –∫ –∏–Ω—ä–µ–∫—Ü–∏–∏ shell. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ/–æ—á–∏—â–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥.

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ù–µ—Ç –∑–∞—Ö–≤–∞—Ç–∞ stderr
- –ù–µ—Ç –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
- –ù–µ—Ç —Ç–∞–π–º–∞—É—Ç–∞
- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

---

### exec_argv

–í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É —Å —è–≤–Ω—ã–º –º–∞—Å—Å–∏–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (–±–µ–∑ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ shell).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
exec_argv(argv: array): object
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `argv` - –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫: `[–∫–æ–º–∞–Ω–¥–∞, –∞—Ä–≥1, –∞—Ä–≥2, ...]`

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –û–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏:
- `output` (string) - –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –≤ stdout
- `exit_code` (i32) - –ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (0 = —É—Å–ø–µ—Ö)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –ü—Ä–æ—Å—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞
let result = exec_argv(["ls", "-la"]);
print(result.output);

// –ö–æ–º–∞–Ω–¥–∞ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ –ø—Ä–æ–±–µ–ª—ã (–±–µ–∑–æ–ø–∞—Å–Ω–æ!)
let r = exec_argv(["grep", "hello world", "file.txt"]);

// –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
let r2 = exec_argv(["python", "script.py", "--input", "data.json"]);
print(r2.exit_code);
```

**–û—Ç–ª–∏—á–∏–µ –æ—Ç exec:**
```hemlock
// exec() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç shell - –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –≤–≤–æ–¥–æ–º
exec("ls " + user_input);  // –†–∏—Å–∫ –∏–Ω—ä–µ–∫—Ü–∏–∏ shell!

// exec_argv() –æ–±—Ö–æ–¥–∏—Ç shell - –ë–ï–ó–û–ü–ê–°–ù–û
exec_argv(["ls", user_input]);  // –ò–Ω—ä–µ–∫—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ö–æ–≥–¥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–æ–±–µ–ª—ã, –∫–∞–≤—ã—á–∫–∏ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
- –ü—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Ä–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

**–°–º. —Ç–∞–∫–∂–µ:** `exec()` –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–º–∞–Ω–¥ shell

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### throw

–í—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
throw expression
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `expression` - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è (–ª—é–±–æ–π —Ç–∏–ø)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (–ø–µ—Ä–µ–¥–∞—ë—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
throw "—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ";
throw 404;
throw { code: 500, message: "–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞" };
throw null;
```

**–°–º. —Ç–∞–∫–∂–µ:** –û–ø–µ—Ä–∞—Ç–æ—Ä—ã try/catch/finally

---

### panic

–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ (–Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–æ).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
panic(message?: any): never
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `message` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–ª—è –≤—ã–≤–æ–¥–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (–ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
panic();                          // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: "panic!"
panic("–¥–æ—Å—Ç–∏–≥–Ω—É—Ç –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–π –∫–æ–¥");
panic(42);

// –¢–∏–ø–∏—á–Ω—ã–π —Å–ª—É—á–∞–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
fn process_state(state: i32): string {
    if (state == 1) { return "ready"; }
    if (state == 2) { return "running"; }
    panic("–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: " + typeof(state));
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –í—ã–≤–æ–¥–∏—Ç –æ—à–∏–±–∫—É –≤ stderr: `panic: <—Å–æ–æ–±—â–µ–Ω–∏–µ>`
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –∫–æ–¥–æ–º 1
- **–ù–ï –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è** —Å –ø–æ–º–æ—â—å—é try/catch
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–∞–≥–æ–≤ –∏ –Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º—ã—Ö –æ—à–∏–±–æ–∫

**Panic vs Throw:**
- `panic()` - –ù–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–∞—è –æ—à–∏–±–∫–∞, –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- `throw` - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–∞—è –æ—à–∏–±–∫–∞, –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞

---

### assert

–£—Ç–≤–µ—Ä–∂–¥–∞—Ç—å, —á—Ç–æ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ, –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
assert(condition: any, message?: string): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `condition` - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç—å
- `message` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null` (–µ—Å–ª–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—à–ª–æ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –ë–∞–∑–æ–≤—ã–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
assert(x > 0);
assert(name != null);
assert(arr.length > 0, "–ú–∞—Å—Å–∏–≤ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º");

// –° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
fn divide(a: i32, b: i32): f64 {
    assert(b != 0, "–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å");
    return a / b;
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
fn process_data(data: array) {
    assert(data != null, "data –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null");
    assert(data.length > 0, "data –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");
    // ...
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null`, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ: –≤—ã–≤–æ–¥–∏—Ç –æ—à–∏–±–∫—É –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –∫–æ–¥–æ–º 1
- –õ–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `false`, `0`, `0.0`, `null`, `""` (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)
- –ò—Å—Ç–∏–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ

**–í—ã–≤–æ–¥ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ:**
```
Assertion failed: –ú–∞—Å—Å–∏–≤ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Å—Ç—ã–º
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏–π —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞

**assert vs panic:**
- `assert(cond, msg)` - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Å–ª–æ–≤–∏–µ, –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –µ—Å–ª–∏ –ª–æ–∂–Ω–æ
- `panic(msg)` - –í—Å–µ–≥–¥–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ–∑—É—Å–ª–æ–≤–Ω–æ

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

### signal

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —Å–±—Ä–æ—Å–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∏–≥–Ω–∞–ª–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
signal(signum: i32, handler: function | null): function | null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `signum` - –ù–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ç–∏–ø–∞ `SIGINT`)
- `handler` - –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞, –∏–ª–∏ `null` –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫ —É–º–æ–ª—á–∞–Ω–∏—é

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ü—Ä–µ–¥—ã–¥—É—â—É—é —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–ª–∏ `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
fn handle_interrupt(sig) {
    print("–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω SIGINT!");
}

signal(SIGINT, handle_interrupt);

// –°–±—Ä–æ—Å –∫ —É–º–æ–ª—á–∞–Ω–∏—é
signal(SIGINT, null);
```

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
```hemlock
fn handler(signum: i32) {
    // signum —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞
}
```

**–°–º. —Ç–∞–∫–∂–µ:**
- [–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∏–≥–Ω–∞–ª–æ–≤](#–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã-—Å–∏–≥–Ω–∞–ª–æ–≤)
- `raise()`

---

### raise

–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞–ª —Ç–µ–∫—É—â–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
raise(signum: i32): null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `signum` - –ù–æ–º–µ—Ä —Å–∏–≥–Ω–∞–ª–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let count = 0;

fn increment(sig) {
    count = count + 1;
}

signal(SIGUSR1, increment);

raise(SIGUSR1);
raise(SIGUSR1);
print(count);  // 2
```

---

## –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### args

–ú–∞—Å—Å–∏–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

**–¢–∏–ø:** `array` —Å—Ç—Ä–æ–∫

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- `args[0]` - –ò–º—è —Ñ–∞–π–ª–∞ —Å–∫—Ä–∏–ø—Ç–∞
- `args[1..n]` - –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ö–æ–º–∞–Ω–¥–∞: ./hemlock script.hml hello world
```

```hemlock
print(args[0]);        // "script.hml"
print(args.length);    // 3
print(args[1]);        // "hello"
print(args[2]);        // "world"

// –ü–µ—Ä–µ–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
let i = 1;
while (i < args.length) {
    print("–ê—Ä–≥—É–º–µ–Ω—Ç", i, ":", args[i]);
    i = i + 1;
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ REPL:** –í REPL `args.length` —Ä–∞–≤–Ω–æ 0 (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)

---

## –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∏–≥–Ω–∞–ª–æ–≤

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∏–≥–Ω–∞–ª–æ–≤ POSIX (–∑–Ω–∞—á–µ–Ω–∏—è i32):

### –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞  | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                               |
|------------|----------|----------------------------------------|
| `SIGINT`   | 2        | –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Ctrl+C)       |
| `SIGTERM`  | 15       | –ó–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ                   |
| `SIGQUIT`  | 3        | –í—ã—Ö–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã (Ctrl+\)            |
| `SIGHUP`   | 1        | –†–∞–∑—Ä—ã–≤ —Å–≤—è–∑–∏ —Å —É–ø—Ä–∞–≤–ª—è—é—â–∏–º —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º  |
| `SIGABRT`  | 6        | –°–∏–≥–Ω–∞–ª –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è                      |

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞  | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                   |
|------------|----------|----------------------------|
| `SIGUSR1`  | 10       | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª 1  |
| `SIGUSR2`  | 12       | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª 2  |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞  | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|------------|----------|---------------------------------|
| `SIGALRM`  | 14       | –¢–∞–π–º–µ—Ä –±—É–¥–∏–ª—å–Ω–∏–∫–∞               |
| `SIGCHLD`  | 17       | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—á–µ—Ä–Ω–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ |
| `SIGCONT`  | 18       | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –µ—Å–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω      |
| `SIGSTOP`  | 19       | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å) |
| `SIGTSTP`  | 20       | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (Ctrl+Z)    |

### –í–≤–æ–¥-–≤—ã–≤–æ–¥

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞  | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                           |
|------------|----------|------------------------------------|
| `SIGPIPE`  | 13       | –†–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª                  |
| `SIGTTIN`  | 21       | –§–æ–Ω–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞         |
| `SIGTTOU`  | 22       | –§–æ–Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª         |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
fn handle_signal(sig) {
    if (sig == SIGINT) {
        print("–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ");
    }
    if (sig == SIGTERM) {
        print("–ó–∞–ø—Ä–æ—à–µ–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ");
    }
}

signal(SIGINT, handle_signal);
signal(SIGTERM, handle_signal);
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `SIGKILL` (9) –∏ `SIGSTOP` (19) –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –∏–ª–∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å.

---

## –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ/–∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

### div

–¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–Ω–∏–∑, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ float.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
div(a: number, b: number): f64
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `a` - –î–µ–ª–∏–º–æ–µ
- `b` - –î–µ–ª–∏—Ç–µ–ª—å

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –¶–µ–ª—É—é —á–∞—Å—Ç—å –æ—Ç `a / b` –∫–∞–∫ float (f64)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let result = div(7, 2);    // 3.0 (–Ω–µ 3.5)
let result2 = div(10, 3);  // 3.0
let result3 = div(-7, 2);  // -4.0 (–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫ –º–∏–Ω—É—Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏)
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í Hemlock –æ–ø–µ—Ä–∞—Ç–æ—Ä `/` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç float. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `div()` –¥–ª—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–Ω–∏–∑, –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–∞–∫ float, –∏–ª–∏ `divi()` –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

---

### divi

–¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–Ω–∏–∑, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ —Ü–µ–ª–æ–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
divi(a: number, b: number): i64
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `a` - –î–µ–ª–∏–º–æ–µ
- `b` - –î–µ–ª–∏—Ç–µ–ª—å

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –¶–µ–ª—É—é —á–∞—Å—Ç—å –æ—Ç `a / b` –∫–∞–∫ —Ü–µ–ª–æ–µ (i64)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let result = divi(7, 2);    // 3
let result2 = divi(10, 3);  // 3
let result3 = divi(-7, 2);  // -4 (–æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫ –º–∏–Ω—É—Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏)
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:**
```hemlock
print(7 / 2);      // 3.5 (–æ–±—ã—á–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ, –≤—Å–µ–≥–¥–∞ float)
print(div(7, 2));  // 3.0 (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç float)
print(divi(7, 2)); // 3   (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç integer)
```

---

## –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é

–°–º. [API –ø–∞–º—è—Ç–∏](#reference-memory-api) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞:
- `alloc(size)` - –í—ã–¥–µ–ª–∏—Ç—å —Å—ã—Ä—É—é –ø–∞–º—è—Ç—å
- `free(ptr)` - –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å
- `buffer(size)` - –í—ã–¥–µ–ª–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä
- `memset(ptr, byte, size)` - –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞–º—è—Ç—å
- `memcpy(dest, src, size)` - –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å
- `realloc(ptr, new_size)` - –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª–µ–Ω–∏—è

### sizeof

–ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–∏–ø–∞ –≤ –±–∞–π—Ç–∞—Ö.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
sizeof(type): i32
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ —Ç–∏–ø–∞ (`i32`, `f64`, `ptr` –∏ —Ç.–¥.) –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞ –∏–º–µ–Ω–∏ —Ç–∏–ø–∞

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –†–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö –∫–∞–∫ `i32`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
print(sizeof(i8));       // 1
print(sizeof(i16));      // 2
print(sizeof(i32));      // 4
print(sizeof(i64));      // 8
print(sizeof(f32));      // 4
print(sizeof(f64));      // 8
print(sizeof(ptr));      // 8
print(sizeof(rune));     // 4

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —Ç–∏–ø–æ–≤
print(sizeof(byte));     // 1 (—Ç–æ –∂–µ —á—Ç–æ u8)
print(sizeof(integer));  // 4 (—Ç–æ –∂–µ —á—Ç–æ i32)
print(sizeof(number));   // 8 (—Ç–æ –∂–µ —á—Ç–æ f64)

// –°—Ç—Ä–æ–∫–æ–≤–∞—è —Ñ–æ—Ä–º–∞ —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
print(sizeof("i32"));    // 4
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã:**
| –¢–∏–ø | –†–∞–∑–º–µ—Ä | –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã |
|-----|--------|------------|
| `i8` | 1 | - |
| `i16` | 2 | - |
| `i32` | 4 | `integer` |
| `i64` | 8 | - |
| `u8` | 1 | `byte` |
| `u16` | 2 | - |
| `u32` | 4 | - |
| `u64` | 8 | - |
| `f32` | 4 | - |
| `f64` | 8 | `number` |
| `ptr` | 8 | - |
| `rune` | 4 | - |
| `bool` | 1 | - |

**–°–º. —Ç–∞–∫–∂–µ:** `talloc()` –¥–ª—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è

---

### talloc

–í—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å –¥–ª—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ (–≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–∞).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
talloc(type, count: i32): ptr
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `type` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ —Ç–∏–ø–∞ (`i32`, `f64`, `ptr` –∏ —Ç.–¥.)
- `count` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `ptr` –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é –ø–∞–º—è—Ç—å –∏–ª–∏ `null` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –í—ã–¥–µ–ª–∏—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ 10 i32 (40 –±–∞–π—Ç–æ–≤)
let int_arr = talloc(i32, 10);
ptr_write_i32(int_arr, 42);
ptr_write_i32(ptr_offset(int_arr, 1, 4), 100);

// –í—ã–¥–µ–ª–∏—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ 5 f64 (40 –±–∞–π—Ç–æ–≤)
let float_arr = talloc(f64, 5);

// –í—ã–¥–µ–ª–∏—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ 100 –±–∞–π—Ç–æ–≤
let byte_arr = talloc(u8, 100);

// –ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å!
free(int_arr);
free(float_arr);
free(byte_arr);
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å alloc:**
```hemlock
// –≠—Ç–∏ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã:
let p1 = talloc(i32, 10);      // –° —É—á—ë—Ç–æ–º —Ç–∏–ø–∞: 10 i32
let p2 = alloc(sizeof(i32) * 10);  // –†—É—á–Ω–æ–π —Ä–∞—Å—á—ë—Ç

// talloc –ø–æ–Ω—è—Ç–Ω–µ–µ –∏ –º–µ–Ω–µ–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω –æ—à–∏–±–∫–∞–º
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è
- –ó–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π, –µ—Å–ª–∏ count –Ω–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (count * —Ä–∞–∑–º–µ—Ä_—ç–ª–µ–º–µ–Ω—Ç–∞)

**–°–º. —Ç–∞–∫–∂–µ:** `alloc()`, `sizeof()`, `free()`

---

## –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ FFI –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–º–æ–≥–∞—é—Ç —á–∏—Ç–∞—Ç—å –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å—ã—Ä—É—é –ø–∞–º—è—Ç—å, –ø–æ–ª–µ–∑–Ω—ã –¥–ª—è FFI –∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é.

### ptr_null

–°–æ–∑–¥–∞—Ç—å –Ω—É–ª–µ–≤–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
ptr_null(): ptr
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù—É–ª–µ–≤–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = ptr_null();
if (p == null) {
    print("–£–∫–∞–∑–∞—Ç–µ–ª—å –Ω—É–ª–µ–≤–æ–π");
}
```

---

### ptr_offset

–í—ã—á–∏—Å–ª–∏—Ç—å —Å–º–µ—â–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è (–∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π).

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
ptr_offset(ptr: ptr, index: i32, element_size: i32): ptr
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `ptr` - –ë–∞–∑–æ–≤—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å
- `index` - –ò–Ω–¥–µ–∫—Å —ç–ª–µ–º–µ–Ω—Ç–∞
- `element_size` - –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –±–∞–π—Ç–∞—Ö

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∏–Ω–¥–µ–∫—Å—É

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let arr = talloc(i32, 10);
ptr_write_i32(arr, 100);                      // arr[0] = 100
ptr_write_i32(ptr_offset(arr, 1, 4), 200);    // arr[1] = 200
ptr_write_i32(ptr_offset(arr, 2, 4), 300);    // arr[2] = 300

print(ptr_read_i32(ptr_offset(arr, 1, 4)));   // 200
free(arr);
```

---

### –§—É–Ω–∫—Ü–∏–∏ —á—Ç–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

–ß—Ç–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ø–∞–º—è—Ç–∏.

| –§—É–Ω–∫—Ü–∏—è | –°–∏–≥–Ω–∞—Ç—É—Ä–∞ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|------------|----------|
| `ptr_read_i8` | `(ptr)` | `i8` | –ß—Ç–µ–Ω–∏–µ –∑–Ω–∞–∫–æ–≤–æ–≥–æ 8-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_i16` | `(ptr)` | `i16` | –ß—Ç–µ–Ω–∏–µ –∑–Ω–∞–∫–æ–≤–æ–≥–æ 16-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_i32` | `(ptr)` | `i32` | –ß—Ç–µ–Ω–∏–µ –∑–Ω–∞–∫–æ–≤–æ–≥–æ 32-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_i64` | `(ptr)` | `i64` | –ß—Ç–µ–Ω–∏–µ –∑–Ω–∞–∫–æ–≤–æ–≥–æ 64-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_u8` | `(ptr)` | `u8` | –ß—Ç–µ–Ω–∏–µ –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 8-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_u16` | `(ptr)` | `u16` | –ß—Ç–µ–Ω–∏–µ –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 16-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_u32` | `(ptr)` | `u32` | –ß—Ç–µ–Ω–∏–µ –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 32-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_u64` | `(ptr)` | `u64` | –ß—Ç–µ–Ω–∏–µ –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 64-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_read_f32` | `(ptr)` | `f32` | –ß—Ç–µ–Ω–∏–µ 32-–±–∏—Ç–Ω–æ–≥–æ float |
| `ptr_read_f64` | `(ptr)` | `f64` | –ß—Ç–µ–Ω–∏–µ 64-–±–∏—Ç–Ω–æ–≥–æ float |
| `ptr_read_ptr` | `(ptr)` | `ptr` | –ß—Ç–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è |

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(8);
ptr_write_f64(p, 3.14159);
let value = ptr_read_f64(p);
print(value);  // 3.14159
free(p);
```

---

### –§—É–Ω–∫—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

–ó–∞–ø–∏—Å—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç—å.

| –§—É–Ω–∫—Ü–∏—è | –°–∏–≥–Ω–∞—Ç—É—Ä–∞ | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|------------|----------|
| `ptr_write_i8` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –∑–Ω–∞–∫–æ–≤–æ–≥–æ 8-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_i16` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –∑–Ω–∞–∫–æ–≤–æ–≥–æ 16-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_i32` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –∑–Ω–∞–∫–æ–≤–æ–≥–æ 32-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_i64` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –∑–Ω–∞–∫–æ–≤–æ–≥–æ 64-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_u8` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 8-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_u16` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 16-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_u32` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 32-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_u64` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –±–µ–∑–∑–Ω–∞–∫–æ–≤–æ–≥–æ 64-–±–∏—Ç–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ |
| `ptr_write_f32` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å 32-–±–∏—Ç–Ω–æ–≥–æ float |
| `ptr_write_f64` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å 64-–±–∏—Ç–Ω–æ–≥–æ float |
| `ptr_write_ptr` | `(ptr, value)` | `null` | –ó–∞–ø–∏—Å—å –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑–∞—Ç–µ–ª—è |

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(4);
ptr_write_i32(p, 42);
print(ptr_read_i32(p));  // 42
free(p);
```

---

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä/—É–∫–∞–∑–∞—Ç–µ–ª—å

#### buffer_ptr

–ü–æ–ª—É—á–∏—Ç—å —Å—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å –∏–∑ –±—É—Ñ–µ—Ä–∞.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
buffer_ptr(buf: buffer): ptr
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let buf = buffer(64);
let p = buffer_ptr(buf);
// –¢–µ–ø–µ—Ä—å p —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç—É –∂–µ –ø–∞–º—è—Ç—å, —á—Ç–æ –∏ buf
```

#### ptr_to_buffer

–°–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É –±—É—Ñ–µ—Ä–∞ –≤–æ–∫—Ä—É–≥ —Å—ã—Ä–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
ptr_to_buffer(ptr: ptr, size: i32): buffer
```

**–ü—Ä–∏–º–µ—Ä:**
```hemlock
let p = alloc(64);
let buf = ptr_to_buffer(p, 64);
buf[0] = 65;  // –¢–µ–ø–µ—Ä—å –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
// –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ buf –æ—Å–≤–æ–±–æ–¥–∏—Ç –±–∞–∑–æ–≤—É—é –ø–∞–º—è—Ç—å
```

---

## –§—É–Ω–∫—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

–°–º. [API —Ñ–∞–π–ª–æ–≤](#reference-file-api) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞:
- `open(path, mode?)` - –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª

---

## –§—É–Ω–∫—Ü–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

–°–º. [API –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞](#reference-concurrency-api) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞:
- `spawn(fn, args...)` - –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É
- `join(task)` - –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–¥–∞—á–∏
- `detach(task)` - –û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
- `channel(capacity)` - –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª

### apply

–í—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å –º–∞—Å—Å–∏–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
apply(fn: function, args: array): any
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `fn` - –í—ã–∑—ã–≤–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `args` - –ú–∞—Å—Å–∏–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–∑–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
fn add(a, b) {
    return a + b;
}

// –í—ã–∑–æ–≤ —Å –º–∞—Å—Å–∏–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
let result = apply(add, [2, 3]);
print(result);  // 5

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è
let operations = {
    add: fn(a, b) { return a + b; },
    mul: fn(a, b) { return a * b; },
    sub: fn(a, b) { return a - b; }
};

fn calculate(op: string, args: array) {
    return apply(operations[op], args);
}

print(calculate("add", [10, 5]));  // 15
print(calculate("mul", [10, 5]));  // 50
print(calculate("sub", [10, 5]));  // 5

// –ü–µ—Ä–µ–º–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
fn sum(...nums) {
    let total = 0;
    for (n in nums) {
        total = total + n;
    }
    return total;
}

let numbers = [1, 2, 3, 4, 5];
print(apply(sum, numbers));  // 15
```

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞ (map, filter –∏ —Ç.–¥.)
- –°–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤/—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

---

### select

–û–∂–∏–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞—è –∫–æ–≥–¥–∞ –ª—é–±–æ–π –∏–º–µ–µ—Ç –¥–∞–Ω–Ω—ã–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
select(channels: array, timeout_ms?: i32): object | null
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `channels` - –ú–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π –∫–∞–Ω–∞–ª–æ–≤
- `timeout_ms` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) - –¢–∞–π–º–∞—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (-1 –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `{ channel, value }` - –û–±—ä–µ–∫—Ç —Å –∫–∞–Ω–∞–ª–æ–º, –∏–º–µ—é—â–∏–º –¥–∞–Ω–Ω—ã–µ, –∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º
- `null` - –ü–æ —Ç–∞–π–º–∞—É—Ç—É

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let ch1 = channel(1);
let ch2 = channel(1);

// –ó–∞–¥–∞—á–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏
spawn(fn() {
    sleep(100);
    ch1.send("–∏–∑ –∫–∞–Ω–∞–ª–∞ 1");
});

spawn(fn() {
    sleep(50);
    ch2.send("–∏–∑ –∫–∞–Ω–∞–ª–∞ 2");
});

// –û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
let result = select([ch1, ch2]);
print(result.value);  // "–∏–∑ –∫–∞–Ω–∞–ª–∞ 2" (–ø—Ä–∏—à–ª–æ –ø–µ—Ä–≤—ã–º)

// –° —Ç–∞–π–º–∞—É—Ç–æ–º
let result2 = select([ch1, ch2], 1000);  // –ñ–¥–∞—Ç—å –¥–æ 1 —Å–µ–∫—É–Ω–¥—ã
if (result2 == null) {
    print("–¢–∞–π–º–∞—É—Ç - –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã");
} else {
    print("–ü–æ–ª—É—á–µ–Ω–æ:", result2.value);
}

// –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ü–∏–∫–ª select
while (true) {
    let msg = select([ch1, ch2], 5000);
    if (msg == null) {
        print("–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ 5 —Å–µ–∫—É–Ω–¥");
        break;
    }
    print("–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ:", msg.value);
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–∫–∞ –æ–¥–∏–Ω –∫–∞–Ω–∞–ª –Ω–µ –ø–æ–ª—É—á–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –Ω–µ –∏—Å—Ç–µ—á—ë—Ç —Ç–∞–π–º–∞—É—Ç
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –µ—Å–ª–∏ –∫–∞–Ω–∞–ª —É–∂–µ –∏–º–µ–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç –∏ –ø—É—Å—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ channel, value: null }`
- –û–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–∞–Ω–∞–ª—ã –ø–æ –ø–æ—Ä—è–¥–∫—É (–ø–µ—Ä–≤—ã–π –≥–æ—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç)

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–∞—É—Ç–æ–≤ –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å –∫–∞–Ω–∞–ª–∞–º–∏
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤ —Å–æ–±—ã—Ç–∏–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

### –§—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è    | –ö–∞—Ç–µ–≥–æ—Ä–∏—è       | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç   | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|------------|-----------------|--------------|----------------------------------|
| `print`    | –í–≤–æ–¥-–≤—ã–≤–æ–¥      | `null`       | –í—ã–≤–æ–¥ –≤ stdout                   |
| `read_line`| –í–≤–æ–¥-–≤—ã–≤–æ–¥      | `string?`    | –ß—Ç–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ stdin           |
| `eprint`   | –í–≤–æ–¥-–≤—ã–≤–æ–¥      | `null`       | –í—ã–≤–æ–¥ –≤ stderr                   |
| `typeof`   | –¢–∏–ø             | `string`     | –ü–æ–ª—É—á–∏—Ç—å –∏–º—è —Ç–∏–ø–∞                |
| `exec`     | –ö–æ–º–∞–Ω–¥–∞         | `object`     | –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É shell          |
| `exec_argv`| –ö–æ–º–∞–Ω–¥–∞         | `object`     | –í—ã–ø–æ–ª–Ω–∏—Ç—å —Å –º–∞—Å—Å–∏–≤–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤  |
| `assert`   | –û—à–∏–±–∫–∞          | `null`       | –£—Ç–≤–µ—Ä–∂–¥–∞—Ç—å —É—Å–ª–æ–≤–∏–µ –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å |
| `panic`    | –û—à–∏–±–∫–∞          | `never`      | –ù–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–∞—è –æ—à–∏–±–∫–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ) |
| `signal`   | –°–∏–≥–Ω–∞–ª          | `function?`  | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫      |
| `raise`    | –°–∏–≥–Ω–∞–ª          | `null`       | –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞–ª –ø—Ä–æ—Ü–µ—Å—Å—É        |
| `alloc`    | –ü–∞–º—è—Ç—å          | `ptr`        | –í—ã–¥–µ–ª–∏—Ç—å —Å—ã—Ä—É—é –ø–∞–º—è—Ç—å            |
| `talloc`   | –ü–∞–º—è—Ç—å          | `ptr`        | –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ         |
| `sizeof`   | –ü–∞–º—è—Ç—å          | `i32`        | –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ç–∏–ø–∞ –≤ –±–∞–π—Ç–∞—Ö    |
| `free`     | –ü–∞–º—è—Ç—å          | `null`       | –û—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å                |
| `buffer`   | –ü–∞–º—è—Ç—å          | `buffer`     | –í—ã–¥–µ–ª–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –±—É—Ñ–µ—Ä        |
| `memset`   | –ü–∞–º—è—Ç—å          | `null`       | –ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞–º—è—Ç—å                 |
| `memcpy`   | –ü–∞–º—è—Ç—å          | `null`       | –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å                |
| `realloc`  | –ü–∞–º—è—Ç—å          | `ptr`        | –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤—ã–¥–µ–ª–µ–Ω–∏—è        |
| `open`     | –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥-–≤—ã–≤–æ–¥ | `file`   | –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª                     |
| `spawn`    | –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º     | `task`       | –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –∑–∞–¥–∞—á—É    |
| `join`     | –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º     | `any`        | –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–¥–∞—á–∏      |
| `detach`   | –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º     | `null`       | –û—Ç—Å–æ–µ–¥–∏–Ω–∏—Ç—å –∑–∞–¥–∞—á—É               |
| `channel`  | –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º     | `channel`    | –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏       |
| `select`   | –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º     | `object?`    | –û–∂–∏–¥–∞—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö    |
| `apply`    | –§—É–Ω–∫—Ü–∏–∏         | `any`        | –í—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å –º–∞—Å—Å–∏–≤–æ–º args  |

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|------------|----------|-----------------------------------|
| `args`     | `array`  | –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏        |

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞  | –¢–∏–ø   | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                  |
|------------|-------|-----------|----------|---------------------------|
| `SIGINT`   | `i32` | –°–∏–≥–Ω–∞–ª    | 2        | –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã   |
| `SIGTERM`  | `i32` | –°–∏–≥–Ω–∞–ª    | 15       | –ó–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ      |
| `SIGQUIT`  | `i32` | –°–∏–≥–Ω–∞–ª    | 3        | –í—ã—Ö–æ–¥ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã        |
| `SIGHUP`   | `i32` | –°–∏–≥–Ω–∞–ª    | 1        | –†–∞–∑—Ä—ã–≤ —Å–≤—è–∑–∏              |
| `SIGABRT`  | `i32` | –°–∏–≥–Ω–∞–ª    | 6        | –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ                |
| `SIGUSR1`  | `i32` | –°–∏–≥–Ω–∞–ª    | 10       | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π 1        |
| `SIGUSR2`  | `i32` | –°–∏–≥–Ω–∞–ª    | 12       | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π 2        |
| `SIGALRM`  | `i32` | –°–∏–≥–Ω–∞–ª    | 14       | –¢–∞–π–º–µ—Ä –±—É–¥–∏–ª—å–Ω–∏–∫–∞         |
| `SIGCHLD`  | `i32` | –°–∏–≥–Ω–∞–ª    | 17       | –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—á–µ—Ä–Ω–µ–≥–æ |
| `SIGCONT`  | `i32` | –°–∏–≥–Ω–∞–ª    | 18       | –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å                |
| `SIGSTOP`  | `i32` | –°–∏–≥–Ω–∞–ª    | 19       | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (–Ω–µ–ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º—ã–π) |
| `SIGTSTP`  | `i32` | –°–∏–≥–Ω–∞–ª    | 20       | –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞       |
| `SIGPIPE`  | `i32` | –°–∏–≥–Ω–∞–ª    | 13       | –†–∞–∑–æ—Ä–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª         |
| `SIGTTIN`  | `i32` | –°–∏–≥–Ω–∞–ª    | 21       | –§–æ–Ω–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞  |
| `SIGTTOU`  | `i32` | –°–∏–≥–Ω–∞–ª    | 22       | –§–æ–Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å —Ç–µ—Ä–º–∏–Ω–∞–ª–∞  |

---

## –°–º. —Ç–∞–∫–∂–µ

- [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#reference-type-system) - –¢–∏–ø—ã –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- [API –ø–∞–º—è—Ç–∏](#reference-memory-api) - –§—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
- [API —Ñ–∞–π–ª–æ–≤](#reference-file-api) - –§—É–Ω–∫—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞
- [API –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞](#reference-concurrency-api) - –§—É–Ω–∫—Ü–∏–∏ async/–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
- [API —Å—Ç—Ä–æ–∫](#reference-string-api) - –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫
- [API –º–∞—Å—Å–∏–≤–æ–≤](#reference-array-api) - –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤


--------------------------------------------------------------------------------
## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º Hemlock, –≤–∫–ª—é—á–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

---

## –û–±–∑–æ—Ä

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤ —Å—Ç–∏–ª–µ C —Å —è–≤–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞. –í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å–ª–µ–¥—É—é—Ç —Å—Ç—Ä–æ–≥–∏–º –ø—Ä–∞–≤–∏–ª–∞–º —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ–º —Ç–∏–ø–æ–≤, –≥–¥–µ —ç—Ç–æ –ø—Ä–∏–º–µ–Ω–∏–º–æ.

---

## –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

### –ë–∏–Ω–∞—Ä–Ω—ã–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ       | –ü—Ä–∏–º–µ—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|----------|----------------|------------|------------------------------|
| `+`      | –°–ª–æ–∂–µ–Ω–∏–µ       | `a + b`    | –°–ª–æ–∂–∏—Ç—å –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è         |
| `-`      | –í—ã—á–∏—Ç–∞–Ω–∏–µ      | `a - b`    | –í—ã—á–µ—Å—Ç—å b –∏–∑ a               |
| `*`      | –£–º–Ω–æ–∂–µ–Ω–∏–µ      | `a * b`    | –£–º–Ω–æ–∂–∏—Ç—å –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è        |
| `/`      | –î–µ–ª–µ–Ω–∏–µ        | `a / b`    | –†–∞–∑–¥–µ–ª–∏—Ç—å a –Ω–∞ b             |

**–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤:**
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–ª–µ–¥—É—é—Ç –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (—Å–º. [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](type-system.md#–ø—Ä–∞–≤–∏–ª–∞-–ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è-—Ç–∏–ø–æ–≤)).

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a = 10 + 5;        // 15 (i32)
let b = 10 - 3;        // 7 (i32)
let c = 4 * 5;         // 20 (i32)
let d = 20 / 4;        // 5 (i32)

// –î–µ–ª–µ–Ω–∏–µ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
let e = 10.0 / 3.0;    // 3.333... (f64)

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
let f: u8 = 10;
let g: i32 = 20;
let h = f + g;         // 30 (i32, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ)
```

**–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å:**
- –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å: –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–µ–ª–µ–Ω–∏–µ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –Ω–∞ –Ω–æ–ª—å: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `inf` –∏–ª–∏ `-inf`

---

### –£–Ω–∞—Ä–Ω—ã–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ             |
|----------|----------|--------|----------------------|
| `-`      | –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ| `-a`   | –ò–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞–∫        |
| `+`      | –ü–ª—é—Å     | `+a`   | –¢–æ–∂–¥–µ—Å—Ç–≤–æ (no-op)    |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a = 5;
let b = -a;            // -5
let c = +a;            // 5 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

let x = -3.14;         // -3.14
```

---

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ              | –ü—Ä–∏–º–µ—Ä     | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|----------|-----------------------|------------|------------|
| `==`     | –†–∞–≤–Ω–æ                 | `a == b`   | `bool`     |
| `!=`     | –ù–µ —Ä–∞–≤–Ω–æ              | `a != b`   | `bool`     |
| `<`      | –ú–µ–Ω—å—à–µ                | `a < b`    | `bool`     |
| `>`      | –ë–æ–ª—å—à–µ                | `a > b`    | `bool`     |
| `<=`     | –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ      | `a <= b`   | `bool`     |
| `>=`     | –ë–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ      | `a >= b`   | `bool`     |

**–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤:**
–û–ø–µ—Ä–∞–Ω–¥—ã –ø—Ä–æ–¥–≤–∏–≥–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º.

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
print(5 == 5);         // true
print(10 != 5);        // true
print(3 < 7);          // true
print(10 > 5);         // true
print(5 <= 5);         // true
print(10 >= 5);        // true

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
print("hello" == "hello");  // true
print("abc" < "def");       // true (–ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏)

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
let a: u8 = 10;
let b: i32 = 10;
print(a == b);         // true (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ –¥–æ i32)
```

---

## –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ        | –ü—Ä–∏–º–µ—Ä       | –û–ø–∏—Å–∞–Ω–∏–µ                 |
|----------|-----------------|--------------|--------------------------|
| `&&`     | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò    | `a && b`     | True –µ—Å–ª–∏ –æ–±–∞ true       |
| `||`     | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò  | `a || b`     | True –µ—Å–ª–∏ –ª—é–±–æ–π true     |
| `!`      | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ù–ï   | `!a`         | –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ –±—É–ª–µ–≤–æ–≥–æ       |

**–°–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ:**
- `&&` - –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–º false –∑–Ω–∞—á–µ–Ω–∏–∏
- `||` - –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–º true –∑–Ω–∞—á–µ–Ω–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a = true;
let b = false;

print(a && b);         // false
print(a || b);         // true
print(!a);             // false
print(!b);             // true

// –°–æ–∫—Ä–∞—â—ë–Ω–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ
if (x != 0 && (10 / x) > 2) {
    print("–±–µ–∑–æ–ø–∞—Å–Ω–æ");
}

if (x == 0 || (10 / x) > 2) {
    print("–±–µ–∑–æ–ø–∞—Å–Ω–æ");
}
```

---

## –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –¢–æ–ª—å–∫–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã (i8-i64, u8-u64)

### –ë–∏–Ω–∞—Ä–Ω—ã–µ –ø–æ–±–∏—Ç–æ–≤—ã–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ          | –ü—Ä–∏–º–µ—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                 |
|----------|-------------------|------------|--------------------------|
| `&`      | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò       | `a & b`    | –ò –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏—Ç–∞       |
| `|`      | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò     | `a | b`    | –ò–õ–ò –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏—Ç–∞     |
| `^`      | –ü–æ–±–∏—Ç–æ–≤–æ–µ XOR     | `a ^ b`    | XOR –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∏—Ç–∞     |
| `<<`     | –°–¥–≤–∏–≥ –≤–ª–µ–≤–æ       | `a << b`   | –°–¥–≤–∏–≥ –≤–ª–µ–≤–æ –Ω–∞ b –±–∏—Ç     |
| `>>`     | –°–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ      | `a >> b`   | –°–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ –Ω–∞ b –±–∏—Ç    |

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞:**
–¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∏–ø–∞–º –æ–ø–µ—Ä–∞–Ω–¥–æ–≤ (—Å –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ–º —Ç–∏–ø–∞).

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a = 12;  // 1100 –≤ –¥–≤–æ–∏—á–Ω–æ–º
let b = 10;  // 1010 –≤ –¥–≤–æ–∏—á–Ω–æ–º

print(a & b);          // 8  (1000)
print(a | b);          // 14 (1110)
print(a ^ b);          // 6  (0110)
print(a << 2);         // 48 (110000)
print(a >> 1);         // 6  (110)
```

**–ü—Ä–∏–º–µ—Ä —Å –±–µ–∑–∑–Ω–∞–∫–æ–≤—ã–º–∏:**
```hemlock
let c: u8 = 15;        // 00001111
let d: u8 = 7;         // 00000111

print(c & d);          // 7  (00000111)
print(c | d);          // 15 (00001111)
print(c ^ d);          // 8  (00001000)
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–¥–≤–∏–≥–∞ –≤–ø—Ä–∞–≤–æ:**
- –ó–Ω–∞–∫–æ–≤—ã–µ —Ç–∏–ø—ã: –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π —Å–¥–≤–∏–≥ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–Ω–∞–∫–∞)
- –ë–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ —Ç–∏–ø—ã: –õ–æ–≥–∏—á–µ—Å–∫–∏–π —Å–¥–≤–∏–≥ (–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω—É–ª—è–º–∏)

---

### –£–Ω–∞—Ä–Ω—ã–µ –ø–æ–±–∏—Ç–æ–≤—ã–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ       | –ü—Ä–∏–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ                 |
|----------|----------------|--------|--------------------------|
| `~`      | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ù–ï   | `~a`   | –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –±–∏—Ç—ã   |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a = 12;            // 00001100 (i32)
print(~a);             // -13 (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥)

let b: u8 = 15;        // 00001111
print(~b);             // 240 (11110000)
```

---

## –°—Ç—Ä–æ–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

### –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ       | –ü—Ä–∏–º–µ—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ           |
|----------|----------------|------------|--------------------|
| `+`      | –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è   | `a + b`    | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å—Ç—Ä–æ–∫–∏  |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello" + " " + "world";  // "hello world"
let msg = "Count: " + typeof(42); // "Count: 42"

// –°—Ç—Ä–æ–∫–∞ + —Ä—É–Ω–∞
let greeting = "Hello" + '!';      // "Hello!"

// –†—É–Ω–∞ + —Å—Ç—Ä–æ–∫–∞
let prefix = '>' + " Message";     // "> Message"
```

---

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ      | –ü—Ä–∏–º–µ—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|----------|---------------|------------|------------------------------|
| `=`      | –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ  | `a = b`    | –ü—Ä–∏—Å–≤–æ–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let x = 10;
x = 20;

let arr = [1, 2, 3];
arr[0] = 99;

let obj = { x: 10 };
obj.x = 20;
```

### –°–æ—Å—Ç–∞–≤–Ω–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ

#### –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ            | –ü—Ä–∏–º–µ—Ä     | –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç         |
|----------|---------------------|------------|--------------------|
| `+=`     | –°–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–∏—Å–≤.   | `a += b`   | `a = a + b`        |
| `-=`     | –í—ã—á–∏—Ç–∞–Ω–∏–µ —Å –ø—Ä–∏—Å–≤.  | `a -= b`   | `a = a - b`        |
| `*=`     | –£–º–Ω–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–∏—Å–≤.  | `a *= b`   | `a = a * b`        |
| `/=`     | –î–µ–ª–µ–Ω–∏–µ —Å –ø—Ä–∏—Å–≤.    | `a /= b`   | `a = a / b`        |
| `%=`     | –û—Å—Ç–∞—Ç–æ–∫ —Å –ø—Ä–∏—Å–≤.    | `a %= b`   | `a = a % b`        |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let x = 10;
x += 5;      // x —Ç–µ–ø–µ—Ä—å 15
x -= 3;      // x —Ç–µ–ø–µ—Ä—å 12
x *= 2;      // x —Ç–µ–ø–µ—Ä—å 24
x /= 4;      // x —Ç–µ–ø–µ—Ä—å 6

let count = 0;
count += 1;  // –£–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞ 1
```

#### –ü–æ–±–∏—Ç–æ–≤–æ–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ                | –ü—Ä–∏–º–µ—Ä      | –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç          |
|----------|-------------------------|-------------|---------------------|
| `&=`     | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò —Å –ø—Ä–∏—Å–≤.    | `a &= b`    | `a = a & b`         |
| `\|=`    | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò —Å –ø—Ä–∏—Å–≤.  | `a \|= b`   | `a = a \| b`        |
| `^=`     | –ü–æ–±–∏—Ç–æ–≤–æ–µ XOR —Å –ø—Ä–∏—Å–≤.  | `a ^= b`    | `a = a ^ b`         |
| `<<=`    | –°–¥–≤–∏–≥ –≤–ª–µ–≤–æ —Å –ø—Ä–∏—Å–≤.    | `a <<= b`   | `a = a << b`        |
| `>>=`    | –°–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ —Å –ø—Ä–∏—Å–≤.   | `a >>= b`   | `a = a >> b`        |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let flags = 0b1111;
flags &= 0b0011;   // flags —Ç–µ–ø–µ—Ä—å 0b0011 (–º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ä—Ö–Ω–∏–µ –±–∏—Ç—ã)
flags |= 0b1000;   // flags —Ç–µ–ø–µ—Ä—å 0b1011 (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏—Ç)
flags ^= 0b0001;   // flags —Ç–µ–ø–µ—Ä—å 0b1010 (–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –±–∏—Ç)

let x = 1;
x <<= 4;           // x —Ç–µ–ø–µ—Ä—å 16 (—Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ –Ω–∞ 4)
x >>= 2;           // x —Ç–µ–ø–µ—Ä—å 4 (—Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ –Ω–∞ 2)
```

### –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç/–î–µ–∫—Ä–µ–º–µ–Ω—Ç

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ   | –ü—Ä–∏–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|----------|------------|--------|------------------------------|
| `++`     | –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç  | `a++`  | –£–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞ 1 (–ø–æ—Å—Ç—Ñ–∏–∫—Å)    |
| `--`     | –î–µ–∫—Ä–µ–º–µ–Ω—Ç  | `a--`  | –£–º–µ–Ω—å—à–∏—Ç—å –Ω–∞ 1 (–ø–æ—Å—Ç—Ñ–∏–∫—Å)    |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let i = 0;
i++;         // i —Ç–µ–ø–µ—Ä—å 1
i++;         // i —Ç–µ–ø–µ—Ä—å 2
i--;         // i —Ç–µ–ø–µ—Ä—å 1

// –ß–∞—Å—Ç–æ –≤ —Ü–∏–∫–ª–∞—Ö
for (let j = 0; j < 10; j++) {
    print(j);
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò `++`, –∏ `--` ‚Äî –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (–∑–Ω–∞—á–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –¥–æ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞/–¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∞)

---

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ null

### Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ (`??`)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–µ–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥, –µ—Å–ª–∏ –æ–Ω –Ω–µ null, –∏–Ω–∞—á–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥.

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ          | –ü—Ä–∏–º–µ—Ä       | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|----------|-------------------|--------------|--------------------------------|
| `??`     | Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ  | `a ?? b`     | –í–µ—Ä–Ω—É—Ç—å a –µ—Å–ª–∏ –Ω–µ null, –∏–Ω–∞—á–µ b |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let name = null;
let display = name ?? "–ê–Ω–æ–Ω–∏–º";  // "–ê–Ω–æ–Ω–∏–º"

let value = 42;
let result = value ?? 0;            // 42

// –¶–µ–ø–æ—á–∫–∞
let a = null;
let b = null;
let c = "–Ω–∞–π–¥–µ–Ω–æ";
let result2 = a ?? b ?? c;          // "–Ω–∞–π–¥–µ–Ω–æ"

// –° –≤—ã–∑–æ–≤–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π
fn get_config() { return null; }
let config = get_config() ?? { default: true };
```

---

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ (`?.`)

–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –∏–ª–∏ –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ null –∑–Ω–∞—á–µ–Ω–∏—è—Ö.

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ            | –ü—Ä–∏–º–µ—Ä         | –û–ø–∏—Å–∞–Ω–∏–µ                         |
|----------|---------------------|----------------|----------------------------------|
| `?.`     | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞| `a?.b`         | –í–µ—Ä–Ω—É—Ç—å a.b –µ—Å–ª–∏ a –Ω–µ null, –∏–Ω–∞—á–µ null |
| `?.[`    | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å | `a?.[0]`       | –í–µ—Ä–Ω—É—Ç—å a[0] –µ—Å–ª–∏ a –Ω–µ null, –∏–Ω–∞—á–µ null |
| `?.(`    | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤  | `a?.()`        | –í—ã–∑–≤–∞—Ç—å a() –µ—Å–ª–∏ a –Ω–µ null, –∏–Ω–∞—á–µ null |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let user = null;
let name = user?.name;              // null (–±–µ–∑ –æ—à–∏–±–∫–∏)

let person = { name: "Alice", address: null };
let city = person?.address?.city;   // null (–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è)

// –° –º–∞—Å—Å–∏–≤–∞–º–∏
let arr = null;
let first = arr?.[0];               // null

let items = [1, 2, 3];
let second = items?.[1];            // 2

// –° –≤—ã–∑–æ–≤–∞–º–∏ –º–µ—Ç–æ–¥–æ–≤
let obj = { greet: fn() { return "–ü—Ä–∏–≤–µ—Ç"; } };
let greeting = obj?.greet?.();      // "–ü—Ä–∏–≤–µ—Ç"

let empty = null;
let result = empty?.method?.();     // null
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ï—Å–ª–∏ –ª–µ–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥ null, –≤—Å—ë –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–∫—Ä–∞—â—ë–Ω–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–æ null
- –ï—Å–ª–∏ –ª–µ–≤—ã–π –æ–ø–µ—Ä–∞–Ω–¥ –Ω–µ null, –¥–æ—Å—Ç—É–ø –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –≤ —Ü–µ–ø–æ—á–∫–∏ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º

---

## –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∫ —á–ª–µ–Ω–∞–º

### –û–ø–µ—Ä–∞—Ç–æ—Ä —Ç–æ—á–∫–∞

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ           | –ü—Ä–∏–º–µ—Ä       | –û–ø–∏—Å–∞–Ω–∏–µ              |
|----------|--------------------|--------------|-----------------------|
| `.`      | –î–æ—Å—Ç—É–ø –∫ —á–ª–µ–Ω—É     | `obj.field`  | –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—é –æ–±—ä–µ–∫—Ç–∞ |
| `.`      | –î–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É  | `arr.length` | –î–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É     |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—é –æ–±—ä–µ–∫—Ç–∞
let person = { name: "Alice", age: 30 };
print(person.name);        // "Alice"

// –°–≤–æ–π—Å—Ç–≤–æ –º–∞—Å—Å–∏–≤–∞
let arr = [1, 2, 3];
print(arr.length);         // 3

// –°–≤–æ–π—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫–∏
let s = "hello";
print(s.length);           // 5

// –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞
let result = s.to_upper(); // "HELLO"
```

---

### –û–ø–µ—Ä–∞—Ç–æ—Ä –∏–Ω–¥–µ–∫—Å–∞

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä    | –û–ø–∏—Å–∞–Ω–∏–µ             |
|----------|----------|-----------|----------------------|
| `[]`     | –ò–Ω–¥–µ–∫—Å   | `arr[i]`  | –î–æ—Å—Ç—É–ø –∫ —ç–ª–µ–º–µ–Ω—Ç—É    |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞
let arr = [10, 20, 30];
print(arr[0]);             // 10
arr[1] = 99;

// –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä—É–Ω—É)
let s = "hello";
print(s[0]);               // 'h'
s[0] = 'H';                // "Hello"

// –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –±—É—Ñ–µ—Ä–∞
let buf = buffer(10);
buf[0] = 65;
print(buf[0]);             // 65
```

---

## –û–ø–µ—Ä–∞—Ç–æ—Ä –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –ù–∞–∑–≤–∞–Ω–∏–µ       | –ü—Ä–∏–º–µ—Ä       | –û–ø–∏—Å–∞–Ω–∏–µ           |
|----------|----------------|--------------|--------------------|
| `()`     | –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏  | `f(a, b)`    | –í—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é    |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
fn add(a, b) {
    return a + b;
}

let result = add(5, 3);    // 8

// –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞
let s = "hello";
let upper = s.to_upper();  // "HELLO"

// –í—ã–∑–æ–≤ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
print("—Å–æ–æ–±—â–µ–Ω–∏–µ");
```

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –æ—Ç –≤—ã—Å—à–µ–≥–æ –∫ –Ω–∏–∑—à–µ–º—É –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É:

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û–ø–µ—Ä–∞—Ç–æ—Ä—ã                  | –û–ø–∏—Å–∞–Ω–∏–µ                           | –ê—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å |
|-----------|----------------------------|------------------------------------|-----------------|
| 1         | `()` `[]` `.` `?.`         | –í—ã–∑–æ–≤, –∏–Ω–¥–µ–∫—Å, –¥–æ—Å—Ç—É–ø –∫ —á–ª–µ–Ω—É, –æ–ø—Ü. —Ü–µ–ø–æ—á–∫–∞ | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 2         | `++` `--`                  | –ü–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç/–¥–µ–∫—Ä–µ–º–µ–Ω—Ç    | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 3         | `!` `~` `-` (—É–Ω–∞—Ä–Ω—ã–π) `+` (—É–Ω–∞—Ä–Ω—ã–π) | –õ–æ–≥. –ù–ï, –ø–æ–±–∏—Ç. –ù–ï, –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ | –°–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ |
| 4         | `*` `/` `%`                | –£–º–Ω–æ–∂–µ–Ω–∏–µ, –¥–µ–ª–µ–Ω–∏–µ, –æ—Å—Ç–∞—Ç–æ–∫        | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 5         | `+` `-`                    | –°–ª–æ–∂–µ–Ω–∏–µ, –≤—ã—á–∏—Ç–∞–Ω–∏–µ                | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 6         | `<<` `>>`                  | –ü–æ–±–∏—Ç–æ–≤—ã–µ —Å–¥–≤–∏–≥–∏                   | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 7         | `<` `<=` `>` `>=`          | –°—Ä–∞–≤–Ω–µ–Ω–∏—è                          | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 8         | `==` `!=`                  | –†–∞–≤–µ–Ω—Å—Ç–≤–æ                          | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 9         | `&`                        | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò                        | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 10        | `^`                        | –ü–æ–±–∏—Ç–æ–≤–æ–µ XOR                      | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 11        | `|`                        | –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò                      | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 12        | `&&`                       | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò                       | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 13        | `||`                       | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò                     | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 14        | `??`                       | Null-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ                   | –°–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ |
| 15        | `=` `+=` `-=` `*=` `/=` `%=` `&=` `\|=` `^=` `<<=` `>>=` | –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ | –°–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ |

---

## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞

### –ü—Ä–∏–º–µ—Ä 1: –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
```hemlock
let result = 5 + 3 * 2;
// –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: 5 + (3 * 2) = 11
// –£–º–Ω–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º —Å–ª–æ–∂–µ–Ω–∏–µ

let cmp = 10 > 5 + 3;
// –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: 10 > (5 + 3) = true
// –°–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
```hemlock
let result1 = 12 | 10 & 8;
// –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: 12 | (10 & 8) = 12 | 8 = 12
// & –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º |

let result2 = 8 | 1 << 2;
// –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: 8 | (1 << 2) = 8 | 4 = 12
// –°–¥–≤–∏–≥ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º –ø–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫–æ–±–∫–∏ –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏
let result3 = (5 & 3) | (2 << 1);
// –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: 1 | 4 = 5
```

### –ü—Ä–∏–º–µ—Ä 3: –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
```hemlock
let result = true || false && false;
// –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: true || (false && false) = true
// && –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º ||

let cmp = 5 < 10 && 10 < 20;
// –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫: (5 < 10) && (10 < 20) = true
// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º &&
```

### –ü—Ä–∏–º–µ—Ä 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫–æ–±–æ–∫
```hemlock
// –ë–µ–∑ —Å–∫–æ–±–æ–∫
let a = 2 + 3 * 4;        // 14

// –°–æ —Å–∫–æ–±–∫–∞–º–∏
let b = (2 + 3) * 4;      // 20

// –°–ª–æ–∂–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
let c = (a + b) * (a - b);
```

---

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤

### –î–µ–ª–µ–Ω–∏–µ (–≤—Å–µ–≥–¥–∞ Float)

–û–ø–µ—Ä–∞—Ç–æ—Ä `/` **–≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç float** (f64), –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–∏–ø–æ–≤ –æ–ø–µ—Ä–∞–Ω–¥–æ–≤:

```hemlock
print(10 / 3);             // 3.333... (f64)
print(5 / 2);              // 2.5 (f64)
print(10.0 / 4.0);         // 2.5 (f64)
print(-7 / 3);             // -2.333... (f64)
```

–≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—É—é –æ—à–∏–±–∫—É –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–≥–æ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ —É—Å–µ—á–µ–Ω–∏—è.

### –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ (div / divi)

–î–ª—è —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –≤–Ω–∏–∑ (–∫–∞–∫ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö) –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ `div()` –∏ `divi()`:

```hemlock
// div(a, b) - —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ float
print(div(5, 2));          // 2 (f64)
print(div(-7, 3));         // -3 (f64)  -- –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –∫ -–±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏

// divi(a, b) - —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–µ integer
print(divi(5, 2));         // 2 (i64)
print(divi(-7, 3));        // -3 (i64)
print(typeof(divi(5, 2))); // i64
```

**–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —Ü–µ–ª—ã–µ:**
–î–ª—è –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞:

```hemlock
print(floori(3.7));        // 3 (i64)
print(ceili(3.2));         // 4 (i64)
print(roundi(3.5));        // 4 (i64)
print(trunci(3.9));        // 3 (i64)

// –ò—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∫–∞–∫ –∏–Ω–¥–µ–∫—Å—ã –º–∞—Å—Å–∏–≤–∞
let arr = [10, 20, 30, 40];
print(arr[floori(1.9)]);   // 20 (–∏–Ω–¥–µ–∫—Å 1)
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫

–°—Ç—Ä–æ–∫–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏:

```hemlock
print("abc" < "def");      // true
print("apple" > "banana"); // false
print("hello" == "hello"); // true
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Null

```hemlock
let x = null;

print(x == null);          // true
print(x != null);          // false
```

### –û—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –º–µ–∂–¥—É –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Ç–∏–ø–∞–º–∏:

```hemlock
// –û–®–ò–ë–ö–ê: –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å float
let x = 3.14 & 2.71;

// –û–®–ò–ë–ö–ê: –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏
let y = "hello" & "world";

// OK: –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–ª—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏
let a: u8 = 10;
let b: i32 = 20;
let c = a + b;             // i32 (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ)
```

---

## –°–º. —Ç–∞–∫–∂–µ

- [–°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤](#reference-type-system) - –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤
- [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#reference-builtins) - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- [API —Å—Ç—Ä–æ–∫](#reference-string-api) - –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –∏ –º–µ—Ç–æ–¥—ã


--------------------------------------------------------------------------------
## –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å–∏—Å—Ç–µ–º–µ —Ç–∏–ø–æ–≤

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Å–∏—Å—Ç–µ–º–µ —Ç–∏–ø–æ–≤ Hemlock, –≤–∫–ª—é—á–∞—è –≤—Å–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ –∏ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã.

---

## –û–±–∑–æ—Ä

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É —Ç–∏–ø–æ–≤** —Å —Ç–µ–≥–∞–º–∏ —Ç–∏–ø–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Ç–∏–ø–æ–≤. –ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ç–∏–ø –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ —Å–ª–µ–¥—É—é—Ç —è–≤–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (hemlockc - –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥ —Ç–∏–ø–æ–≤ –¥–ª—è –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
- –Ø–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- –ù–µ—Ç –Ω–µ—è–≤–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π —Å –ø–æ—Ç–µ—Ä–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (hemlockc)

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä Hemlock (`hemlockc`) –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤–∞—à –∫–æ–¥ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É.

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ **–≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** –≤ hemlockc:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
hemlockc program.hml -o program

# –û—à–∏–±–∫–∏ —Å–æ–æ–±—â–∞—é—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π
hemlockc bad_types.hml
# –í—ã–≤–æ–¥: 1 type error found
```

### –§–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

| –§–ª–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `--check` | –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∏–ø—ã, –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å (–≤—ã—Ö–æ–¥ –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏) |
| `--no-type-check` | –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
| `--strict-types` | –í–∫–ª—é—á–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Ç–∏–ø–∞—Ö |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –¢–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
hemlockc --check program.hml
# –í—ã–≤–æ–¥: program.hml: no type errors

# –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é)
hemlockc --no-type-check dynamic_code.hml -o program

# –í–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –¥–ª—è –Ω–µ—è–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ any
hemlockc --strict-types program.hml -o program
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–æ–≤–µ—Ä—â–∏–∫ —Ç–∏–ø–æ–≤

1. **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤** - –£–±–µ–∂–¥–∞–µ—Ç—Å—è, —á—Ç–æ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–º —Ç–∏–ø–∞–º
2. **–í—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π** - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ—Ç–∏–≤ —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
3. **–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã** - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã return —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–º—É —Ç–∏–ø—É
4. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤** - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–ø–µ—Ä–∞–Ω–¥–æ–≤
5. **–î–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º** - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ç–∏–ø—ã –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

### –†–∞–∑—Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–≤–µ—Ä—â–∏–∫ —Ç–∏–ø–æ–≤ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

```hemlock
let x: i8 = 100;      // OK - 100 –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ i8 (–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
let y: u8 = 255;      // OK - –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞ u8
let z: f64 = 42;      // OK - i32 –≤ f64 –±–µ–∑–æ–ø–∞—Å–Ω–æ
```

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–¥–∞

–ö–æ–¥ –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π (—Ç–∏–ø `any`) –∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤:

```hemlock
let x = get_value();  // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π - –±–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
process(x);           // OK - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –≤–µ–∑–¥–µ
```

---

## –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã

### –ß–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã

#### –ó–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ

| –¢–∏–ø    | –†–∞–∑–º–µ—Ä  | –î–∏–∞–ø–∞–∑–æ–Ω                                       | –ü—Å–µ–≤–¥–æ–Ω–∏–º |
|--------|---------|------------------------------------------------|-----------|
| `i8`   | 1 –±–∞–π—Ç  | -128 –¥–æ 127                                    | -         |
| `i16`  | 2 –±–∞–π—Ç–∞ | -32,768 –¥–æ 32,767                              | -         |
| `i32`  | 4 –±–∞–π—Ç–∞ | -2,147,483,648 –¥–æ 2,147,483,647                | `integer` |
| `i64`  | 8 –±–∞–π—Ç  | -9,223,372,036,854,775,808 –¥–æ 9,223,372,036,854,775,807 | - |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a: i8 = 127;
let b: i16 = 32000;
let c: i32 = 1000000;
let d: i64 = 9223372036854775807;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
let x: integer = 42;  // –¢–æ –∂–µ —á—Ç–æ i32
```

#### –ë–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ

| –¢–∏–ø    | –†–∞–∑–º–µ—Ä  | –î–∏–∞–ø–∞–∑–æ–Ω                          | –ü—Å–µ–≤–¥–æ–Ω–∏–º |
|--------|---------|-----------------------------------|-----------|
| `u8`   | 1 –±–∞–π—Ç  | 0 –¥–æ 255                          | `byte`    |
| `u16`  | 2 –±–∞–π—Ç–∞ | 0 –¥–æ 65,535                       | -         |
| `u32`  | 4 –±–∞–π—Ç–∞ | 0 –¥–æ 4,294,967,295                | -         |
| `u64`  | 8 –±–∞–π—Ç  | 0 –¥–æ 18,446,744,073,709,551,615   | -         |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a: u8 = 255;
let b: u16 = 65535;
let c: u32 = 4294967295;
let d: u64 = 18446744073709551615;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
let byte_val: byte = 65;  // –¢–æ –∂–µ —á—Ç–æ u8
```

#### –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π

| –¢–∏–ø    | –†–∞–∑–º–µ—Ä  | –¢–æ—á–Ω–æ—Å—Ç—å       | –ü—Å–µ–≤–¥–æ–Ω–∏–º |
|--------|---------|----------------|-----------|
| `f32`  | 4 –±–∞–π—Ç–∞ | ~7 —Ü–∏—Ñ—Ä        | -         |
| `f64`  | 8 –±–∞–π—Ç  | ~15 —Ü–∏—Ñ—Ä       | `number`  |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let pi: f32 = 3.14159;
let precise: f64 = 3.14159265359;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞
let x: number = 2.718;  // –¢–æ –∂–µ —á—Ç–æ f64
```

---

### –í—ã–≤–æ–¥ —Ç–∏–ø–∞ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤

–¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä—É—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è:

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ó–Ω–∞—á–µ–Ω–∏—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ i32 (-2,147,483,648 –¥–æ 2,147,483,647): –≤—ã–≤–æ–¥–∏—Ç—Å—è `i32`
- –ó–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ i32, –Ω–æ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ i64: –≤—ã–≤–æ–¥–∏—Ç—Å—è `i64`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ (i8, i16, u8, u16, u32, u64)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let small = 42;                    // i32 (–ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ i32)
let large = 5000000000;            // i64 (> –º–∞–∫—Å. i32)
let max_i64 = 9223372036854775807; // i64 (INT64_MAX)
let explicit: u32 = 100;           // u32 (–∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ç–∏–ø–∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç)
```

---

### –ë—É–ª–µ–≤ —Ç–∏–ø

**–¢–∏–ø:** `bool`

**–ó–Ω–∞—á–µ–Ω–∏—è:** `true`, `false`

**–†–∞–∑–º–µ—Ä:** 1 –±–∞–π—Ç (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let is_active: bool = true;
let done = false;

if (is_active && !done) {
    print("—Ä–∞–±–æ—Ç–∞–µ–º");
}
```

---

### –°–∏–º–≤–æ–ª—å–Ω—ã–µ —Ç–∏–ø—ã

#### –†—É–Ω–∞

**–¢–∏–ø:** `rune`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ Unicode (U+0000 –¥–æ U+10FFFF)

**–†–∞–∑–º–µ—Ä:** 4 –±–∞–π—Ç–∞ (32-–±–∏—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)

**–î–∏–∞–ø–∞–∑–æ–Ω:** 0 –¥–æ 0x10FFFF (1,114,111)

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–∏—Ç–µ—Ä–∞–ª–∞:** –û–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ `'x'`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// ASCII
let a = 'A';
let digit = '0';

// –ú–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã–π UTF-8
let rocket = 'üöÄ';      // U+1F680
let heart = '‚ù§';        // U+2764
let chinese = '‰∏≠';     // U+4E2D

// Escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
let newline = '\n';
let tab = '\t';
let backslash = '\\';
let quote = '\'';
let null = '\0';

// Unicode escape
let emoji = '\u{1F680}';   // –î–æ 6 hex —Ü–∏—Ñ—Ä
let max = '\u{10FFFF}';    // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞
```

**–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤:**
```hemlock
// –¶–µ–ª–æ–µ –≤ —Ä—É–Ω—É
let code: rune = 65;        // 'A'
let r: rune = 128640;       // üöÄ

// –†—É–Ω–∞ –≤ —Ü–µ–ª–æ–µ
let value: i32 = 'Z';       // 90

// –†—É–Ω–∞ –≤ —Å—Ç—Ä–æ–∫—É
let s: string = 'H';        // "H"

// u8 –≤ —Ä—É–Ω—É
let byte: u8 = 65;
let rune_val: rune = byte;  // 'A'
```

**–°–º. —Ç–∞–∫–∂–µ:** [API —Å—Ç—Ä–æ–∫](#reference-string-api) –¥–ª—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫–∞ + —Ä—É–Ω–∞

---

### –°—Ç—Ä–æ–∫–æ–≤—ã–π —Ç–∏–ø

**–¢–∏–ø:** `string`

**–û–ø–∏—Å–∞–Ω–∏–µ:** UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –∏–∑–º–µ–Ω—è–µ–º—ã–π, —Ä–∞–∑–º–µ—â–∞–µ–º—ã–π –≤ –∫—É—á–µ —Ç–µ–∫—Å—Ç

**–ö–æ–¥–∏—Ä–æ–≤–∫–∞:** UTF-8 (U+0000 –¥–æ U+10FFFF)

**–ò–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å:** –ò–∑–º–µ–Ω—è–µ–º—ã–π (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —è–∑—ã–∫–æ–≤)

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤)
- `.byte_length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤ (—Ä–∞–∑–º–µ—Ä –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8)

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–∏—Ç–µ—Ä–∞–ª–∞:** –î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ `"—Ç–µ–∫—Å—Ç"`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let s = "hello";
s[0] = 'H';             // –ò–∑–º–µ–Ω–µ–Ω–∏–µ (—Ç–µ–ø–µ—Ä—å "Hello")
print(s.length);        // 5 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫)
print(s.byte_length);   // 5 (–±–∞–π—Ç—ã UTF-8)

let emoji = "üöÄ";
print(emoji.length);        // 1 (–æ–¥–Ω–∞ –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞)
print(emoji.byte_length);   // 4 (—á–µ—Ç—ã—Ä–µ –±–∞–π—Ç–∞ UTF-8)
```

**–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è:**
```hemlock
let s = "hello";
let ch = s[0];          // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä—É–Ω—É 'h'
s[0] = 'H';             // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä—É–Ω–æ–π
```

**–°–º. —Ç–∞–∫–∂–µ:** [API —Å—Ç—Ä–æ–∫](#reference-string-api) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –ø–æ –º–µ—Ç–æ–¥–∞–º

---

### –¢–∏–ø Null

**–¢–∏–ø:** `null`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–Ω–∞—á–µ–Ω–∏–µ null (–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è)

**–†–∞–∑–º–µ—Ä:** 8 –±–∞–π—Ç (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ)

**–ó–Ω–∞—á–µ–Ω–∏–µ:** `null`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let x = null;
let y: i32 = null;  // –û–®–ò–ë–ö–ê: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤

if (x == null) {
    print("x —Ä–∞–≤–µ–Ω null");
}
```

---

## –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã

### –¢–∏–ø –º–∞—Å—Å–∏–≤–∞

**–¢–∏–ø:** `array`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π, —Ä–∞–∑–º–µ—â–∞–µ–º—ã–π –≤ –∫—É—á–µ, –º–∞—Å—Å–∏–≤ —Å–º–µ—à–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.length` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å –Ω—É–ª—è:** –î–∞

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–∏—Ç–µ—Ä–∞–ª–∞:** `[—ç–ª–µ–º1, —ç–ª–µ–º2, ...]`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let arr = [1, 2, 3, 4, 5];
print(arr[0]);         // 1
print(arr.length);     // 5

// –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
let mixed = [1, "hello", true, null];
```

**–°–º. —Ç–∞–∫–∂–µ:** [API –º–∞—Å—Å–∏–≤–æ–≤](#reference-array-api) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –ø–æ –º–µ—Ç–æ–¥–∞–º

---

### –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞

**–¢–∏–ø:** `object`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±—ä–µ–∫—Ç –≤ —Å—Ç–∏–ª–µ JavaScript —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–∏—Ç–µ—Ä–∞–ª–∞:** `{ –ø–æ–ª–µ: –∑–Ω–∞—á–µ–Ω–∏–µ, ... }`

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let person = { name: "Alice", age: 30 };
print(person.name);  // "Alice"

// –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
person.email = "alice@example.com";
```

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤:**
```hemlock
define Person {
    name: string,
    age: i32,
    active?: bool,  // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
}

let p: Person = { name: "Bob", age: 25 };
print(typeof(p));  // "Person"
```

---

### –¢–∏–ø—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π

#### –°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å (ptr)

**–¢–∏–ø:** `ptr`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—ã—Ä–æ–π –∞–¥—Ä–µ—Å –ø–∞–º—è—Ç–∏ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π)

**–†–∞–∑–º–µ—Ä:** 8 –±–∞–π—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü:** –ù–µ—Ç

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let p: ptr = alloc(64);
memset(p, 0, 64);
free(p);
```

#### –ë—É—Ñ–µ—Ä (buffer)

**–¢–∏–ø:** `buffer`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:** –£–∫–∞–∑–∞—Ç–µ–ª—å + –¥–ª–∏–Ω–∞ + —ë–º–∫–æ—Å—Ç—å

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.length` - –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
- `.capacity` - –í—ã–¥–µ–ª–µ–Ω–Ω–∞—è —ë–º–∫–æ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let b: buffer = buffer(64);
b[0] = 65;              // –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü
print(b.length);        // 64
free(b);
```

**–°–º. —Ç–∞–∫–∂–µ:** [API –ø–∞–º—è—Ç–∏](#reference-memory-api) –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π –≤—ã–¥–µ–ª–µ–Ω–∏—è

---

## –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã

### –¢–∏–ø —Ñ–∞–π–ª–∞

**–¢–∏–ø:** `file`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

**–°–≤–æ–π—Å—Ç–≤–∞:**
- `.path` - –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É (string)
- `.mode` - –†–µ–∂–∏–º –æ—Ç–∫—Ä—ã—Ç–∏—è (string)
- `.closed` - –ó–∞–∫—Ä—ã—Ç –ª–∏ —Ñ–∞–π–ª (bool)

**–°–º. —Ç–∞–∫–∂–µ:** [API —Ñ–∞–π–ª–æ–≤](#reference-file-api)

---

### –¢–∏–ø –∑–∞–¥–∞—á–∏

**–¢–∏–ø:** `task`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–∏

**–°–º. —Ç–∞–∫–∂–µ:** [API –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞](#reference-concurrency-api)

---

### –¢–∏–ø –∫–∞–Ω–∞–ª–∞

**–¢–∏–ø:** `channel`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

**–°–º. —Ç–∞–∫–∂–µ:** [API –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞](#reference-concurrency-api)

---

### –¢–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏

**–¢–∏–ø:** `function`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
fn add(a, b) {
    return a + b;
}

let multiply = fn(x, y) {
    return x * y;
};

print(typeof(add));      // "function"
print(typeof(multiply)); // "function"
```

---

### –¢–∏–ø Void

**–¢–∏–ø:** `void`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

---

## –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤

–ü—Ä–∏ —Å–º–µ—à–∏–≤–∞–Ω–∏–∏ —Ç–∏–ø–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö Hemlock –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç –∫ "–≤—ã—Å—à–µ–º—É" —Ç–∏–ø—É:

**–ò–µ—Ä–∞—Ä—Ö–∏—è –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è:**
```
f64 (–≤—ã—Å—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å)
 ‚Üë
f32
 ‚Üë
u64
 ‚Üë
i64
 ‚Üë
u32
 ‚Üë
i32
 ‚Üë
u16
 ‚Üë
i16
 ‚Üë
u8
 ‚Üë
i8 (–Ω–∏–∑—à–∞—è)
```

**–ü—Ä–∞–≤–∏–ª–∞:**
1. Float –≤—Å–µ–≥–¥–∞ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –Ω–∞–¥ integer
2. –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ç–æ–π –∂–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (int/uint/float)
3. –û–±–∞ –æ–ø–µ—Ä–∞–Ω–¥–∞ –ø—Ä–æ–¥–≤–∏–≥–∞—é—Ç—Å—è –∫ —Ç–∏–ø—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏:** i64/u64 + f32 –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è –∫ f64 (–Ω–µ f32)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É
u8 + i32    ‚Üí i32    // –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç
i32 + i64   ‚Üí i64    // –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç
u32 + u64   ‚Üí u64    // –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç

// –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∫ float
i32 + f32   ‚Üí f32    // Float –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç, f32 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è i32
i64 + f32   ‚Üí f64    // –ü—Ä–æ–¥–≤–∏–≥–∞–µ—Ç—Å—è –∫ f64 –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ i64
i64 + f64   ‚Üí f64    // Float –≤—Å–µ–≥–¥–∞ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç
i8 + f64    ‚Üí f64    // Float + –Ω–∞–∏–±–æ–ª—å—à–∏–π –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç
```

**–ü–æ—á–µ–º—É i64 + f32 ‚Üí f64?**

f32 –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ 24-–±–∏—Ç–Ω—É—é –º–∞–Ω—Ç–∏—Å—Å—É, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –º–æ–∂–µ—Ç —Ç–æ—á–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ –±–æ–ª—å—à–µ 2^24 (16,777,216). –ü–æ—Å–∫–æ–ª—å–∫—É i64 –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ 2^63, —Å–º–µ—à–∏–≤–∞–Ω–∏–µ i64 —Å f32 –≤—ã–∑–≤–∞–ª–æ –±—ã —Å–µ—Ä—å—ë–∑–Ω—É—é –ø–æ—Ç–µ—Ä—é —Ç–æ—á–Ω–æ—Å—Ç–∏. Hemlock –ø—Ä–æ–¥–≤–∏–≥–∞–µ—Ç –∫ f64 (53-–±–∏—Ç–Ω–∞—è –º–∞–Ω—Ç–∏—Å—Å–∞) –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ.

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞

–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏:

**–î–æ–ø—É—Å—Ç–∏–º—ã–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è:**
```hemlock
let x: u8 = 255;             // OK
let y: i8 = 127;             // OK
let a: i64 = 2147483647;     // OK
let b: u64 = 4294967295;     // OK
```

**–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è (–æ—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è):**
```hemlock
let x: u8 = 256;             // –û–®–ò–ë–ö–ê: –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
let y: i8 = 128;             // –û–®–ò–ë–ö–ê: –º–∞–∫—Å–∏–º—É–º 127
let z: u64 = -1;             // –û–®–ò–ë–ö–ê: u64 –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
```

---

## –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è —Ç–∏–ø–æ–≤

### typeof(value)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è —Ç–∏–ø–∞ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**
```hemlock
typeof(value: any): string
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- –ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã: `"i8"`, `"i16"`, `"i32"`, `"i64"`, `"u8"`, `"u16"`, `"u32"`, `"u64"`, `"f32"`, `"f64"`, `"bool"`, `"string"`, `"rune"`, `"null"`
- –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã: `"array"`, `"object"`, `"ptr"`, `"buffer"`, `"function"`
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã: `"file"`, `"task"`, `"channel"`
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ç–∏–ø–∞ (–Ω–∞–ø—Ä., `"Person"`)

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
print(typeof(42));              // "i32"
print(typeof(3.14));            // "f64"
print(typeof("hello"));         // "string"
print(typeof('A'));             // "rune"
print(typeof(true));            // "bool"
print(typeof([1, 2, 3]));       // "array"
print(typeof({ x: 10 }));       // "object"

define Person { name: string }
let p: Person = { name: "Alice" };
print(typeof(p));               // "Person"
```

**–°–º. —Ç–∞–∫–∂–µ:** [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](builtins.md#typeof)

---

## –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤

### –ù–µ—è–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

Hemlock –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—è–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, —Å–ª–µ–¥—É—è –ø—Ä–∞–≤–∏–ª–∞–º –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤.

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let a: u8 = 10;
let b: i32 = 20;
let result = a + b;     // result –∏–º–µ–µ—Ç —Ç–∏–ø i32 (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ)
```

### –Ø–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –¥–ª—è —è–≤–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π:

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
// –¶–µ–ª–æ–µ –≤ float
let i: i32 = 42;
let f: f64 = i;         // 42.0

// Float –≤ —Ü–µ–ª–æ–µ (—É—Å–µ—á–µ–Ω–∏–µ)
let x: f64 = 3.14;
let y: i32 = x;         // 3

// –¶–µ–ª–æ–µ –≤ —Ä—É–Ω—É
let code: rune = 65;    // 'A'

// –†—É–Ω–∞ –≤ —Ü–µ–ª–æ–µ
let value: i32 = 'Z';   // 90

// –†—É–Ω–∞ –≤ —Å—Ç—Ä–æ–∫—É
let s: string = 'H';    // "H"
```

---

## –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã

Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤:

| –ü—Å–µ–≤–¥–æ–Ω–∏–º | –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ç–∏–ø | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ              |
|-----------|-----------------|----------------------------|
| `integer` | `i32`           | –¶–µ–ª—ã–µ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è    |
| `number`  | `f64`           | Float –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è    |
| `byte`    | `u8`            | –ë–∞–π—Ç–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è          |

**–ü—Ä–∏–º–µ—Ä—ã:**
```hemlock
let count: integer = 100;       // –¢–æ –∂–µ —á—Ç–æ i32
let price: number = 19.99;      // –¢–æ –∂–µ —á—Ç–æ f64
let b: byte = 255;              // –¢–æ –∂–µ —á—Ç–æ u8
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤

–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ `type`:

```hemlock
// –ü—Ä–æ—Å—Ç—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã
type Integer = i32;
type Text = string;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
type Callback = fn(i32): void;
type Predicate = fn(any): bool;
type BinaryOp = fn(i32, i32): i32;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤
define HasName { name: string }
define HasAge { age: i32 }
type Person = HasName & HasAge;

// –û–±–æ–±—â—ë–Ω–Ω—ã–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤
type Pair<T> = { first: T, second: T };
type Result<T, E> = { value: T?, error: E? };
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤:**
```hemlock
let cb: Callback = fn(n) { print(n); };
let p: Person = { name: "Alice", age: 30 };
let coords: Pair<f64> = { first: 3.14, second: 2.71 };
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã - `typeof()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞.

---

## –¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π

–¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π —É–∫–∞–∑—ã–≤–∞—é—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—É –∑–Ω–∞—á–µ–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–π:

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
fn(—Ç–∏–ø—ã_–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤): —Ç–∏–ø_–≤–æ–∑–≤—Ä–∞—Ç–∞
```

### –ü—Ä–∏–º–µ—Ä—ã

```hemlock
// –ë–∞–∑–æ–≤—ã–π —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏
let add: fn(i32, i32): i32 = fn(a, b) { return a + b; };

// –ü–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏
fn apply(f: fn(i32): i32, x: i32): i32 {
    return f(x);
}

// –§—É–Ω–∫—Ü–∏—è –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—é
fn make_adder(n: i32): fn(i32): i32 {
    return fn(x) { return x + n; };
}

// –¢–∏–ø async —Ñ—É–Ω–∫—Ü–∏–∏
fn run_async(handler: async fn(): void) {
    spawn(handler);
}
```

---

## –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã (–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ)

–°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `&` –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ç–∏–ø–∞:

```hemlock
define HasName { name: string }
define HasAge { age: i32 }
define HasEmail { email: string }

// –û–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—Ç—å –≤—Å–µ–º —Ç–∏–ø–∞–º
let person: HasName & HasAge = { name: "Alice", age: 30 };

// –¢—Ä–∏ –∏–ª–∏ –±–æ–ª–µ–µ —Ç–∏–ø–æ–≤
fn describe(p: HasName & HasAge & HasEmail) {
    print(p.name + " <" + p.email + ">");
}
```

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –¢–∏–ø        | –†–∞–∑–º–µ—Ä   | –ò–∑–º–µ–Ω—è–µ–º—ã–π | –í –∫—É—á–µ         | –û–ø–∏—Å–∞–Ω–∏–µ                       |
|------------|----------|------------|----------------|--------------------------------|
| `i8`-`i64` | 1-8 –±–∞–π—Ç | –ù–µ—Ç        | –ù–µ—Ç            | –ó–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ                 |
| `u8`-`u64` | 1-8 –±–∞–π—Ç | –ù–µ—Ç        | –ù–µ—Ç            | –ë–µ–∑–∑–Ω–∞–∫–æ–≤—ã–µ —Ü–µ–ª—ã–µ              |
| `f32`      | 4 –±–∞–π—Ç–∞  | –ù–µ—Ç        | –ù–µ—Ç            | Float –æ–¥–∏–Ω–∞—Ä–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏       |
| `f64`      | 8 –±–∞–π—Ç   | –ù–µ—Ç        | –ù–µ—Ç            | Float –¥–≤–æ–π–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏         |
| `bool`     | 1 –±–∞–π—Ç   | –ù–µ—Ç        | –ù–µ—Ç            | –ë—É–ª–µ–≤                          |
| `rune`     | 4 –±–∞–π—Ç–∞  | –ù–µ—Ç        | –ù–µ—Ç            | –ö–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞ Unicode          |
| `string`   | –ü–µ—Ä–µ–º.   | –î–∞         | –î–∞             | UTF-8 —Ç–µ–∫—Å—Ç                    |
| `array`    | –ü–µ—Ä–µ–º.   | –î–∞         | –î–∞             | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤            |
| `object`   | –ü–µ—Ä–µ–º.   | –î–∞         | –î–∞             | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –æ–±—ä–µ–∫—Ç            |
| `ptr`      | 8 –±–∞–π—Ç   | –ù–µ—Ç        | –ù–µ—Ç            | –°—ã—Ä–æ–π —É–∫–∞–∑–∞—Ç–µ–ª—å                |
| `buffer`   | –ü–µ—Ä–µ–º.   | –î–∞         | –î–∞             | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è   |
| `file`     | –ù–µ–ø—Ä–æ–∑—Ä. | –î–∞         | –î–∞             | –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞               |
| `task`     | –ù–µ–ø—Ä–æ–∑—Ä. | –ù–µ—Ç        | –î–∞             | –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–¥–∞—á–∏ |
| `channel`  | –ù–µ–ø—Ä–æ–∑—Ä. | –î–∞         | –î–∞             | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª         |
| `function` | –ù–µ–ø—Ä–æ–∑—Ä. | –ù–µ—Ç        | –î–∞             | –ó–Ω–∞—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏               |
| `null`     | 8 –±–∞–π—Ç   | –ù–µ—Ç        | –ù–µ—Ç            | –ó–Ω–∞—á–µ–Ω–∏–µ null                  |

---

## –°–º. —Ç–∞–∫–∂–µ

- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º](#reference-operators) - –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏](#reference-builtins) - –ò–Ω—Ç—Ä–æ—Å–ø–µ–∫—Ü–∏—è –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
- [API —Å—Ç—Ä–æ–∫](#reference-string-api) - –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ —Ç–∏–ø–∞
- [API –º–∞—Å—Å–∏–≤–æ–≤](#reference-array-api) - –ú–µ—Ç–æ–¥—ã —Ç–∏–ø–∞ –º–∞—Å—Å–∏–≤–∞
- [API –ø–∞–º—è—Ç–∏](#reference-memory-api) - –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –∏ –±—É—Ñ–µ—Ä–∞–º–∏



################################################################################
# –î–ò–ó–ê–ô–ù –ò –§–ò–õ–û–°–û–§–ò–Ø
################################################################################

--------------------------------------------------------------------------------
## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
--------------------------------------------------------------------------------

# –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Hemlock

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —è–∑—ã–∫–∞ Hemlock, –≤–∫–ª—é—á–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ–Ω–≤–µ–π–µ—Ä –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ö–æ–Ω–≤–µ–π–µ—Ä –∫–æ–º–ø–∏–ª—è—Ü–∏–∏](#–∫–æ–Ω–≤–µ–π–µ—Ä-–∫–æ–º–ø–∏–ª—è—Ü–∏–∏)
- [–ú–æ–¥—É–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞](#–º–æ–¥—É–ª—å–Ω—ã–π-–¥–∏–∑–∞–π–Ω-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å—Ä–µ–¥—ã-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)
- [–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π](#–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ-–∑–Ω–∞—á–µ–Ω–∏–π)
- [–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤](#—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å–∏—Å—Ç–µ–º—ã-—Ç–∏–ø–æ–≤)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é)
- [–ú–æ–¥–µ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏](#–º–æ–¥–µ–ª—å-–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏)
- [–ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ](#–ø–ª–∞–Ω—ã-–Ω–∞-–±—É–¥—É—â–µ–µ)

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
hemlock/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ frontend/              # –û–±—â–µ–µ: –ª–µ–∫—Å–µ—Ä, –ø–∞—Ä—Å–µ—Ä, AST
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lexer.c            # –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parser/            # –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –Ω–∏—Å—Ö–æ–¥—è—â–∏–π –ø–∞—Ä—Å–µ—Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ast.c              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞–º–∏ AST
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ module.c           # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ backends/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ interpreter/       # hemlock: –æ–±—Ö–æ–¥—è—â–∏–π –¥–µ—Ä–µ–≤–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.c         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ CLI
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ runtime.c      # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π/–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ builtins.c     # –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ compiler/          # hemlockc: –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä C-–∫–æ–¥–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ main.c         # CLI, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ type_check.c   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ codegen.c      # –ö–æ–Ω—Ç–µ–∫—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ codegen_expr.c # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ codegen_stmt.c # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ tools/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lsp/               # Language Server Protocol
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bundler/           # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–±–æ—Ä–∫–∏/—É–ø–∞–∫–æ–≤–∫–∏
‚îú‚îÄ‚îÄ runtime/                   # libhemlock_runtime.a (–¥–ª—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º)
‚îú‚îÄ‚îÄ stdlib/                    # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (39 –º–æ–¥—É–ª–µ–π)
‚îÇ   ‚îî‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ parity/                # –¢–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –Ω–∞ –æ–±–æ–∏—Ö –±—ç–∫–µ–Ω–¥–∞—Ö
‚îÇ   ‚îú‚îÄ‚îÄ interpreter/           # –¢–µ—Å—Ç—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ compiler/              # –¢–µ—Å—Ç—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ examples/                  # –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º
‚îî‚îÄ‚îÄ docs/                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

**`include/`** ‚Äî –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—É–±–ª–∏—á–Ω–æ–≥–æ API, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
- –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –ª–µ–∫—Å–µ—Ä–æ–º, –ø–∞—Ä—Å–µ—Ä–æ–º, AST –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—É–±–ª–∏—á–Ω—ã–π API –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è Hemlock –≤ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

**`src/`** ‚Äî –§–∞–π–ª—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- –§–∞–π–ª—ã –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑, –ø–∞—Ä—Å–∏–Ω–≥, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ AST
- `main.c` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç CLI –∏ REPL
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Ä–∞–∑–±–∏—Ç –Ω–∞ –º–æ–¥—É–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º

**`src/interpreter/`** ‚Äî –ú–æ–¥—É–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞:
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é, —á—ë—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ `internal.h` –¥–ª—è –º–µ–∂–º–æ–¥—É–ª—å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –ú–æ–¥—É–ª–∏ –º–æ–∂–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏

**`tests/`** ‚Äî –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤:
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –æ–±–ª–∞—Å—Ç—è–º
- –ö–∞–∂–¥–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏
- `run_tests.sh` –æ—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

---

## –ö–æ–Ω–≤–µ–π–µ—Ä –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–∑–∞–º–∏:

### –§–∞–∑–∞ 1: –õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (–õ–µ–∫—Å–µ—Ä)

**–í—Ö–æ–¥:** –¢–µ–∫—Å—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
**–í—ã—Ö–æ–¥:** –ü–æ—Ç–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `src/lexer.c`

```
–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥: "let x = 42;"
   ‚Üì
–¢–æ–∫–µ–Ω—ã: [LET, IDENTIFIER("x"), EQUALS, INTEGER(42), SEMICOLON]
```

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –ª–∏—Ç–µ—Ä–∞–ª—ã, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã, –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã UTF-8 –∏ —Ä—É–Ω—ã
- –°–æ–æ–±—â–∞–µ—Ç –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- –û–¥–Ω–æ–ø—Ä–æ—Ö–æ–¥–Ω—ã–π, –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤

### –§–∞–∑–∞ 2: –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (–ü–∞—Ä—Å–µ—Ä)

**–í—Ö–æ–¥:** –ü–æ—Ç–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤
**–í—ã—Ö–æ–¥:** –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ (AST)
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `src/parser.c`

```
–¢–æ–∫–µ–Ω—ã: [LET, IDENTIFIER("x"), EQUALS, INTEGER(42), SEMICOLON]
   ‚Üì
AST: LetStmt {
    name: "x",
    type: null,
    value: IntLiteral(42)
}
```

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –Ω–∏—Å—Ö–æ–¥—è—â–∏–π –ø–∞—Ä—Å–µ—Ä
- –°—Ç—Ä–æ–∏—Ç –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (—Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏, —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π –∏ —Ç.–¥.)
- –ü–æ–∫–∞ –±–µ–∑ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (–æ—Ç –Ω–∏–∑—à–µ–≥–æ –∫ –≤—ã—Å—à–µ–º—É):**
1. –ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ: `=`
2. –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò: `||`
3. –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò: `&&`
4. –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò–õ–ò: `|`
5. –ü–æ–±–∏—Ç–æ–≤–æ–µ –∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò: `^`
6. –ü–æ–±–∏—Ç–æ–≤–æ–µ –ò: `&`
7. –†–∞–≤–µ–Ω—Å—Ç–≤–æ: `==`, `!=`
8. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: `<`, `>`, `<=`, `>=`
9. –ü–æ–±–∏—Ç–æ–≤—ã–µ —Å–¥–≤–∏–≥–∏: `<<`, `>>`
10. –°–ª–æ–∂–µ–Ω–∏–µ/–í—ã—á–∏—Ç–∞–Ω–∏–µ: `+`, `-`
11. –£–º–Ω–æ–∂–µ–Ω–∏–µ/–î–µ–ª–µ–Ω–∏–µ/–û—Å—Ç–∞—Ç–æ–∫: `*`, `/`, `%`
12. –£–Ω–∞—Ä–Ω—ã–µ: `!`, `-`, `~`
13. –í—ã–∑–æ–≤/–ò–Ω–¥–µ–∫—Å/–ß–ª–µ–Ω: `()`, `[]`, `.`

### –§–∞–∑–∞ 3a: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è (–û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞)

**–í—Ö–æ–¥:** AST
**–í—ã—Ö–æ–¥:** –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `src/backends/interpreter/runtime.c`

```
AST: LetStmt { ... }
   ‚Üì
–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç —É–∑–ª—ã AST
   ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç: –°–æ–∑–¥–∞–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è x —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º 42
```

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä—è–º–æ–π –æ–±—Ö–æ–¥ AST (–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Å –æ–±—Ö–æ–¥–æ–º –¥–µ—Ä–µ–≤–∞)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–∫—Ä—É–∂–µ–Ω–∏–π

### –§–∞–∑–∞ 3b: –ö–æ–º–ø–∏–ª—è—Ü–∏—è (hemlockc)

**–í—Ö–æ–¥:** AST
**–í—ã—Ö–æ–¥:** –ù–∞—Ç–∏–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é C-–∫–æ–¥–∞
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `src/backends/compiler/`

```
AST: LetStmt { ... }
   ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
   ‚Üì
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è C: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–≥–æ C-–∫–æ–¥–∞
   ‚Üì
GCC: –ö–æ–º–ø–∏–ª—è—Ü–∏—è C –≤ –Ω–∞—Ç–∏–≤–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª
   ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
```

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (–≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è C-–∫–æ–¥–∞ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏
- –ö–æ–º–ø–æ–Ω–æ–≤–∫–∞ —Å `libhemlock_runtime.a`
- –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, —á–µ–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä

---

## –ë—ç–∫–µ–Ω–¥ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ (hemlockc)

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä Hemlock –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç C-–∫–æ–¥ –∏–∑ AST, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é GCC.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

```
src/backends/compiler/
‚îú‚îÄ‚îÄ main.c              # CLI, —Ä–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ codegen.c           # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞
‚îú‚îÄ‚îÄ codegen_expr.c      # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ codegen_stmt.c      # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
‚îú‚îÄ‚îÄ codegen_call.c      # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
‚îú‚îÄ‚îÄ codegen_closure.c   # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–π
‚îú‚îÄ‚îÄ codegen_program.c   # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è
‚îú‚îÄ‚îÄ codegen_module.c    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥—É–ª–µ–π/–∏–º–ø–æ—Ä—Ç–æ–≤
‚îú‚îÄ‚îÄ type_check.c        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
‚îî‚îÄ‚îÄ type_check.h        # API –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤–∫–ª—é—á–∞–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤, –∫–æ—Ç–æ—Ä–∞—è:

1. **–í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ç–∏–ø—ã –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** ‚Äî –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
2. **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–¥** ‚Äî –ù–µ—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ —Ç—Ä–∞–∫—Ç—É–µ—Ç—Å—è –∫–∞–∫ `any` (–≤—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–µ–Ω)
3. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏** ‚Äî –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å

**–§–ª–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤:**

| –§–ª–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–∫–ª—é—á–µ–Ω–∞ |
| `--check` | –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤, –±–µ–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ |
| `--no-type-check` | –û—Ç–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ |
| `--strict-types` | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å –æ –Ω–µ—è–≤–Ω—ã—Ö —Ç–∏–ø–∞—Ö `any` |

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤:**

```c
// type_check.h ‚Äî –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
typedef struct TypeCheckContext {
    const char *filename;
    int error_count;
    int warning_count;
    UnboxableVar *unboxable_vars;  // –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    // ... –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ —Ç.–¥.
} TypeCheckContext;

// –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
int type_check_program(TypeCheckContext *ctx, Stmt **stmts, int count);
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

–§–∞–∑–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —É–∑–ª—ã AST –≤ C-–∫–æ–¥:

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π:**
```
Hemlock                 ‚Üí  –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π C
----------------------------------------
let x = 42;            ‚Üí  HmlValue x = hml_val_i32(42);
x + y                  ‚Üí  hml_add(x, y)
arr[i]                 ‚Üí  hml_array_get(arr, i)
obj.field              ‚Üí  hml_object_get_field(obj, "field")
fn(a, b) { ... }       ‚Üí  –ó–∞–º—ã–∫–∞–Ω–∏–µ —Å –∑–∞—Ö–≤–∞—Ç–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ä–µ–¥–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π C-–∫–æ–¥ –∫–æ–º–ø–æ–Ω—É–µ—Ç—Å—è —Å `libhemlock_runtime.a`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ `HmlValue`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (–ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (print, typeof –∏ —Ç.–¥.)
- –ü—Ä–∏–º–∏—Ç–∏–≤—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–∑–∞–¥–∞—á–∏, –∫–∞–Ω–∞–ª—ã)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FFI

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã C –≤–º–µ—Å—Ç–æ —É–ø–∞–∫–æ–≤–∞–Ω–Ω—ã—Ö `HmlValue`:

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏:**
- –°—á—ë—Ç—á–∏–∫–∏ —Ü–∏–∫–ª–æ–≤ —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º —Ç–∏–ø–æ–º
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä—ã –≤ —Ü–∏–∫–ª–∞—Ö
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å —è–≤–Ω—ã–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Ç–∏–ø–æ–≤ (i32, i64, f64, bool)

```hemlock
// –°—á—ë—Ç—á–∏–∫ —Ü–∏–∫–ª–∞ 'i' –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω –≤ –Ω–∞—Ç–∏–≤–Ω—ã–π int32_t
for (let i: i32 = 0; i < 1000000; i = i + 1) {
    sum = sum + i;
}
```

---

## –ú–æ–¥—É–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏.

### –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–π

#### 1. –û–∫—Ä—É–∂–µ–Ω–∏–µ (`environment.c`) ‚Äî 121 —Å—Ç—Ä–æ–∫–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–º—ë–Ω

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `env_create()` ‚Äî –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º —Ä–æ–¥–∏—Ç–µ–ª–µ–º
- `env_define()` ‚Äî –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ —Ç–µ–∫—É—â–µ–π –æ–±–ª–∞—Å—Ç–∏
- `env_get()` ‚Äî –ü–æ–∏—Å–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ —Ç–µ–∫—É—â–µ–π –∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö
- `env_set()` ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- `env_free()` ‚Äî –û—Å–≤–æ–±–æ–¥–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–î–∏–∑–∞–π–Ω:**
- –°–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ (–∫–∞–∂–¥–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è)
- HashMap –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª–µ–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π –¥–ª—è –∑–∞–º—ã–∫–∞–Ω–∏–π

#### 2. –ó–Ω–∞—á–µ–Ω–∏—è (`values.c`) ‚Äî 394 —Å—Ç—Ä–æ–∫–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `value_create_*()` ‚Äî –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–Ω–∞—á–µ–Ω–∏—è
- `value_copy()` ‚Äî –õ–æ–≥–∏–∫–∞ –≥–ª—É–±–æ–∫–æ–≥–æ/–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- `value_free()` ‚Äî –û—á–∏—Å—Ç–∫–∞ –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- `value_to_string()` ‚Äî –°—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–µ—á–∞—Ç–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö:**
- –û–±—ä–µ–∫—Ç—ã (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã –ø–æ–ª–µ–π)
- –ú–∞—Å—Å–∏–≤—ã (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞)
- –ë—É—Ñ–µ—Ä—ã (ptr + length + capacity)
- –ó–∞–º—ã–∫–∞–Ω–∏—è (—Ñ—É–Ω–∫—Ü–∏—è + –∑–∞—Ö–≤–∞—á–µ–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ)
- –ó–∞–¥–∞—á–∏ –∏ –∫–∞–Ω–∞–ª—ã (–ø—Ä–∏–º–∏—Ç–∏–≤—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏)

#### 3. –¢–∏–ø—ã (`types.c`) ‚Äî 440 —Å—Ç—Ä–æ–∫

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ —É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `type_check()` ‚Äî –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `type_convert()` ‚Äî –ù–µ—è–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è/–ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–∏–ø–æ–≤
- `duck_type_check()` ‚Äî –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
- `type_name()` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –ø–µ—á–∞—Ç–∞–µ–º–æ–µ –∏–º—è —Ç–∏–ø–∞

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ò–µ—Ä–∞—Ä—Ö–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (i8 ‚Üí i16 ‚Üí i32 ‚Üí i64 ‚Üí f32 ‚Üí f64, –ø—Ä–∏ —ç—Ç–æ–º i64/u64 + f32 ‚Üí f64)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
- –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

#### 4. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`builtins.c`) ‚Äî 955 —Å—Ç—Ä–æ–∫

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `register_builtins()` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (print, typeof, alloc, free –∏ —Ç.–¥.)
- –§—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (exec)

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö:**
- –í–≤–æ–¥/–≤—ã–≤–æ–¥: print, open, read_file, write_file
- –ü–∞–º—è—Ç—å: alloc, free, memset, memcpy, realloc
- –¢–∏–ø—ã: typeof, assert
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å: spawn, join, detach, channel
- –°–∏—Å—Ç–µ–º–∞: exec, signal, raise, panic
- FFI: dlopen, dlsym, dlcall, dlclose

#### 5. –í–≤–æ–¥/–≤—ã–≤–æ–¥ (`io.c`) ‚Äî 449 —Å—Ç—Ä–æ–∫

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥ –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ú–µ—Ç–æ–¥—ã —Ñ–∞–π–ª–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (read, write, seek, tell, close)
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –§–∞–π–ª–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ (path, mode, closed)
- –¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥ —Å —É—á—ë—Ç–æ–º UTF-8
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞
- –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è JSON –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –º–∞—Å—Å–∏–≤–æ–≤

#### 6. FFI (`ffi.c`) ‚Äî –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω–µ—à–Ω–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–∑–æ–≤ C-—Ñ—É–Ω–∫—Ü–∏–π –∏–∑ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `dlopen()` ‚Äî –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞–∑–¥–µ–ª—è–µ–º—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
- `dlsym()` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –ø–æ –∏–º–µ–Ω–∏
- `dlcall()` ‚Äî –í—ã–∑–≤–∞—Ç—å C-—Ñ—É–Ω–∫—Ü–∏—é —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º —Ç–∏–ø–æ–≤
- `dlclose()` ‚Äî –í—ã–≥—Ä—É–∑–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å libffi –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ (Hemlock ‚Üî —Ç–∏–ø—ã C)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –∏ –±—É—Ñ–µ—Ä–æ–≤

#### 7. –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`runtime.c`) ‚Äî 865 —Å—Ç—Ä–æ–∫

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `eval_expr()` ‚Äî –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ)
- `eval_stmt()` ‚Äî –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (if, while, for, switch –∏ —Ç.–¥.)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (try/catch/finally/throw)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –±—É–ª–µ–≤—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å –∫–æ—Ä–æ—Ç–∫–∏–º –∑–∞–º—ã–∫–∞–Ω–∏–µ–º
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –∏ –ø—Ä–∏–≤—è–∑–∫–∞ `self`
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ break/continue/return

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–æ–¥—É–ª—å–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞

**1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –æ–¥–Ω—É —á—ë—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏, –≥–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –°–Ω–∏–∂–∞–µ—Ç –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**2. –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–±–æ—Ä–∫–∏**
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
- –í–æ–∑–º–æ–∂–Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
- –ë–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

**3. –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞**
- –ú–æ–¥—É–ª–∏ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –û—à–∏–±–∫–∏ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞—Ö
- –í–æ–∑–º–æ–∂–Ω—ã mock-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**4. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏
- –ú–æ–¥—É–ª–∏ –º–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- –†–∞–∑–º–µ—Ä –∫–æ–¥–∞ –Ω–∞ —Ñ–∞–π–ª –æ—Å—Ç–∞—ë—Ç—Å—è —É–ø—Ä–∞–≤–ª—è–µ–º—ã–º

**5. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞**
- –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ß—ë—Ç–∫–∏–π –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–µ –≤–≤–µ–¥–µ–Ω–∏–µ –≤ –∫—É—Ä—Å –¥–µ–ª–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π

–í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ Hemlock –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π `Value` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è:

```c
typedef struct Value {
    ValueType type;  // –¢–µ–≥ —Ç–∏–ø–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    union {
        int32_t i32_value;
        int64_t i64_value;
        uint8_t u8_value;
        uint32_t u32_value;
        uint64_t u64_value;
        float f32_value;
        double f64_value;
        bool bool_value;
        char *string_value;
        uint32_t rune_value;
        void *ptr_value;
        Buffer *buffer_value;
        Array *array_value;
        Object *object_value;
        Function *function_value;
        File *file_value;
        Task *task_value;
        Channel *channel_value;
    };
} Value;
```

**–ü—Ä–æ–µ–∫—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
- **–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≥–∏–±–∫–æ—Å—Ç–∏
- **–¢–µ–≥–∏ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–æ–≤
- **–ü—Ä—è–º–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π** –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ (–±–µ–∑ —É–ø–∞–∫–æ–≤–∫–∏)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π** –¥–ª—è —Ç–∏–ø–æ–≤, –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ –∫—É—á–µ (—Å—Ç—Ä–æ–∫–∏, –æ–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã)

### –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏

**–¶–µ–ª–æ–µ —á–∏—Å–ª–æ (i32):**
```
Value {
    type: TYPE_I32,
    i32_value: 42
}
```
- –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: ~16 –±–∞–π—Ç (8-–±–∞–π—Ç–Ω—ã–π —Ç–µ–≥ + 8-–±–∞–π—Ç–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ)
- –í—ã–¥–µ–ª–µ–Ω–æ –≤ —Å—Ç–µ–∫–µ
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤ –∫—É—á–µ

**–°—Ç—Ä–æ–∫–∞:**
```
Value {
    type: TYPE_STRING,
    string_value: 0x7f8a4c000000  // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∫—É—á—É
}

–ö—É—á–∞: "hello\0" (6 –±–∞–π—Ç, null-terminated UTF-8)
```
- Value –∑–∞–Ω–∏–º–∞–µ—Ç 16 –±–∞–π—Ç –≤ —Å—Ç–µ–∫–µ
- –î–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤—ã–¥–µ–ª–µ–Ω—ã –≤ –∫—É—á–µ
- –î–æ–ª–∂–Ω–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é

**–û–±—ä–µ–∫—Ç:**
```
Value {
    type: TYPE_OBJECT,
    object_value: 0x7f8a4c001000  // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∫—É—á—É
}

–ö—É—á–∞: Object {
    type_name: "Person",
    fields: [
        { name: "name", value: Value{TYPE_STRING, "Alice"} },
        { name: "age", value: Value{TYPE_I32, 30} }
    ],
    field_count: 2,
    capacity: 4
}
```
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ –≤ –∫—É—á–µ
- –ü–æ–ª—è —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –º–∞—Å—Å–∏–≤–µ
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Value

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ü–µ–ø–æ—á–∫–∞—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π:

```c
typedef struct Environment {
    HashMap *bindings;           // –∏–º—è ‚Üí Value
    struct Environment *parent;  // –õ–µ–∫—Å–∏—á–µ—Å–∫–∞—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å
} Environment;
```

**–ü—Ä–∏–º–µ—Ä —Ü–µ–ø–æ—á–∫–∏ –æ–±–ª–∞—Å—Ç–µ–π:**
```
–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å: { print: <builtin>, args: <array> }
    ‚Üë
–û–±–ª–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏: { x: 10, y: 20 }
    ‚Üë
–û–±–ª–∞—Å—Ç—å –±–ª–æ–∫–∞: { i: 0 }
```

**–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å hashmap —Ç–µ–∫—É—â–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
3. –ü–æ–≤—Ç–æ—Ä—è—Ç—å, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –∏–ª–∏ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å
4. –û—à–∏–±–∫–∞, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏ –≤ –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

---

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** —Å **–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ —Ç–∏–ø–æ–≤**:

```hemlock
let x = 42;           // –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞, –≤—ã–≤–æ–¥–∏—Ç—Å—è i32
let y: u8 = 255;      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ–º–µ—â–∞—Ç—å—Å—è –≤ u8
let z: i32 = x + y;   // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è + –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ç–∏–ø–∞
```

**–ü–æ—Ç–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. **–í—ã–≤–æ–¥ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤** ‚Äî –õ–µ–∫—Å–µ—Ä/–ø–∞—Ä—Å–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –Ω–∞—á–∞–ª—å–Ω—ã–π —Ç–∏–ø –ø–æ –ª–∏—Ç–µ—Ä–∞–ª—É
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–∞** ‚Äî –ï—Å–ª–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏
3. **–ü–æ–≤—ã—à–µ–Ω–∏–µ** ‚Äî –ë–∏–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–≤—ã—à–∞—é—Ç –¥–æ –æ–±—â–µ–≥–æ —Ç–∏–ø–∞
4. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** ‚Äî –Ø–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–∏–ø–æ–≤

–ü–æ–≤—ã—à–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å–ª–µ–¥—É–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ—á–Ω–æ—Å—Ç–∏:

```c
// –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è
ValueType promote_types(ValueType a, ValueType b) {
    // f64 –≤—Å–µ–≥–¥–∞ –≤—ã–∏–≥—Ä—ã–≤–∞–µ—Ç
    if (a == TYPE_F64 || b == TYPE_F64) return TYPE_F64;

    // f32 —Å i64/u64 –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –¥–æ f64 (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏)
    if (a == TYPE_F32 || b == TYPE_F32) {
        ValueType other = (a == TYPE_F32) ? b : a;
        if (other == TYPE_I64 || other == TYPE_U64) return TYPE_F64;
        return TYPE_F32;
    }

    // –ë–æ–ª—å—à–∏–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç
    int rank_a = get_type_rank(a);
    int rank_b = get_type_rank(b);
    return (rank_a > rank_b) ? a : b;
}
```

**–†–∞–Ω–≥–∏ —Ç–∏–ø–æ–≤:**
- i8: 0
- u8: 1
- i16: 2
- u16: 3
- i32: 4
- u32: 5
- i64: 6
- u64: 7
- f32: 8
- f64: 9

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —É—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:

```c
bool duck_type_check(Object *obj, TypeDef *type_def) {
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
    for (each field in type_def) {
        if (!object_has_field(obj, field.name)) {
            return false;  // –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ
        }

        Value *field_value = object_get_field(obj, field.name);
        if (!type_matches(field_value, field.type)) {
            return false;  // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø
        }
    }

    return true;  // –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø
}
```

**–£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç:**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –æ–±—ä–µ–∫—Ç–∞—Ö (–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è)
- –°—É–±—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é (–æ–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –±–æ–ª—å—à–µ, —á–µ–º —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —Ç–∏–ø–∞ –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–¥–µ–ª–µ–Ω–∏—è

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é** —Å –¥–≤—É–º—è –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è:

**1. –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`ptr`):**
```c
void *alloc(size_t bytes) {
    void *ptr = malloc(bytes);
    if (!ptr) {
        fprintf(stderr, "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏\n");
        exit(1);
    }
    return ptr;
}
```
- –ü—Ä—è–º–æ–π malloc/free
- –ë–µ–∑ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ

**2. –ë—É—Ñ–µ—Ä—ã (`buffer`):**
```c
typedef struct Buffer {
    void *data;
    size_t length;
    size_t capacity;
} Buffer;

Buffer *create_buffer(size_t size) {
    Buffer *buf = malloc(sizeof(Buffer));
    buf->data = malloc(size);
    buf->length = size;
    buf->capacity = size;
    return buf;
}
```
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∏ —ë–º–∫–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ
- –í—Å—ë –µ—â—ë —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ free

### –¢–∏–ø—ã, –≤—ã–¥–µ–ª—è–µ–º—ã–µ –≤ –∫—É—á–µ

**–°—Ç—Ä–æ–∫–∏:**
- –ú–∞—Å—Å–∏–≤ –±–∞–π—Ç–æ–≤ UTF-8 –≤ –∫—É—á–µ
- Null-terminated –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å C
- –ò–∑–º–µ–Ω—è–µ–º—ã–µ (–º–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –º–µ—Å—Ç–µ)
- –° –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏)

**–û–±—ä–µ–∫—Ç—ã:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π
- –ò–º–µ–Ω–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π –≤ –∫—É—á–µ
- –° –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏)
- –í–æ–∑–º–æ–∂–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º –ø–æ—Å–µ—â—ë–Ω–Ω—ã—Ö)

**–ú–∞—Å—Å–∏–≤—ã:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–¥–≤–æ–µ–Ω–∏–µ —ë–º–∫–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–æ—Å—Ç–µ
- –≠–ª–µ–º–µ–Ω—Ç—ã ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Value
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ
- –° –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏)

**–ó–∞–º—ã–∫–∞–Ω–∏—è:**
- –ó–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ
- –û–∫—Ä—É–∂–µ–Ω–∏–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –≤ –∫—É—á–µ
- –û–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–π –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã

---

## –ú–æ–¥–µ–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Ç–æ–∫–æ–≤

Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø–æ—Ç–æ–∫–∏ 1:1** —Å POSIX-–ø–æ—Ç–æ–∫–∞–º–∏ (pthreads):

```
–ó–∞–¥–∞—á–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    –ü–æ—Ç–æ–∫ –û–°          –Ø–¥—Ä–æ CPU
--------------         ---------          --------
spawn(f1) ------>      pthread_create --> –Ø–¥—Ä–æ 0
spawn(f2) ------>      pthread_create --> –Ø–¥—Ä–æ 1
spawn(f3) ------>      pthread_create --> –Ø–¥—Ä–æ 2
```

**–ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ö–∞–∂–¥—ã–π `spawn()` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π pthread
- –Ø–¥—Ä–æ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫–∏ –ø–æ —è–¥—Ä–∞–º
- –ù–∞—Å—Ç–æ—è—â–µ–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–±–µ–∑ GIL)
- –í—ã—Ç–µ—Å–Ω—è—é—â–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

```c
typedef struct Task {
    pthread_t thread;        // –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –ø–æ—Ç–æ–∫–∞ –û–°
    Value result;            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    char *error;             // –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –∏—Å–∫–ª—é—á–µ–Ω–∏–∏ (–µ—Å–ª–∏ –≤—ã–±—Ä–æ—à–µ–Ω–æ)
    pthread_mutex_t lock;    // –ó–∞—â–∏—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    TaskState state;         // RUNNING, FINISHED, ERROR
} Task;
```

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–¥–∞—á–∏:**
1. `spawn(func, args)` ‚Üí –°–æ–∑–¥–∞—Ç—å Task, –∑–∞–ø—É—Å—Ç–∏—Ç—å pthread
2. –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
3. –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ FINISHED
4. –ü—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–∏: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ ERROR
5. `join(task)` ‚Üí –ñ–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞, –≤–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–ª–∏ –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤

```c
typedef struct Channel {
    void **buffer;           // –ö–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä Value*
    size_t capacity;         // –ú–∞–∫—Å–∏–º—É–º –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    size_t count;            // –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –±—É—Ñ–µ—Ä–µ
    size_t read_index;       // –°–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∏—Ü–∏—è —á—Ç–µ–Ω–∏—è
    size_t write_index;      // –°–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∏—Ü–∏—è –∑–∞–ø–∏—Å–∏
    bool closed;             // –§–ª–∞–≥ –∑–∞–∫—Ä—ã—Ç–∏—è –∫–∞–Ω–∞–ª–∞
    pthread_mutex_t lock;    // –ó–∞—â–∏—â–∞–µ—Ç –±—É—Ñ–µ—Ä
    pthread_cond_t not_full; // –°–∏–≥–Ω–∞–ª –æ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –º–µ—Å—Ç–∞
    pthread_cond_t not_empty;// –°–∏–≥–Ω–∞–ª –æ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
} Channel;
```

**–û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏:**
1. –ó–∞—Ö–≤–∞—Ç–∏—Ç—å –º—å—é—Ç–µ–∫—Å
2. –ñ–¥–∞—Ç—å, –µ—Å–ª–∏ –±—É—Ñ–µ—Ä –ø–æ–ª–æ–Ω (cond_wait –Ω–∞ not_full)
3. –ó–∞–ø–∏—Å–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ buffer[write_index]
4. –£–≤–µ–ª–∏—á–∏—Ç—å write_index (–∫–æ–ª—å—Ü–µ–≤–æ–π)
5. –°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å not_empty
6. –û—Å–≤–æ–±–æ–¥–∏—Ç—å –º—å—é—Ç–µ–∫—Å

**–û–ø–µ—Ä–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è:**
1. –ó–∞—Ö–≤–∞—Ç–∏—Ç—å –º—å—é—Ç–µ–∫—Å
2. –ñ–¥–∞—Ç—å, –µ—Å–ª–∏ –±—É—Ñ–µ—Ä –ø—É—Å—Ç (cond_wait –Ω–∞ not_empty)
3. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ buffer[read_index]
4. –£–≤–µ–ª–∏—á–∏—Ç—å read_index (–∫–æ–ª—å—Ü–µ–≤–æ–π)
5. –°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å not_full
6. –û—Å–≤–æ–±–æ–¥–∏—Ç—å –º—å—é—Ç–µ–∫—Å

**–ì–∞—Ä–∞–Ω—Ç–∏–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ send/recv (–∑–∞—â–∏—â–µ–Ω—ã –º—å—é—Ç–µ–∫—Å–æ–º)
- –ë–ª–æ–∫–∏—Ä—É—é—â–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –∂–¥—ë—Ç, –µ—Å–ª–∏ –ø–æ–ª–æ–Ω, –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –∂–¥—ë—Ç, –µ—Å–ª–∏ –ø—É—Å—Ç)
- –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ (FIFO –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–∞–Ω–∞–ª–∞)

---

## –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

### –ó–∞–≤–µ—Ä—à–µ–Ω–æ: –ë—ç–∫–µ–Ω–¥ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞

–ë—ç–∫–µ–Ω–¥ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ (`hemlockc`) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–µ–π C-–∫–æ–¥–∞ –∏–∑ AST
- –ü—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (–≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`libhemlock_runtime.a`)
- –ü–æ–ª–Ω—ã–º –ø–∞—Ä–∏—Ç–µ—Ç–æ–º —Å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º (98% —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç)
- –§—Ä–µ–π–º–≤–æ—Ä–∫–æ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏

### –¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å: –£–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤

**–ù–µ–¥–∞–≤–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –∏ –≤—ã–≤–æ–¥–∞ —Ç–∏–ø–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –§–ª–∞–≥ `--check` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ codegen –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è:**
- –î–∂–µ–Ω–µ—Ä–∏–∫–∏/—à–∞–±–ª–æ–Ω—ã
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LSP –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IDE —Å —É—á—ë—Ç–æ–º —Ç–∏–ø–æ–≤
- –ë–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏
- –ê–Ω–∞–ª–∏–∑ —É–±–µ–≥–∞–Ω–∏—è –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤ —Å—Ç–µ–∫–µ

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- –ò–Ω–ª–∞–π–Ω-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤
- JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏—è –¥–ª—è –≥–æ—Ä—è—á–∏—Ö –ø—É—Ç–µ–π –∫–æ–¥–∞
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å –ø–µ—Ä–µ—Ö–≤–∞—Ç–æ–º —Ä–∞–±–æ—Ç—ã –¥–ª—è –ª—É—á—à–µ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

–ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞–º:

**1. –í—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–æ–¥—É–ª—å:**
- –ù–æ–≤—ã–µ —Ç–∏–ø—ã –∑–Ω–∞—á–µ–Ω–∏–π ‚Üí `values.c`
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ ‚Üí `types.c`
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Üí `builtins.c`
- –û–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ ‚Üí `io.c`
- –ü–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ‚Üí `runtime.c`

**2. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–ª–æ–∏:**
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã —É–∑–ª–æ–≤ AST –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (`ast.h`, `ast.c`)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –ª–µ–∫—Å–µ—Ä–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (`lexer.c`)
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –ø–∞—Ä—Å–µ—Ä–∞ (`parser.c`)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`runtime.c` –∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (`tests/`)

**3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:**
- –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —Å—Ç–∏–ª—é –∫–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π API –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —è—Å–Ω—ã–µ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

**4. –¢—â–∞—Ç–µ–ª—å–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–µ –∏ –æ—à–∏–±–æ—á–Ω—ã–µ –ø—É—Ç–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (valgrind)

### –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–¢–µ–∫—É—â–∏–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞:**
- –ü–æ–∏—Å–∫ –≤ HashMap –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º
- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π (–Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ö–≤–æ—Å—Ç–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤)
- –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ (–≤—ã–¥–µ–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –∫–∞–∂–¥—ã–π —Ä–∞–∑)
- –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–∏–Ω–ª–∞–π–Ω-–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ö–≤–æ—Å—Ç–æ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- StringBuilder –¥–ª—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–∏
- –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –°–æ–≤–µ—Ç—ã –ø–æ –æ—Ç–ª–∞–¥–∫–µ

**–ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `valgrind` ‚Äî –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- `gdb` ‚Äî –û—Ç–ª–∞–¥–∫–∞ —Å–±–æ–µ–≤
- –§–ª–∞–≥ `-g` ‚Äî –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
- `printf`-–æ—Ç–ª–∞–¥–∫–∞ ‚Äî –ü—Ä–æ—Å—Ç–æ, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

**–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- Segfault ‚Üí –†–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏–µ –Ω—É–ª–µ–≤–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
- –£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ ‚Üí –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤—ã–∑–æ–≤ free() (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ value_free)
- –û—à–∏–±–∫–∞ —Ç–∏–ø–∞ ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏–∫—É type_convert() –∏ type_check()
- –°–±–æ–π –≤ –ø–æ—Ç–æ–∫–∞—Ö ‚Üí –°–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º—å—é—Ç–µ–∫—Å–æ–≤)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Hemlock –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–µ—Ç:
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** ‚Äî –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –ü—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- **–Ø–≤–Ω–æ—Å—Ç—å** ‚Äî –ù–∏–∫–∞–∫–æ–π —Å–∫—Ä—ã—Ç–æ–π –º–∞–≥–∏–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å** ‚Äî –õ–µ–≥–∫–æ –ø–æ–Ω–∏–º–∞—Ç—å –∏ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

–¢–µ–∫—É—â–∏–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Å –æ–±—Ö–æ–¥–æ–º –¥–µ—Ä–µ–≤–∞ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—Ä–æ—Å—Ç –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –ë—É–¥—É—â–∏–π –±—ç–∫–µ–Ω–¥ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ —É–ª—É—á—à–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è—è —Ç—É –∂–µ —Å–µ–º–∞–Ω—Ç–∏–∫—É.


--------------------------------------------------------------------------------
## –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Å–∏–≥–Ω–∞—Ç—É—Ä
--------------------------------------------------------------------------------

# –î–∏–∑–∞–π–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä

> –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤ Hemlock —Ç–∏–ø–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏ nullable, –ø—Å–µ–≤–¥–æ–Ω–∏–º–∞–º–∏ —Ç–∏–ø–æ–≤, const-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏ –º–µ—Ç–æ–¥–æ–≤.

**–°—Ç–∞—Ç—É—Å:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (v1.7.0)
**–í–µ—Ä—Å–∏—è:** 1.0
**–ê–≤—Ç–æ—Ä:** Claude

---

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø—è—Ç—å –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ Hemlock:

1. **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π** ‚Äî –ü–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–µ —Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π
2. **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã nullable —Ç–∏–ø–æ–≤** ‚Äî –Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ null (—Ä–∞—Å—à–∏—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–ª–∞–≥ `nullable`)
3. **–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤** ‚Äî –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Ç–∏–ø–æ–≤
4. **Const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã** ‚Äî –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏
5. **–°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –≤ Define** ‚Äî –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

–≠—Ç–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑–¥–µ–ª—è—é—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é: **—è–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏**.

---

## 1. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π

### –ú–æ—Ç–∏–≤–∞—Ü–∏—è

–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ—Ç —Å–ø–æ—Å–æ–±–∞ –≤—ã—Ä–∞–∑–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ —Ç–∏–ø:

```hemlock
// –¢–µ–∫—É—â–µ–µ: callback –Ω–µ –∏–º–µ–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–µ
fn map(arr: array, callback) { ... }

// –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: —è–≤–Ω—ã–π —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏
fn map(arr: array, callback: fn(any, i32): any): array { ... }
```

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
// –ë–∞–∑–æ–≤—ã–π —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏
fn(i32, i32): i32

// –° –∏–º–µ–Ω–∞–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è)
fn(a: i32, b: i32): i32

// –ë–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (void)
fn(string): void
fn(string)              // –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ: –æ–ø—É—Å—Ç–∏—Ç—å `: void`

// Nullable –≤–æ–∑–≤—Ä–∞—Ç
fn(i32): string?

// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
fn(name: string, age?: i32): void

// Rest-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã
fn(...args: array): i32

// –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
fn(): bool

// –í—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞: —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—é
fn(i32): fn(i32): i32

// –¢–∏–ø –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
async fn(i32): i32
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```hemlock
// –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å —Ç–∏–ø–æ–º —Ñ—É–Ω–∫—Ü–∏–∏
let add: fn(i32, i32): i32 = fn(a, b) { return a + b; };

// –ü–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü–∏–∏
fn apply(f: fn(i32): i32, x: i32): i32 {
    return f(x);
}

// –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø ‚Äî —Ñ—É–Ω–∫—Ü–∏—è
fn make_adder(n: i32): fn(i32): i32 {
    return fn(x) { return x + n; };
}

// –ú–∞—Å—Å–∏–≤ —Ñ—É–Ω–∫—Ü–∏–π
let ops: array<fn(i32, i32): i32> = [add, subtract, multiply];

// –ü–æ–ª–µ –æ–±—ä–µ–∫—Ç–∞
define EventHandler {
    name: string;
    callback: fn(Event): void;
}
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è AST

```c
// –í –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–∏ TypeKind (include/ast.h)
typedef enum {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∏–ø—ã ...
    TYPE_FUNCTION,      // –ù–û–í–û–ï: –¢–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏
} TypeKind;

// –í —Å—Ç—Ä—É–∫—Ç—É—Ä–µ Type (include/ast.h)
struct Type {
    TypeKind kind;
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...

    // –î–ª—è TYPE_FUNCTION:
    struct Type **param_types;      // –¢–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    char **param_names;             // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
    int *param_optional;            // –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã
    int num_params;
    char *rest_param_name;          // –ò–º—è rest-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏–ª–∏ NULL
    struct Type *rest_param_type;   // –¢–∏–ø rest-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    struct Type *return_type;       // –¢–∏–ø –≤–æ–∑–≤—Ä–∞—Ç–∞ (NULL = void)
    int is_async;                   // –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ç–∏–ø fn
};
```

### –ü–∞—Ä—Å–∏–Ω–≥

–¢–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `fn` (–∏–ª–∏ `async fn`), –∑–∞ –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥—É–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```
function_type := ["async"] "fn" "(" [param_type_list] ")" [":" type]
param_type_list := param_type ("," param_type)*
param_type := [identifier ":"] ["?"] type | "..." [identifier] [":" type]
```

**–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏:** –ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ —Ç–∏–ø–∞ –∏ –≤—Å—Ç—Ä–µ—á–µ `fn`:
- –ï—Å–ª–∏ –∑–∞ –Ω–∏–º —Å–ª–µ–¥—É–µ—Ç `(`, —ç—Ç–æ —Ç–∏–ø —Ñ—É–Ω–∫—Ü–∏–∏
- –ò–Ω–∞—á–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–≥–æ–ª—ã–π `fn` –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º —Ç–∏–ø–æ–º)

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤

```hemlock
// –î–ª—è —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
let f: fn(i32): i32 = fn(x: i32): i32 { return x; };  // OK

// –ö–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–ø—Ä–∏–Ω—è—Ç–∏–µ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏—Ö —Ç–∏–ø–æ–≤ OK)
let g: fn(any): i32 = fn(x: i32): i32 { return x; };  // OK: i32 <: any

// –ö–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ (–≤–æ–∑–≤—Ä–∞—Ç –±–æ–ª–µ–µ —É–∑–∫–∏—Ö —Ç–∏–ø–æ–≤ OK)
let h: fn(i32): any = fn(x: i32): i32 { return x; };  // OK: i32 <: any

// –ê—Ä–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å
let bad: fn(i32): i32 = fn(a, b) { return a; };       // –û–®–ò–ë–ö–ê: –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞—Ä–Ω–æ—Å—Ç–∏

// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏
let opt: fn(i32, i32?): i32 = fn(a, b?: 0) { return a + b; };  // OK
```

---

## 2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã nullable —Ç–∏–ø–æ–≤

### –ú–æ—Ç–∏–≤–∞—Ü–∏—è

–°—É—Ñ—Ñ–∏–∫—Å `?` –¥–µ–ª–∞–µ—Ç —è–≤–Ω—ã–º –ø—Ä–∏–Ω—è—Ç–∏–µ null –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö:

```hemlock
// –¢–µ–∫—É—â–µ–µ: –Ω–µ—è—Å–Ω–æ, –≤–∞–ª–∏–¥–µ–Ω –ª–∏ null
fn find(arr: array, val: any): i32 { ... }

// –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: —è–≤–Ω—ã–π nullable –≤–æ–∑–≤—Ä–∞—Ç
fn find(arr: array, val: any): i32? { ... }
```

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
// Nullable —Ç–∏–ø—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º ?
string?           // string –∏–ª–∏ null
i32?              // i32 –∏–ª–∏ null
User?             // User –∏–ª–∏ null
array<i32>?       // array –∏–ª–∏ null
fn(i32): i32?     // —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è i32 –∏–ª–∏ null

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å —Ç–∏–ø–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π
fn(string?): i32          // –ü—Ä–∏–Ω–∏–º–∞–µ—Ç string –∏–ª–∏ null
fn(string): i32?          // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç i32 –∏–ª–∏ null
fn(string?): i32?         // –û–±–∞ nullable

// –í define
define Result {
    value: any?;
    error: string?;
}
```

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:** –§–ª–∞–≥ `Type.nullable` —É–∂–µ –µ—Å—Ç—å –≤ AST. –≠—Ç–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ç—Ä–µ–±—É–µ—Ç:
1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –¥–ª—è —Å—É—Ñ—Ñ–∏–∫—Å–∞ `?` –Ω–∞ –ª—é–±–æ–º —Ç–∏–ø–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å/—Ä–∞—Å—à–∏—Ä–∏—Ç—å)
2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å —Ç–∏–ø–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–π
3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç–∏–ø–æ–≤

```hemlock
// Non-nullable –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è nullable
let x: i32? = 42;           // OK
let y: i32? = null;         // OK

// Nullable –ù–ï –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è non-nullable
let z: i32 = x;             // –û–®–ò–ë–ö–ê: x –º–æ–∂–µ—Ç –±—ã—Ç—å null

// Null coalescing –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
let z: i32 = x ?? 0;        // OK: ?? –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

// Optional chaining –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç nullable
let name: string? = user?.name;
```

---

## 3. –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤

### –ú–æ—Ç–∏–≤–∞—Ü–∏—è

–°–ª–æ–∂–Ω—ã–µ —Ç–∏–ø—ã –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç –æ—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π:

```hemlock
// –¢–µ–∫—É—â–µ–µ: –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã
fn process(entity: HasName & HasId & HasTimestamp) { ... }
fn validate(entity: HasName & HasId & HasTimestamp) { ... }

// –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –ø—Å–µ–≤–¥–æ–Ω–∏–º
type Entity = HasName & HasId & HasTimestamp;
fn process(entity: Entity) { ... }
fn validate(entity: Entity) { ... }
```

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
// –ë–∞–∑–æ–≤—ã–π –ø—Å–µ–≤–¥–æ–Ω–∏–º
type Integer = i32;
type Text = string;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ —Ç–∏–ø–∞
type Entity = HasName & HasId;
type Auditable = HasCreatedAt & HasUpdatedAt & HasCreatedBy;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏
type Callback = fn(Event): void;
type Predicate = fn(any): bool;
type Reducer = fn(acc: any, val: any): any;
type AsyncTask = async fn(): any;

// Nullable –ø—Å–µ–≤–¥–æ–Ω–∏–º
type OptionalString = string?;

// –î–∂–µ–Ω–µ—Ä–∏–∫-–ø—Å–µ–≤–¥–æ–Ω–∏–º (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –¥–∂–µ–Ω–µ—Ä–∏–∫-–ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤)
type Pair<T> = { first: T, second: T };
type Result<T, E> = { value: T?, error: E? };

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞ –º–∞—Å—Å–∏–≤–∞
type IntArray = array<i32>;
type Matrix = array<array<f64>>;
```

### –û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏ –≤–∏–¥–∏–º–æ—Å—Ç—å

```hemlock
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –æ–±–ª–∞—Å—Ç–∏ –º–æ–¥—É–ª—è
type Callback = fn(Event): void;

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π
export type Handler = fn(Request): Response;

// –í –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ
import { Handler } from "./handlers.hml";
fn register(h: Handler) { ... }
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è AST

```c
// –ù–æ–≤—ã–π –≤–∏–¥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
typedef enum {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã ...
    STMT_TYPE_ALIAS,    // –ù–û–í–û–ï
} StmtKind;

// –í –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ Stmt
struct {
    char *name;                 // –ò–º—è –ø—Å–µ–≤–¥–æ–Ω–∏–º–∞
    char **type_params;         // –î–∂–µ–Ω–µ—Ä–∏–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã: <T, U>
    int num_type_params;
    Type *aliased_type;         // –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ç–∏–ø
} type_alias;
```

### –ü–∞—Ä—Å–∏–Ω–≥

```
type_alias := "type" identifier ["<" type_params ">"] "=" type ";"
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `type` ‚Äî –Ω–æ–≤–æ–µ –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏.

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ

–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –Ω–∞:
- **–≠—Ç–∞–ø–µ –ø–∞—Ä—Å–∏–Ω–≥–∞:** –ü—Å–µ–≤–¥–æ–Ω–∏–º –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤
- **–≠—Ç–∞–ø–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:** –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –±–∞–∑–æ–≤—ã–π —Ç–∏–ø
- **–í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** –ü—Å–µ–≤–¥–æ–Ω–∏–º –ø—Ä–æ–∑—Ä–∞—á–µ–Ω (—Ç–æ –∂–µ, —á—Ç–æ –±–∞–∑–æ–≤—ã–π —Ç–∏–ø)

```hemlock
type MyInt = i32;
let x: MyInt = 42;
typeof(x);           // "i32" (–Ω–µ "MyInt")
```

---

## 4. Const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ú–æ—Ç–∏–≤–∞—Ü–∏—è

–°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞—Ö —Ñ—É–Ω–∫—Ü–∏–π:

```hemlock
// –¢–µ–∫—É—â–µ–µ: –Ω–µ—è—Å–Ω–æ, –±—É–¥–µ—Ç –ª–∏ –º–∞—Å—Å–∏–≤ –∏–∑–º–µ–Ω—ë–Ω
fn print_all(items: array) { ... }

// –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: —è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏
fn print_all(const items: array) { ... }
```

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
// Const-–ø–∞—Ä–∞–º–µ—Ç—Ä
fn process(const data: buffer) {
    // data[0] = 0;        // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å const
    let x = data[0];       // OK: —á—Ç–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ
    return x;
}

// –ù–µ—Å–∫–æ–ª—å–∫–æ const-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
fn compare(const a: array, const b: array): bool { ... }

// –°–º–µ—à–∞–Ω–Ω—ã–µ const –∏ –∏–∑–º–µ–Ω—è–µ–º—ã–µ
fn update(const source: array, target: array) {
    for (item in source) {
        target.push(item);   // OK: target –∏–∑–º–µ–Ω—è–µ–º—ã–π
    }
}

// Const —Å –≤—ã–≤–æ–¥–æ–º —Ç–∏–ø–∞
fn log(const msg) {
    print(msg);
}

// Const –≤ —Ç–∏–ø–∞—Ö —Ñ—É–Ω–∫—Ü–∏–π
type Reader = fn(const buffer): i32;
```

### –ß—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç Const

```hemlock
fn bad(const arr: array) {
    arr.push(1);         // –û–®–ò–ë–ö–ê: –∏–∑–º–µ–Ω—è—é—â–∏–π –º–µ—Ç–æ–¥
    arr.pop();           // –û–®–ò–ë–ö–ê: –∏–∑–º–µ–Ω—è—é—â–∏–π –º–µ—Ç–æ–¥
    arr[0] = 5;          // –û–®–ò–ë–ö–ê: –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
    arr.clear();         // –û–®–ò–ë–ö–ê: –∏–∑–º–µ–Ω—è—é—â–∏–π –º–µ—Ç–æ–¥
}

fn ok(const arr: array) {
    let x = arr[0];      // OK: —á—Ç–µ–Ω–∏–µ
    let len = len(arr);  // OK: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
    let copy = arr.slice(0, 10);  // OK: —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤
    for (item in arr) {  // OK: –∏—Ç–µ—Ä–∞—Ü–∏—è
        print(item);
    }
}
```

### –ò–∑–º–µ–Ω—è—é—â–∏–µ vs –Ω–µ–∏–∑–º–µ–Ω—è—é—â–∏–µ –º–µ—Ç–æ–¥—ã

| –¢–∏–ø | –ò–∑–º–µ–Ω—è—é—â–∏–µ (–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è const) | –ù–µ–∏–∑–º–µ–Ω—è—é—â–∏–µ (—Ä–∞–∑—Ä–µ—à–µ–Ω—ã) |
|-----|-------------------------------|-------------------------|
| array | push, pop, shift, unshift, insert, remove, clear, reverse (–Ω–∞ –º–µ—Å—Ç–µ) | slice, concat, map, filter, find, contains, first, last, join |
| string | –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É (`s[0] = 'x'`) | –≤—Å–µ –º–µ—Ç–æ–¥—ã (–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏) |
| buffer | –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É, memset, memcpy (–≤) | —á—Ç–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É, slice |
| object | –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –ø–æ–ª—è | —á—Ç–µ–Ω–∏–µ –ø–æ–ª—è |

### –ò–∑–º–µ–Ω–µ–Ω–∏—è AST

```c
// –í –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (include/ast.h)
struct {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    int *param_is_const;    // –ù–û–í–û–ï: 1 –µ—Å–ª–∏ const, 0 –∏–Ω–∞—á–µ
} function;

// –í —Å—Ç—Ä—É–∫—Ç—É—Ä–µ Type –¥–ª—è —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
struct Type {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    int *param_is_const;    // –î–ª—è TYPE_FUNCTION
};
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å const-–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–≤—è–∑–∫–∞—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –û—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ const

**–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä:**
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å const-–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ C –≥–¥–µ –ø–æ–ª–µ–∑–Ω–æ
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–∞—Ä—É—à–µ–Ω–∏–π const
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ/–æ—à–∏–±–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

---

## 5. –°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –≤ Define

### –ú–æ—Ç–∏–≤–∞—Ü–∏—è

–ü–æ–∑–≤–æ–ª–∏—Ç—å –±–ª–æ–∫–∞–º `define` —É–∫–∞–∑—ã–≤–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ –º–µ—Ç–æ–¥—ã, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª—è –¥–∞–Ω–Ω—ã—Ö:

```hemlock
// –¢–µ–∫—É—â–µ–µ: —Ç–æ–ª—å–∫–æ –ø–æ–ª—è –¥–∞–Ω–Ω—ã—Ö
define User {
    name: string;
    age: i32;
}

// –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ: —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤
define Comparable {
    fn compare(other: Self): i32;
}

define Serializable {
    fn serialize(): string;
    fn deserialize(data: string): Self;  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥
}
```

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```hemlock
// –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞ (–±–µ–∑ —Ç–µ–ª–∞)
define Hashable {
    fn hash(): i32;
}

// –ù–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤
define Collection {
    fn size(): i32;
    fn is_empty(): bool;
    fn contains(item: any): bool;
}

// –°–º–µ—à–∞–Ω–Ω—ã–µ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã
define Entity {
    id: i32;
    name: string;
    fn validate(): bool;
    fn serialize(): string;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ Self
define Cloneable {
    fn clone(): Self;
}

define Comparable {
    fn compare(other: Self): i32;
    fn equals(other: Self): bool;
}

// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
define Printable {
    fn to_string(): string;
    fn debug_string?(): string;  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ (–º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å)
}

// –ú–µ—Ç–æ–¥—ã —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
define Ordered {
    fn compare(other: Self): i32;  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π

    // –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã)
    fn less_than(other: Self): bool {
        return self.compare(other) < 0;
    }
    fn greater_than(other: Self): bool {
        return self.compare(other) > 0;
    }
    fn equals(other: Self): bool {
        return self.compare(other) == 0;
    }
}
```

### –¢–∏–ø `Self`

`Self` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```hemlock
define Addable {
    fn add(other: Self): Self;
}

// –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:
let a: Addable = {
    value: 10,
    add: fn(other) {
        return { value: self.value + other.value, add: self.add };
    }
};
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è)

–°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç—É –∂–µ —É—Ç–∏–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é, —á—Ç–æ –∏ –ø–æ–ª—è:

```hemlock
define Stringifiable {
    fn to_string(): string;
}

// –õ—é–±–æ–π –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º to_string() —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç Stringifiable
let x: Stringifiable = {
    name: "test",
    to_string: fn() { return self.name; }
};

// –°–æ—Å—Ç–∞–≤–Ω—ã–µ —Ç–∏–ø—ã —Å –º–µ—Ç–æ–¥–∞–º–∏
define Named { name: string; }
define Printable { fn to_string(): string; }

type NamedPrintable = Named & Printable;

let y: NamedPrintable = {
    name: "Alice",
    to_string: fn() { return "Name: " + self.name; }
};
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è AST

```c
// –†–∞—Å—à–∏—Ä–∏—Ç—å define_object –≤ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ Stmt
struct {
    char *name;
    char **type_params;
    int num_type_params;

    // –ü–æ–ª—è (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)
    char **field_names;
    Type **field_types;
    int *field_optional;
    Expr **field_defaults;
    int num_fields;

    // –ú–µ—Ç–æ–¥—ã (–ù–û–í–û–ï)
    char **method_names;
    Type **method_types;        // TYPE_FUNCTION
    int *method_optional;       // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (fn name?(): type)
    Expr **method_defaults;     // –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (NULL –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞)
    int num_methods;
} define_object;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

–ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ `value: InterfaceType`:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Ç–∏–ø–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏
3. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è/–º–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å

```hemlock
define Sortable {
    fn compare(other: Self): i32;
}

// –í–∞–ª–∏–¥–Ω–æ: –µ—Å—Ç—å –º–µ—Ç–æ–¥ compare
let valid: Sortable = {
    value: 10,
    compare: fn(other) { return self.value - other.value; }
};

// –ù–µ–≤–∞–ª–∏–¥–Ω–æ: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç compare
let invalid: Sortable = { value: 10 };  // –û–®–ò–ë–ö–ê: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –º–µ—Ç–æ–¥ 'compare'

// –ù–µ–≤–∞–ª–∏–¥–Ω–æ: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞
let wrong: Sortable = {
    compare: fn() { return 0; }  // –û–®–ò–ë–ö–ê: –æ–∂–∏–¥–∞–µ—Ç—Å—è (Self): i32
};
```

---

## –ü—Ä–∏–º–µ—Ä—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

```hemlock
// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞ –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏
type EventCallback = fn(event: Event, context: Context?): bool;

// –ü—Å–µ–≤–¥–æ–Ω–∏–º —Ç–∏–ø–∞ –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
type Entity = HasId & HasName & Serializable;

// Define —Å —Å–∏–≥–Ω–∞—Ç—É—Ä–∞–º–∏ –º–µ—Ç–æ–¥–æ–≤
define Repository<T> {
    fn find(id: i32): T?;
    fn save(const entity: T): bool;
    fn delete(id: i32): bool;
    fn find_all(predicate: fn(T): bool): array<T>;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –≤–º–µ—Å—Ç–µ
fn create_user_repo(): Repository<User> {
    let users: array<User> = [];

    return {
        find: fn(id) {
            for (u in users) {
                if (u.id == id) { return u; }
            }
            return null;
        },
        save: fn(const entity) {
            users.push(entity);
            return true;
        },
        delete: fn(id) {
            // ...
            return true;
        },
        find_all: fn(predicate) {
            return users.filter(predicate);
        }
    };
}
```

### –ö–æ–ª–±—ç–∫–∏ —Å —è–≤–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏

```hemlock
type ClickHandler = fn(event: MouseEvent): void;
type KeyHandler = fn(event: KeyEvent, modifiers: i32): bool;

define Widget {
    x: i32;
    y: i32;
    on_click: ClickHandler?;
    on_key: KeyHandler?;
}

fn create_button(label: string, handler: ClickHandler): Widget {
    return {
        x: 0, y: 0,
        on_click: handler,
        on_key: null
    };
}
```

### Nullable —Ç–∏–ø—ã —Ñ—É–Ω–∫—Ü–∏–π

```hemlock
// –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–ª–±—ç–∫
fn fetch(url: string, on_complete: fn(Response): void?): void {
    let response = http_get(url);
    if (on_complete != null) {
        on_complete(response);
    }
}

// Nullable –≤–æ–∑–≤—Ä–∞—Ç –∏–∑ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏
type Parser = fn(input: string): AST?;

fn try_parse(parsers: array<Parser>, input: string): AST? {
    for (p in parsers) {
        let result = p(input);
        if (result != null) {
            return result;
        }
    }
    return null;
}
```

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
1. –î–æ–±–∞–≤–∏—Ç—å `TYPE_FUNCTION` –≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ TypeKind
2. –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Type –ø–æ–ª—è–º–∏ —Ç–∏–ø–∞ —Ñ—É–Ω–∫—Ü–∏–∏
3. –î–æ–±–∞–≤–∏—Ç—å `CHECKED_FUNCTION` –≤ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
4. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–∏–ø–∞ `Self` (TYPE_SELF)

### –§–∞–∑–∞ 2: –ü–∞—Ä—Å–∏–Ω–≥
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `parse_function_type()` –≤ –ø–∞—Ä—Å–µ—Ä–µ
2. –û–±—Ä–∞–±–æ—Ç–∞—Ç—å `fn(...)` –≤ –ø–æ–∑–∏—Ü–∏–∏ —Ç–∏–ø–∞
3. –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `type` –∏ –ø–∞—Ä—Å–∏–Ω–≥ `STMT_TYPE_ALIAS`
4. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ `const` –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
5. –†–∞—Å—à–∏—Ä–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ define –¥–ª—è —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤

### –§–∞–∑–∞ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
1. –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
2. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —Ç–∏–ø–æ–≤
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π const-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
4. –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤ –≤ define-—Ç–∏–ø–∞—Ö
5. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ç–∏–ø–∞ Self

### –§–∞–∑–∞ 4: –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
1. –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –≤ –º–µ—Å—Ç–∞—Ö –≤—ã–∑–æ–≤–∞
2. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏–π const
3. –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —Ç–∏–ø–æ–≤

### –§–∞–∑–∞ 5: –ü–∞—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
1. –¢–µ—Å—Ç—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
2. –¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ nullable
3. –¢–µ—Å—Ç—ã –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —Ç–∏–ø–æ–≤
4. –¢–µ—Å—Ç—ã const-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
5. –¢–µ—Å—Ç—ã —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤

---

## –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –î–∂–µ–Ω–µ—Ä–∏–∫-–ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤: **–î–ê**

–ü—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–∂–µ–Ω–µ—Ä–∏–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```hemlock
// –î–∂–µ–Ω–µ—Ä–∏–∫-–ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤
type Pair<T> = { first: T, second: T };
type Result<T, E> = { value: T?, error: E? };
type Mapper<T, U> = fn(T): U;
type AsyncResult<T> = async fn(): T?;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
let coords: Pair<f64> = { first: 3.14, second: 2.71 };
let result: Result<User, string> = { value: user, error: null };
let transform: Mapper<i32, string> = fn(n) { return n.to_string(); };
```

### 2. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ Const: **–ì–õ–£–ë–û–ö–û–ï**

Const-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã ‚Äî –Ω–∏–∫–∞–∫–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ª—é–±–æ–π –ø—É—Ç—å:

```hemlock
fn process(const arr: array<object>) {
    arr.push({});        // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å const –º–∞—Å—Å–∏–≤
    arr[0] = {};         // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å const –º–∞—Å—Å–∏–≤
    arr[0].x = 5;        // –û–®–ò–ë–ö–ê: –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å —á–µ—Ä–µ–∑ const (–ì–õ–£–ë–û–ö–û–ï)

    let x = arr[0].x;    // OK: —á—Ç–µ–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º–æ
    let copy = arr[0];   // OK: —Å–æ–∑–¥–∞—ë—Ç –∫–æ–ø–∏—é
    copy.x = 5;          // OK: –∫–æ–ø–∏—è –Ω–µ const
}

fn nested(const obj: object) {
    obj.user.name = "x"; // –û–®–ò–ë–ö–ê: –≥–ª—É–±–æ–∫–∏–π const –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
    obj.items[0] = 1;    // –û–®–ò–ë–ö–ê: –≥–ª—É–±–æ–∫–∏–π const –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
}
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** –ì–ª—É–±–æ–∫–∏–π const –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ —Å–∏–ª—å–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏ –∏ –±–æ–ª–µ–µ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è
–æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π—Ç–µ –∫–æ–ø–∏—é.

### 3. Self –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –ø—Å–µ–≤–¥–æ–Ω–∏–º–∞—Ö —Ç–∏–ø–æ–≤: **–ù–ï–¢**

`Self` –≤–∞–ª–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–æ–≤ `define`, –≥–¥–µ –∏–º–µ–µ—Ç —è—Å–Ω—ã–π —Å–º—ã—Å–ª:

```hemlock
// –í–∞–ª–∏–¥–Ω–æ: Self —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º—ã–π —Ç–∏–ø
define Comparable {
    fn compare(other: Self): i32;
}

// –ù–µ–≤–∞–ª–∏–¥–Ω–æ: Self –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ –∑–¥–µ—Å—å
type Cloner = fn(Self): Self;  // –û–®–ò–ë–ö–ê: Self –≤–Ω–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ define

// –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∂–µ–Ω–µ—Ä–∏–∫–∏:
type Cloner<T> = fn(T): T;
```

### 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: **–î–ê (—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ)**

–†–∞–∑—Ä–µ—à–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö/–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤:

```hemlock
define Comparable {
    // –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
    fn compare(other: Self): i32;

    // –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø—Ä–æ—Å—Ç—ã–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã)
    fn equals(other: Self): bool {
        return self.compare(other) == 0;
    }
    fn less_than(other: Self): bool {
        return self.compare(other) < 0;
    }
    fn greater_than(other: Self): bool {
        return self.compare(other) > 0;
    }
}

define Printable {
    fn to_string(): string;

    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º—É –º–µ—Ç–æ–¥—É
    fn print() {
        print(self.to_string());
    }
    fn println() {
        print(self.to_string() + "\n");
    }
}

// –û–±—ä–µ–∫—Ç—É –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
let item: Comparable = {
    value: 42,
    compare: fn(other) { return self.value - other.value; }
    // equals, less_than, greater_than –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
};

item.less_than({ value: 50, compare: item.compare });  // true
```

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- –î–µ—Ä–∂–∏—Ç–µ –∏—Ö –ø—Ä–æ—Å—Ç—ã–º–∏ (1-3 —Å—Ç—Ä–æ–∫–∏)
- –î–æ–ª–∂–Ω—ã –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–∞–º
- –ù–∏–∫–∞–∫–æ–π —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏–ª–∏ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –¢–æ–ª—å–∫–æ –ø—Ä–∏–º–∏—Ç–∏–≤—ã –∏ –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

### 5. –í–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å: **–í–´–í–û–î–ò–¢–°–Ø (–±–µ–∑ —è–≤–Ω—ã—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π)**

–í–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–∑ —Ç–æ–≥–æ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∏–ø–∞:

```hemlock
// –í–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∑–∏—Ü–∏–∏
type Producer<T> = fn(): T;           // T –≤ –≤–æ–∑–≤—Ä–∞—Ç–µ = –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π
type Consumer<T> = fn(T): void;       // T –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ = –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π
type Transformer<T> = fn(T): T;       // T –≤ –æ–±–æ–∏—Ö = –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π

// –ü—Ä–∏–º–µ—Ä: Dog <: Animal (Dog ‚Äî –ø–æ–¥—Ç–∏–ø Animal)
let dog_producer: Producer<Dog> = fn() { return new_dog(); };
let animal_producer: Producer<Animal> = dog_producer;  // OK: –∫–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π

let animal_consumer: Consumer<Animal> = fn(a) { print(a); };
let dog_consumer: Consumer<Dog> = animal_consumer;     // OK: –∫–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω—ã–π
```

**–ü–æ—á–µ–º—É –≤—ã–≤–æ–¥?**
- –ú–µ–Ω—å—à–µ —à–∞–±–ª–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (`<out T>` / `<in T>` –¥–æ–±–∞–≤–ª—è—é—Ç —à—É–º)
- –°–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É "—è–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ" ‚Äî –ø–æ–∑–∏—Ü–∏—è –ò –ï–°–¢–¨ —è–≤–Ω–∞—è
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–º—É, –∫–∞–∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —è–∑—ã–∫–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –û—à–∏–±–∫–∏ —è—Å–Ω—ã –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª –≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç–∏

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏

```ebnf
(* –¢–∏–ø—ã *)
type := simple_type | compound_type | function_type
simple_type := base_type ["?"] | identifier ["<" type_args ">"] ["?"]
compound_type := simple_type ("&" simple_type)+
function_type := ["async"] "fn" "(" [param_types] ")" [":" type]

base_type := "i8" | "i16" | "i32" | "i64"
           | "u8" | "u16" | "u32" | "u64"
           | "f32" | "f64" | "bool" | "string" | "rune"
           | "ptr" | "buffer" | "void" | "null"
           | "array" ["<" type ">"]
           | "object"
           | "Self"

param_types := param_type ("," param_type)*
param_type := ["const"] [identifier ":"] ["?"] type
            | "..." [identifier] [":" type]

type_args := type ("," type)*

(* –û–ø–µ—Ä–∞—Ç–æ—Ä—ã *)
type_alias := "type" identifier ["<" type_params ">"] "=" type ";"

define_stmt := "define" identifier ["<" type_params ">"] "{" define_members "}"
define_members := (field_def | method_def)*
field_def := identifier (":" type ["=" expr] | "?:" (type | expr)) ";"?
method_def := "fn" identifier ["?"] "(" [param_types] ")" [":" type] (block | ";")
            (* "?" –æ—Ç–º–µ—á–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, block –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é *)

(* –ü–∞—Ä–∞–º–µ—Ç—Ä—ã *)
param := ["const"] ["ref"] identifier [":" type] ["?:" expr]
       | "..." identifier [":" type]
```


--------------------------------------------------------------------------------
## –§–∏–ª–æ—Å–æ—Ñ–∏—è
--------------------------------------------------------------------------------

# –§–∏–ª–æ—Å–æ—Ñ–∏—è –¥–∏–∑–∞–π–Ω–∞ —è–∑—ã–∫–∞ Hemlock

> "–ú–∞–ª–µ–Ω—å–∫–∏–π, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —è–∑—ã–∫ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞."

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é Hemlock. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –µ–≥–æ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å, –ø—Ä–µ–∂–¥–µ —á–µ–º –≤–Ω–æ—Å–∏—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —è–∑—ã–∫.

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å](#–æ—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å)
- [–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–Ω—Ü–∏–ø—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- [–§–∏–ª–æ—Å–æ—Ñ–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [–ß—Ç–æ –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å](#—á—Ç–æ-–Ω–µ-–¥–æ–±–∞–≤–ª—è—Ç—å)
- [–ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ](#–ø–ª–∞–Ω—ã-–Ω–∞-–±—É–¥—É—â–µ–µ)
- [–ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ –º—ã—Å–ª–∏](#–∑–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ-–º—ã—Å–ª–∏)

---

## –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å

Hemlock ‚Äî —ç—Ç–æ **—Å–∏—Å—Ç–µ–º–Ω—ã–π —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–π —è–∑—ã–∫**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é –∏ —è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å. –û–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω—ã:

- –ú–æ—â—å —è–∑—ã–∫–∞ C
- –≠—Ä–≥–æ–Ω–æ–º–∏–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–ª–∏ –º–∞–≥–∏–∏

### –ß–µ–º Hemlock –ù–ï —è–≤–ª—è–µ—Ç—Å—è

- **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –ø–∞–º—è—Ç–∏** (–≤–∏—Å—è—á–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ ‚Äî –≤–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å)
- **–ó–∞–º–µ–Ω–æ–π Rust, Go –∏–ª–∏ Lua**
- **–Ø–∑—ã–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–∫—Ä—ã–≤–∞–µ—Ç –æ—Ç –≤–∞—Å —Å–ª–æ–∂–Ω–æ—Å—Ç—å**

### –ß–µ–º Hemlock –Ø–í–õ–Ø–ï–¢–°–Ø

- **–Ø–≤–Ω—ã–º, –∞ –Ω–µ –Ω–µ—è–≤–Ω—ã–º ‚Äî –≤—Å–µ–≥–¥–∞**
- **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º**
- **"–°–∫—Ä–∏–ø—Ç–æ–≤—ã–º —Å–ª–æ–µ–º C" –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã**
- **–ß–µ—Å—Ç–Ω—ã–º –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤**

---

## –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –Ø–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ

Hemlock –æ—Ç–¥–∞–µ—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ —è–≤–Ω–æ—Å—Ç–∏ –≤–æ –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö. –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—é—Ä–ø—Ä–∏–∑–æ–≤, –º–∞–≥–∏–∏ –∏ —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è.

**–ü–ª–æ—Ö–æ (–Ω–µ—è–≤–Ω–æ):**
```hemlock
let x = 5  // –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π ‚Äî –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
```

**–•–æ—Ä–æ—à–æ (—è–≤–Ω–æ):**
```hemlock
let x = 5;
free(ptr);  // –í—ã –≤—ã–¥–µ–ª–∏–ª–∏ –ø–∞–º—è—Ç—å ‚Äî –≤—ã –µ—ë –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç–µ
```

**–ö–ª—é—á–µ–≤—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**
- –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã (–Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—Å—Ç–∞–≤–∫–∏ —Ç–æ—á–µ–∫ —Å –∑–∞–ø—è—Ç–æ–π)
- –ù–µ—Ç —Å–±–æ—Ä–∫–∏ –º—É—Å–æ—Ä–∞
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (alloc/free)
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, –Ω–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ (–Ω–µ—Ç RAII), –Ω–æ `defer` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —è–≤–Ω—É—é –æ—á–∏—Å—Ç–∫—É

### 2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –≤—ã–±–æ—Ä—É

–ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Ç–µ–≥ —Ç–∏–ø–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –±—ã—Ç—å –≥–∏–±–∫–æ–π –∏ –ø—Ä–∏ —ç—Ç–æ–º –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏.

**–í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤:**
- –ú–∞–ª—ã–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ (–ø–æ–º–µ—â–∞—é—Ç—Å—è –≤ i32): `42` ‚Üí `i32`
- –ë–æ–ª—å—à–∏–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ (> –¥–∏–∞–ø–∞–∑–æ–Ω–∞ i32): `9223372036854775807` ‚Üí `i64`
- –ß–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π: `3.14` ‚Üí `f64`

**–Ø–≤–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:**
```hemlock
let x = 42;              // –≤—ã–≤–æ–¥–∏—Ç—Å—è i32 (–º–∞–ª–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
let y: u8 = 255;         // —è–≤–Ω–æ u8
let z = x + y;           // –ø–æ–≤—ã—à–∞–µ—Ç—Å—è –¥–æ i32
let big = 5000000000;    // –≤—ã–≤–æ–¥–∏—Ç—Å—è i64 (> –º–∞–∫—Å–∏–º—É–º–∞ i32)
```

**–ü—Ä–∞–≤–∏–ª–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–∏–ø–æ–≤** —Å–ª–µ–¥—É—é—Ç —á—ë—Ç–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É, –ø—Ä–∏ —ç—Ç–æ–º —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —Ü–µ–ª—ã–º–∏.

### 3. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –∞ –Ω–µ –æ—à–∏–±–∫–∞

Hemlock –Ω–µ –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω –¥–∞—ë—Ç –≤–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–∫–ª—é—á–∞—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

**–ü—Ä–∏–º–µ—Ä—ã –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–π –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –º–æ–∂–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω—è—Ç—å—Å—è (–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü –¥–ª—è —Å—ã—Ä—ã—Ö `ptr` (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `buffer`, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- –î–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–±–æ—é (—Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é)
- –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏, –Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–µ –æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```hemlock
let p = alloc(10);
let q = p + 100;  // –î–∞–ª–µ–∫–æ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç–∏ ‚Äî —Ä–∞–∑—Ä–µ—à–µ–Ω–æ, –Ω–æ –æ–ø–∞—Å–Ω–æ
```

**–§–∏–ª–æ—Å–æ—Ñ–∏—è:** –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å *—Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏*, –Ω–æ –ø–æ–∑–≤–æ–ª—è—Ç—å *–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–µ* –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–∞–∫ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å

–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ Hemlock ‚Äî –Ω–µ –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º—ã—Å–ª—å. –û–Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ —è–∑—ã–∫ —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- `async`/`await` –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ —è–∑—ã–∫
- –ö–∞–Ω–∞–ª—ã –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- `spawn`/`join`/`detach` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏
- –ù–∏–∫–∞–∫–∏—Ö —Å—ã—Ä—ã—Ö –ø–æ—Ç–æ–∫–æ–≤, –Ω–∏–∫–∞–∫–∏—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ù–∞—Å—Ç–æ—è—â–∏–π –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º POSIX-–ø–æ—Ç–æ–∫–æ–≤

**–ù–µ —Å–æ–±—ã—Ç–∏–π–Ω—ã–π —Ü–∏–∫–ª –∏ –Ω–µ –∑–µ–ª—ë–Ω—ã–µ –ø–æ—Ç–æ–∫–∏** ‚Äî Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–æ—Ç–æ–∫–∏ –û–° –¥–ª—è –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–¥—Ä–∞—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.

### 5. C-–ø–æ–¥–æ–±–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –º–∏–Ω–∏–º—É–º —Ü–µ—Ä–µ–º–æ–Ω–∏–π

Hemlock –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–Ω–∞–∫–æ–º —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞–º, –ø—Ä–∏ —ç—Ç–æ–º —É–º–µ–Ω—å—à–∞—è —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥.

**–î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è:**
- –ë–ª–æ–∫–∏ `{}` –≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã, –Ω–∏–∫–∞–∫–∏—Ö –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–∫–æ–±–æ–∫
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã –∫–∞–∫ –≤ C: `+`, `-`, `*`, `/`, `&&`, `||`, `!`
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–∏–ø–æ–≤ –∫–∞–∫ –≤ Rust/TypeScript: `let x: type = value;`
- –§—É–Ω–∫—Ü–∏–∏ ‚Äî –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ú–∏–Ω–∏–º—É–º –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**–ü–æ–∑–∏—Ü–∏—è Hemlock –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

> "–ú—ã –¥–∞—ë–º –≤–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (`buffer`, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü), –Ω–æ –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ–º –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å (`ptr`, —Ä—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–º—è—Ç—å—é, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏).
>
> –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–ª–µ–¥—É–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–æ –∞–≤–∞—Ä–∏–π–Ω—ã–π –≤—ã—Ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω."

### –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

**1. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ç–∏–ø buffer:**
```hemlock
let b: buffer = buffer(64);
b[0] = 65;              // –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
print(b.length);        // 64
free(b);                // –≤—Å—ë –µ—â—ë —Ä—É—á–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
```

**2. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏:**
```hemlock
let p: ptr = alloc(64);
memset(p, 0, 64);
free(p);  // –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–º–Ω–∏—Ç—å –æ–± –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏
```

**3. –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤:**
```hemlock
let x: u8 = 255;   // OK
let y: u8 = 256;   // –û–®–ò–ë–ö–ê: –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –¥–∏–∞–ø–∞–∑–æ–Ω–∞
```

**4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
```hemlock
let val = some_function();
if (typeof(val) == "i32") {
    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
}
```

### –†—É–∫–æ–≤–æ–¥—è—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** ‚Äî –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å `buffer` –ø–µ—Ä–µ–¥ `ptr`, –ø–æ–æ—â—Ä—è—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
2. **–î–µ–ª–∞—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ—á–µ–≤–∏–¥–Ω—ã–º–∏** ‚Äî –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —Å—ã—Ä—ã—Ö —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –¥–æ–ª–∂–Ω–∞ –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–π
3. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∞–≤–∞—Ä–∏–π–Ω—ã–µ –≤—ã—Ö–æ–¥—ã** ‚Äî –ù–µ –º–µ—à–∞—Ç—å –æ–ø—ã—Ç–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–µ–ª–∞—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Ä–∞–±–æ—Ç—É
4. **–ë—ã—Ç—å —á–µ—Å—Ç–Ω—ã–º –æ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–∞—Ö** ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫

### –ü—Ä–∏–º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ vs –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

| –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω | –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π |
|-------------------|----------------------|--------------------------------|
| —Ç–∏–ø `buffer` | —Ç–∏–ø `ptr` | FFI, –∫—Ä–∏—Ç–∏—á–Ω—ã–π –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥ |
| –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ | –ë–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π | –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| –î–æ—Å—Ç—É–ø —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü | –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π | –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π | –í–æ–∑–≤—Ä–∞—Ç null/–∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ | –ö–æ–≥–¥–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å–ª–∏—à–∫–æ–º —Ç—è–∂–µ–ª–æ–≤–µ—Å–Ω—ã |

---

## –ß—Ç–æ –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ **–Ω–µ** –¥–æ–±–∞–≤–ª—è—Ç—å, —Ç–∞–∫ –∂–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –∑–Ω–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–æ–±–∞–≤–ª—è—Ç—å.

### –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ—è–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

**–ü–ª–æ—Ö–∏–µ –ø—Ä–∏–º–µ—Ä—ã:**

```hemlock
// –ü–õ–û–•–û: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π
let x = 5
let y = 10

// –ü–õ–û–•–û: –ù–µ—è–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ —Å –ø–æ—Ç–µ—Ä–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
let x: i32 = 3.14  // –î–æ–ª–∂–Ω–æ —É—Å–µ–∫–∞—Ç—å –∏–ª–∏ –≤—ã–¥–∞–≤–∞—Ç—å –æ—à–∏–±–∫—É?
```

**–ü–æ—á–µ–º—É:** –ù–µ—è–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç —Å—é—Ä–ø—Ä–∏–∑—ã –∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞.

### –ù–µ —Å–∫—Ä—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å

**–ü–ª–æ—Ö–∏–µ –ø—Ä–∏–º–µ—Ä—ã:**

```hemlock
// –ü–õ–û–•–û: –ú–∞–≥–∏—á–µ—Å–∫–∞—è –∑–∞–∫—É–ª–∏—Å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
let arr = [1, 2, 3]  // –≠—Ç–æ –≤ —Å—Ç–µ–∫–µ –∏–ª–∏ –≤ –∫—É—á–µ? –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å! (–í –∫—É—á–µ, —Å –ø–æ–¥—Å—á—ë—Ç–æ–º —Å—Å—ã–ª–æ–∫)

// –ü–õ–û–•–û: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Å—ã—Ä–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è
let p = alloc(100)  // –≠—Ç–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏? –ù–ï–¢! –°—ã—Ä—ã–µ ptr –≤—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É—é—Ç free()
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –ø–æ–¥—Å—á—ë—Ç–µ —Å—Å—ã–ª–æ–∫:** Hemlock –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –¥–ª—è —Å—Ç—Ä–æ–∫, –º–∞—Å—Å–∏–≤–æ–≤, –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –±—É—Ñ–µ—Ä–æ–≤ ‚Äî –æ–Ω–∏ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏. –≠—Ç–æ —è–≤–Ω–æ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 0 —Å—Å—ã–ª–æ–∫, –±–µ–∑ –ø–∞—É–∑ GC). –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (`ptr` –æ—Ç `alloc()`) –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –∏ –≤—Å–µ–≥–¥–∞ —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–≥–æ `free()`.

**–ü–æ—á–µ–º—É:** –°–∫—Ä—ã—Ç–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ª–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–ª–∞–¥–∫—É –ø—Ä–æ–±–ª–µ–º.

### –ù–µ –ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–µ–º–∞–Ω—Ç–∏–∫—É

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–π—Ç–µ —ç—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
- –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã ‚Äî –Ω–µ –¥–µ–ª–∞–π—Ç–µ –∏—Ö –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏
- –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é ‚Äî –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ GC
- –ò–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî –Ω–µ –¥–µ–ª–∞–π—Ç–µ –∏—Ö –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî –Ω–µ —É–¥–∞–ª—è–π—Ç–µ –µ—ë

**–ü–æ—á–µ–º—É:** –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ –º–æ–¥–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.

### –ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å "—É–¥–æ–±–Ω—ã–µ" –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–º–µ–Ω—å—à–∞—é—Ç —è–≤–Ω–æ—Å—Ç—å

**–ü—Ä–∏–º–µ—Ä—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã—Ö —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å:**
- –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (–≤–æ–∑–º–æ–∂–Ω–æ, –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–∏–ø–æ–≤, –Ω–æ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ)
- –ù–µ—è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å –ø–æ—Ç–µ—Ä–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (RAII)
- –¶–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫—Ä—ã–≤–∞—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- DSL –∏ –º–∞–≥–∏—á–µ—Å–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

**–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:** –£–¥–æ–±–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–ø—É—Å—Ç–∏–º—ã, –µ—Å–ª–∏ –æ–Ω–∏ —è–≤–ª—è—é—Ç—Å—è **—è–≤–Ω—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–º —Å–∞—Ö–∞—Ä–æ–º** –Ω–∞–¥ –ø—Ä–æ—Å—Ç—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏:
- `else if` –¥–æ–ø—É—Å—Ç–∏–º (—ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã if)
- –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å—Ç—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–∞, –µ—Å–ª–∏ —ç—Ç–æ —è–≤–Ω–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ–ø—É—Å—Ç–∏–º (—è–≤–Ω–æ, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç)

---

## –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

### –í–æ–∑–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å (–æ–±—Å—É–∂–¥–∞–µ—Ç—Å—è)

–≠—Ç–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock, –Ω–æ —Ç—Ä–µ–±—É—é—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

**1. –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º**
```hemlock
match (value) {
    case i32: print("—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ");
    case string: print("—Ç–µ–∫—Å—Ç");
    case _: print("–¥—Ä—É–≥–æ–µ");
}
```
- –Ø–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
- –ù–µ—Ç —Å–∫—Ä—ã—Ç—ã—Ö –∑–∞—Ç—Ä–∞—Ç
- –í–æ–∑–º–æ–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**2. –¢–∏–ø—ã –æ—à–∏–±–æ–∫ (`Result<T, E>`)**
```hemlock
fn divide(a: i32, b: i32): Result<i32, string> {
    if (b == 0) {
        return Err("–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å");
    }
    return Ok(a / b);
}
```
- –Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ó–∞—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥—É–º–∞—Ç—å –æ–± –æ—à–∏–±–∫–∞—Ö
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º

**3. –¢–∏–ø—ã –º–∞—Å—Å–∏–≤–æ–≤/—Å—Ä–µ–∑–æ–≤**
- –£–∂–µ –µ—Å—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Å—Å–∏–≤—ã
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Å—Å–∏–≤—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤ —Å—Ç–µ–∫–µ
- –ù—É–∂–Ω–æ –±—ã—Ç—å —è–≤–Ω—ã–º –æ —Å—Ç–µ–∫–µ vs –∫—É—á–µ

**4. –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–∞–º—è—Ç–∏**
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥—Ä–∞–Ω–∏—Ü
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –≤ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö —Å–±–æ—Ä–∫–∞—Ö
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∞–Ω–∏—Ç–∞–π–∑–µ—Ä–æ–≤

### –í–µ—Ä–æ—è—Ç–Ω–æ, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å

–≠—Ç–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞—Ä—É—à–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:

**1. –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞**
- –°–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ü—Ä–æ—Ç–∏–≤ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è

**2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**
- –¢–µ –∂–µ –ø—Ä–∏—á–∏–Ω—ã, —á—Ç–æ –∏ —É GC
- –ü–æ–¥—Å—á—ë—Ç —Å—Å—ã–ª–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø—É—Å—Ç–∏–º, –µ—Å–ª–∏ —è–≤–Ω—ã–π

**3. –ù–µ—è–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ —Å –ø–æ—Ç–µ—Ä–µ–π –¥–∞–Ω–Ω—ã—Ö**
- –ü—Ä–æ—Ç–∏–≤ –ø—Ä–∏–Ω—Ü–∏–ø–∞ "—è–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ"
- –ò—Å—Ç–æ—á–Ω–∏–∫ —Ç–æ–Ω–∫–∏—Ö –æ—à–∏–±–æ–∫

**4. –ú–∞–∫—Ä–æ—Å—ã (—Å–ª–æ–∂–Ω—ã–µ)**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–æ—â–∏, —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞–∫—Ä–æ—Å–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–∞
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–¥–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏

**5. –ö–ª–∞—Å—Å–æ–≤–æ–µ –û–û–ü —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –Ω–µ—è–≤–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- –£—Ç–∏–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –∏ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–∞–∂–Ω–µ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

**6. –°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π —Å–æ —Å–ª–æ–∂–Ω—ã–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º**
- –ò–º–ø–æ—Ä—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ —è–≤–Ω—ã–º–∏
- –ù–∏–∫–∞–∫–∏—Ö –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π –ø–æ–∏—Å–∫–∞
- –ù–∏–∫–∞–∫–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –û–°)

---

## –ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ –º—ã—Å–ª–∏

### –î–æ–≤–µ—Ä–∏–µ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

Hemlock ‚Äî —ç—Ç–æ **–¥–æ–≤–µ—Ä–∏–µ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**. –ú—ã –¥–æ–≤–µ—Ä—è–µ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É:

- –ü—Ä–∞–≤–∏–ª—å–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞–º—è—Ç—å—é
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏–ø—ã –Ω–∞–¥–ª–µ–∂–∞—â–∏–º –æ–±—Ä–∞–∑–æ–º
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏
- –ü–æ–Ω–∏–º–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã

–í–∑–∞–º–µ–Ω Hemlock –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- –ù–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –∑–∞—Ç—Ä–∞—Ç
- –ù–∏–∫–∞–∫–æ–≥–æ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∫–æ–≥–¥–∞ —ç—Ç–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ

### –ì–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å

**–ü—Ä–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–ø—Ä–æ—Å–∏—Ç–µ:**

> "–≠—Ç–æ –¥–∞—ë—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É –±–æ–ª—å—à–µ —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏–ª–∏ —ç—Ç–æ —á—Ç–æ-—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç?"

- –ï—Å–ª–∏ **–¥–æ–±–∞–≤–ª—è–µ—Ç —è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ, –ø–æ–¥—Ö–æ–¥–∏—Ç Hemlock
- –ï—Å–ª–∏ **—Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å** ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ, –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç
- –ï—Å–ª–∏ —ç—Ç–æ **–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∞—Ö–∞—Ä**, –∫–æ—Ç–æ—Ä—ã–π —á—ë—Ç–∫–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω ‚Üí –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø—É—Å—Ç–∏–º

### –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π

**–û–ø–µ—Ä–∞—Ç–æ—Ä—ã switch** ‚Äî –Ø–≤–Ω—ã–π –ø–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –±–µ–∑ –º–∞–≥–∏–∏, —è—Å–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞

**Async/await —Å pthreads** ‚Äî –Ø–≤–Ω–∞—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å, –Ω–∞—Å—Ç–æ—è—â–∏–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á

**–¢–∏–ø buffer —Ä—è–¥–æ–º —Å ptr** ‚Äî –î–∞—ë—Ç –≤—ã–±–æ—Ä –º–µ–∂–¥—É –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤** ‚Äî –ü–æ–º–æ–≥–∞—é—Ç –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –±–µ–∑ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–≥–æ—Å—Ç–∏

**Try/catch/finally** ‚Äî –Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —è—Å–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä—ã –ø–ª–æ—Ö–∏—Ö –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π** ‚Äî –°–∫—Ä—ã–≤–∞–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º

**RAII/–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã** ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è

**–ù–µ—è–≤–Ω–æ–µ —Å–ª–∏—è–Ω–∏–µ —Å null** ‚Äî –°–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null, —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Ç—É—â–∏–µ —Å—Ç—Ä–æ–∫–∏** ‚Äî –°–∫—Ä—ã–≤–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Hemlock –Ω–µ –ø—ã—Ç–∞–µ—Ç—Å—è –±—ã—Ç—å —Å–∞–º—ã–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —è–∑—ã–∫–æ–º, —Å–∞–º—ã–º –±—ã—Å—Ç—Ä—ã–º —è–∑—ã–∫–æ–º –∏–ª–∏ —è–∑—ã–∫–æ–º —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.

**Hemlock –ø—ã—Ç–∞–µ—Ç—Å—è –±—ã—Ç—å —Å–∞–º—ã–º *—á–µ—Å—Ç–Ω—ã–º* —è–∑—ã–∫–æ–º.**

–û–Ω –≥–æ–≤–æ—Ä–∏—Ç –≤–∞–º —Ç–æ—á–Ω–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç, –¥–∞—ë—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å, –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ, –∏ –Ω–µ —Å–∫—Ä—ã–≤–∞–µ—Ç –æ—Å—Ç—Ä—ã–µ —É–≥–ª—ã. –≠—Ç–æ —è–∑—ã–∫ –¥–ª—è –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ–Ω–∏–º–∞—Ç—å —Å–≤–æ–π –∫–æ–¥ –Ω–∞ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ, –Ω–∞—Å–ª–∞–∂–¥–∞—è—Å—å –ø—Ä–∏ —ç—Ç–æ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —ç—Ä–≥–æ–Ω–æ–º–∏–∫–æ–π.

–ï—Å–ª–∏ –≤—ã –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è Hemlock, –ø–æ–º–Ω–∏—Ç–µ:

> **–Ø–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ ‚Äî –≤—Å–µ–≥–¥–∞.**
> **–ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –∞ –Ω–µ –æ—à–∏–±–∫–∞.**
> **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.**



################################################################################
# –£–ß–ê–°–¢–ò–ï –í –†–ê–ó–†–ê–ë–û–¢–ö–ï
################################################################################

--------------------------------------------------------------------------------
## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
--------------------------------------------------------------------------------

# –í–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ Hemlock

–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –≤–∞—Å –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ —É—á–∞—Å—Ç–∏—é –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ Hemlock! –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–Ω–æ—Å–∏—Ç—å –≤–∫–ª–∞–¥, —Å–æ—Ö—Ä–∞–Ω—è—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —è–∑—ã–∫–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã](#–ø–µ—Ä–µ–¥-–Ω–∞—á–∞–ª–æ–º-—Ä–∞–±–æ—Ç—ã)
- [–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —É—á–∞—Å—Ç–∏—è](#—Ä–∞–±–æ—á–∏–π-–ø—Ä–æ—Ü–µ—Å—Å-—É—á–∞—Å—Ç–∏—è)
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–∏–ª—é –∫–æ–¥–∞](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—Å—Ç–∏–ª—é-–∫–æ–¥–∞)
- [–ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å](#—á—Ç–æ-–º–æ–∂–Ω–æ-–¥–æ–±–∞–≤–ª—è—Ç—å)
- [–ß–µ–≥–æ –ù–ï —Å–ª–µ–¥—É–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å](#—á–µ–≥–æ-–Ω–µ-—Å–ª–µ–¥—É–µ—Ç-–¥–æ–±–∞–≤–ª—è—Ç—å)
- [–¢–∏–ø–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#—Ç–∏–ø–∏—á–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π](#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤—ã—Ö-—Ñ—É–Ω–∫—Ü–∏–π)
- [–ü—Ä–æ—Ü–µ—Å—Å –∫–æ–¥-—Ä–µ–≤—å—é](#–ø—Ä–æ—Ü–µ—Å—Å-–∫–æ–¥-—Ä–µ–≤—å—é)

---

## –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—á–∞—Å—Ç–∏—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ —ç—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ:

1. **`/home/user/hemlock/docs/design/philosophy.md`** - –ü–æ–π–º–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Hemlock
2. **`/home/user/hemlock/docs/design/implementation.md`** - –ò–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
3. **`/home/user/hemlock/docs/contributing/testing.md`** - –†–∞–∑–±–µ—Ä–∏—Ç–µ—Å—å —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
4. **–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç** - –ò–∑—É—á–∏—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—á–∞—Å—Ç–∏—é

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞–Ω–∏—è:**
- –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ C (—É–∫–∞–∑–∞—Ç–µ–ª–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- –û—Å–Ω–æ–≤—ã –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–≤/–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–≤ (–ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑, –ø–∞—Ä—Å–∏–Ω–≥, AST)
- Git –∏ —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å GitHub
- –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ Unix/Linux

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä GCC –∏–ª–∏ Clang
- –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ Make
- –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π Git
- Valgrind (–¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏)
- –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∏–ª–∏ IDE

### –ö–∞–Ω–∞–ª—ã —Å–≤—è–∑–∏

**–ì–¥–µ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã:**
- GitHub Issues - –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –∑–∞–ø—Ä–æ—Å—ã —Ñ—É–Ω–∫—Ü–∏–π
- GitHub Discussions - –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –¥–∏–∑–∞–π–Ω–∞
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ Pull Request - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—Ç–∑—ã–≤—ã –æ –∫–æ–¥–µ

---

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —É—á–∞—Å—Ç–∏—è

### 1. –ù–∞–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ Issue

**–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–¥–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ Issue –¥–ª—è –≤–∞—à–µ–≥–æ –≤–∫–ª–∞–¥–∞
- –ï—Å–ª–∏ –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å
- –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ—Ç –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ù–µ–±–æ–ª—å—à–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –º–æ–≥—É—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —à–∞–≥

**–•–æ—Ä–æ—à–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ Issue –≤–∫–ª—é—á–∞–µ—Ç:**
- –ü–æ—Å—Ç–∞–Ω–æ–≤–∫—É –ø—Ä–æ–±–ª–µ–º—ã (—á—Ç–æ —Å–ª–æ–º–∞–Ω–æ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–∫–∞–∫ –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å)
- –ü—Ä–∏–º–µ—Ä—ã (—Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—É)
- –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ (–ø–æ—á–µ–º—É —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock)

### 2. –§–æ—Ä–∫ –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ GitHub, –∑–∞—Ç–µ–º:
git clone https://github.com/YOUR_USERNAME/hemlock.git
cd hemlock
git checkout -b feature/your-feature-name
```

### 3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–°–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º:
- –°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã (–ø–æ–¥—Ö–æ–¥ TDD)
- –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
make test

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤
./tests/run_tests.sh tests/category/

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
valgrind ./hemlock tests/your_test.hml

# –°–æ–±–µ—Ä–∏—Ç–µ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ
make clean && make && make test
```

### 5. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–•–æ—Ä–æ—à–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤:**
```
Add bitwise operators for integer types

- Implement &, |, ^, <<, >>, ~ operators
- Add type checking to ensure integer-only operations
- Update operator precedence table
- Add comprehensive tests for all operators

Closes #42
```

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–∞:**
- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞: –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ (–º–∞–∫—Å–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤)
- –ü—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ (–ø–µ—Ä–µ–Ω–æ—Å –Ω–∞ 72 —Å–∏–º–≤–æ–ª–∞—Ö)
- –°—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ–º–µ—Ä–∞ Issue

### 6. –û—Ç–ø—Ä–∞–≤—å—Ç–µ Pull Request

**–ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:**
- –°–¥–µ–ª–∞–π—Ç–µ rebase –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ç–∫—É main
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ valgrind –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —É—Ç–µ—á–∫–∏
- –û–±–Ω–æ–≤–∏—Ç–µ CLAUDE.md, –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

**–û–ø–∏—Å–∞–Ω–∏–µ Pull Request –¥–æ–ª–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å:**
- –ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —ç—Ç–æ —Ä–µ—à–∞–µ—Ç
- –ö–∞–∫ —ç—Ç–æ —Ä–µ—à–∞–µ—Ç –µ—ë
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ü—Ä–∏–º–µ—Ä—ã –Ω–æ–≤–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏–ª–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- –°–≤–æ–¥–∫—É –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é —Ç–µ—Å—Ç–∞–º–∏

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å—Ç–∏–ª—é –∫–æ–¥–∞

### –°—Ç–∏–ª—å –∫–æ–¥–∞ –Ω–∞ C

**–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```c
// –û—Ç—Å—Ç—É–ø –≤ 4 –ø—Ä–æ–±–µ–ª–∞ (–±–µ–∑ —Ç–∞–±—É–ª—è—Ü–∏–∏)
// –°—Ç–∏–ª—å K&R –¥–ª—è —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫ –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö
void function_name(int arg1, char *arg2)
{
    if (condition) {
        // –°–∫–æ–±–∫–∞ –Ω–∞ —Ç–æ–π –∂–µ —Å—Ç—Ä–æ–∫–µ –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
        do_something();
    }
}

// –î–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏: –º–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
int result = (a + b) * c;

// –ó–≤—ë–∑–¥–æ—á–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è —Ä—è–¥–æ–º —Å —Ç–∏–ø–æ–º
char *string;   // –ü—Ä–∞–≤–∏–ª—å–Ω–æ
char* string;   // –ò–∑–±–µ–≥–∞–π—Ç–µ
char * string;  // –ò–∑–±–µ–≥–∞–π—Ç–µ
```

**–°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏:**
```c
// –§—É–Ω–∫—Ü–∏–∏: —Å—Ç—Ä–æ—á–Ω—ã–µ_—Å_–ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è–º–∏
void eval_expression(ASTNode *node);

// –¢–∏–ø—ã: PascalCase
typedef struct Value Value;
typedef enum ValueType ValueType;

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: –ó–ê–ì–õ–ê–í–ù–´–ï_–°_–ü–û–î–ß–Å–†–ö–ò–í–ê–ù–ò–Ø–ú–ò
#define MAX_BUFFER_SIZE 4096

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: —Å—Ç—Ä–æ—á–Ω—ã–µ_—Å_–ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è–º–∏
int item_count;
Value *current_value;

// –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è: –ü–†–ï–§–ò–ö–°_–¢–ò–ü–ê_–ò–ú–Ø
typedef enum {
    TYPE_I32,
    TYPE_STRING,
    TYPE_OBJECT
} ValueType;
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
```c
// –û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –∫—Ä–∞—Ç–∫–∏—Ö –ø–æ—è—Å–Ω–µ–Ω–∏–π
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –ø—É–Ω–∫—Ç—É–∞—Ü–∏–µ–π

/*
 * –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –±–æ–ª–µ–µ –¥–ª–∏–Ω–Ω—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
 * –í—ã—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ –∑–≤—ë–∑–¥–æ—á–∫–∏ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
 */

/**
 * –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ñ—É–Ω–∫—Ü–∏–∏
 * @param node - —É–∑–µ–ª AST –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
 * @return –í—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
 */
Value eval_expr(ASTNode *node);
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
```c
// –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Å–µ –≤—ã–∑–æ–≤—ã malloc
char *buffer = malloc(size);
if (!buffer) {
    fprintf(stderr, "Error: Out of memory\n");
    exit(1);
}

// –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –æ–± –æ—à–∏–±–∫–∞—Ö
if (file == NULL) {
    fprintf(stderr, "Error: Failed to open '%s': %s\n",
            filename, strerror(errno));
    exit(1);
}

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
// –ü–ª–æ—Ö–æ: "Error: Invalid value"
// –•–æ—Ä–æ—à–æ: "Error: Expected integer, got string"
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é:**
```c
// –í—Å–µ–≥–¥–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ —Ç–æ, —á—Ç–æ –≤—ã–¥–µ–ª–∏–ª–∏
Value *val = value_create_i32(42);
// ... –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ val
value_free(val);

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ NULL –ø–æ—Å–ª–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–≤–æ–π–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ)
free(ptr);
ptr = NULL;

// –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–ª–∞–¥–µ–Ω–∏–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–±–∏—Ä–∞–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ 'value' –∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç –µ–≥–æ
void store_value(Value *value);

// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ù–ï –∑–∞–±–∏—Ä–∞–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ (–≤—ã–∑—ã–≤–∞—é—â–∏–π –¥–æ–ª–∂–µ–Ω –æ—Å–≤–æ–±–æ–¥–∏—Ç—å)
Value *get_value(void);
```

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞:**
```c
// 1. –í–∫–ª—é—á–µ–Ω–∏—è (—Å–Ω–∞—á–∞–ª–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∑–∞—Ç–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ)
#include <stdio.h>
#include <stdlib.h>
#include "internal.h"
#include "values.h"

// 2. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –º–∞–∫—Ä–æ—Å—ã
#define INITIAL_CAPACITY 16

// 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤
typedef struct Foo Foo;

// 4. –û–±—ä—è–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–º–æ—â–Ω–∏–∫–∏)
static void helper_function(void);

// 5. –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
void public_api_function(void)
{
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
}

// 6. –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
static void helper_function(void)
{
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
}
```

**–ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã:**
```c
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞—â–∏—Ç—É –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
#ifndef HEMLOCK_MODULE_H
#define HEMLOCK_MODULE_H

// –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
typedef struct Value Value;

// –¢–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–π API –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö
void public_function(Value *val);

// –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
/**
 * –í—ã—á–∏—Å–ª—è–µ—Ç —É–∑–µ–ª AST –≤—ã—Ä–∞–∂–µ–Ω–∏—è
 * @param node - —É–∑–µ–ª AST –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
 * @param env - —Ç–µ–∫—É—â–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
 * @return –†–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
 */
Value *eval_expr(ASTNode *node, Environment *env);

#endif // HEMLOCK_MODULE_H
```

---

## –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å

### –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º—ã–µ –≤–∫–ª–∞–¥—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫:**
- –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- –û—à–∏–±–∫–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –£–ª—É—á—à–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–¥—É
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —É—á–µ–±–Ω–∏–∫–∏
- –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤

**–¢–µ—Å—Ç—ã:**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ü–æ–∫—Ä—ã—Ç–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
- –ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ù–µ–±–æ–ª—å—à–∏–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π:**
- –ù–æ–≤—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–µ—Å–ª–∏ –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏)
- –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫/–º–∞—Å—Å–∏–≤–æ–≤
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

**–£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
- –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏)
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
- –ù–∞–±–æ—Ä –±–µ–Ω—á–º–∞—Ä–∫–æ–≤
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö
- –ü—Ä–æ—Ç–æ–∫–æ–ª —è–∑—ã–∫–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (LSP)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ç–ª–∞–¥—á–∏–∫–æ–º
- –£–ª—É—á—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å–±–æ—Ä–∫–∏

### –°–Ω–∞—á–∞–ª–∞ –æ–±—Å—É–¥–∏—Ç–µ

**–ö—Ä—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –ù–æ–≤—ã–µ —è–∑—ã–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤
- –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- –ü—Ä–∏–º–∏—Ç–∏–≤—ã –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

**–ö–∞–∫ –æ–±—Å—É–∂–¥–∞—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ GitHub issue –∏–ª–∏ discussion
2. –û–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∏ –µ—ë –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ
3. –ü–æ–∫–∞–∂–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞
4. –û–±—ä—è—Å–Ω–∏—Ç–µ, –∫–∞–∫ —ç—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –æ—Ç –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
6. –ò—Ç–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–∞–¥ –¥–∏–∑–∞–π–Ω–æ–º –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π

---

## –ß–µ–≥–æ –ù–ï —Å–ª–µ–¥—É–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å

### –ù–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –≤–∫–ª–∞–¥—ã

**–ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ:**
- –°–∫—Ä—ã–≤–∞—é—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–µ–ª–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ—è–≤–Ω—ã–º –∏–ª–∏ –º–∞–≥–∏—á–µ—Å–∫–∏–º
- –ù–∞—Ä—É—à–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–µ–º–∞–Ω—Ç–∏–∫—É –∏–ª–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- –î–æ–±–∞–≤–ª—è—é—Ç —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
- –ù–∞—Ä—É—à–∞—é—Ç –ø—Ä–∏–Ω—Ü–∏–ø "—è–≤–Ω–æ–µ –≤–∞–∂–Ω–µ–µ –Ω–µ—è–≤–Ω–æ–≥–æ"

**–ü—Ä–∏–º–µ—Ä—ã –æ—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö –≤–∫–ª–∞–¥–æ–≤:**

**1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—Å—Ç–∞–≤–∫–∞ —Ç–æ—á–µ–∫ —Å –∑–∞–ø—è—Ç–æ–π**
```hemlock
// –ü–õ–û–•–û: –≠—Ç–æ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
let x = 5  // –ù–µ—Ç —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π
let y = 10 // –ù–µ—Ç —Ç–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π
```
–ü–æ—á–µ–º—É: –î–µ–ª–∞–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º, —Å–∫—Ä—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏

**2. RAII/–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã**
```hemlock
// –ü–õ–û–•–û: –≠—Ç–æ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
let f = open("file.txt");
// –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
```
–ü–æ—á–µ–º—É: –°–∫—Ä—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è, –Ω–µ—è–≤–Ω–æ

**3. –ù–µ—è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å –ø–æ—Ç–µ—Ä–µ–π –¥–∞–Ω–Ω—ã—Ö**
```hemlock
// –ü–õ–û–•–û: –≠—Ç–æ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
let x: i32 = 3.14;  // –ú–æ–ª—á–∞ –æ–±—Ä–µ–∑–∞–µ—Ç –¥–æ 3
```
–ü–æ—á–µ–º—É: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —è–≤–Ω–æ–π, –∞ –Ω–µ —Å–∫—Ä—ã—Ç–æ–π

**4. –°–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞**
```c
// –ü–õ–û–•–û: –≠—Ç–æ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
void *gc_malloc(size_t size) {
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏
}
```
–ü–æ—á–µ–º—É: –°–∫—Ä—ã–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**5. –°–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞–∫—Ä–æ—Å–æ–≤**
```hemlock
// –ü–õ–û–•–û: –≠—Ç–æ –±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ
macro repeat($n, $block) {
    for (let i = 0; i < $n; i++) $block
}
```
–ü–æ—á–µ–º—É: –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–∞–≥–∏–∏, –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞

### –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

**"–≠—Ç–æ —Å–ª–∏—à–∫–æ–º –Ω–µ—è–≤–Ω–æ"**
- –†–µ—à–µ–Ω–∏–µ: –°–¥–µ–ª–∞–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —è–≤–Ω—ã–º –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ

**"–≠—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å"**
- –†–µ—à–µ–Ω–∏–µ: –†–∞—Å–∫—Ä–æ–π—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –Ω–æ —Å–¥–µ–ª–∞–π—Ç–µ –µ—ë —ç—Ä–≥–æ–Ω–æ–º–∏—á–Ω–æ–π

**"–≠—Ç–æ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥"**
- –†–µ—à–µ–Ω–∏–µ: –ù–∞–π–¥–∏—Ç–µ –Ω–µ—Ä–∞–∑—Ä—É—à–∞—é—â—É—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –∏–ª–∏ –æ–±—Å—É–¥–∏—Ç–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**"–≠—Ç–æ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock"**
- –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ—á–∏—Ç–∞–π—Ç–µ philosophy.md –∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥

---

## –¢–∏–ø–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–∞—Ç—Ç–µ—Ä–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

```c
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—ã—Ö –æ—à–∏–±–æ–∫ –≤ –∫–æ–¥–µ Hemlock
Value *divide(Value *a, Value *b)
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏–π
    if (b->type != TYPE_I32) {
        // –í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–∫–∏ –∏–ª–∏ –≤—ã–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è
        return create_error("Expected integer divisor");
    }

    if (b->i32_value == 0) {
        return create_error("Division by zero");
    }

    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    return value_create_i32(a->i32_value / b->i32_value);
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é

```c
// –ü–∞—Ç—Ç–µ—Ä–Ω: –í—ã–¥–µ–ª–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –æ—Å–≤–æ–±–æ–¥–∏—Ç—å
void process_data(void)
{
    // –í—ã–¥–µ–ª–µ–Ω–∏–µ
    Buffer *buf = create_buffer(1024);
    char *str = malloc(256);

    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    if (buf && str) {
        // ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
    }

    // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ (–≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è)
    free(str);
    free_buffer(buf);
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω —Å–æ–∑–¥–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π

```c
// –°–æ–∑–¥–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤
Value *create_integer(int32_t n)
{
    Value *val = malloc(sizeof(Value));
    if (!val) {
        fprintf(stderr, "Out of memory\n");
        exit(1);
    }

    val->type = TYPE_I32;
    val->i32_value = n;
    return val;
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤

```c
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
Value *add_values(Value *a, Value *b)
{
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
    if (a->type != TYPE_I32 || b->type != TYPE_I32) {
        return create_error("Type mismatch");
    }

    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
    return value_create_i32(a->i32_value + b->i32_value);
}
```

### –ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ç—Ä–æ–∫

```c
// –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
void build_error_message(char *buffer, size_t size, const char *detail)
{
    snprintf(buffer, size, "Error: %s (line %d)", detail, line_number);
}
```

---

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### –ß–µ–∫–ª–∏—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º:

#### 1. –§–∞–∑–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ philosophy.md –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
- [ ] –°–æ–∑–¥–∞–π—Ç–µ GitHub issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –ü–æ–ª—É—á–∏—Ç–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ –¥–∏–∑–∞–π–Ω
- [ ] –ù–∞–ø–∏—à–∏—Ç–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é (—Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Å–µ–º–∞–Ω—Ç–∏–∫–∞, –ø—Ä–∏–º–µ—Ä—ã)
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏ —É—Å–ª–æ–≤–∏—è –æ—à–∏–±–æ–∫

#### 2. –§–∞–∑–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —è–∑—ã–∫–æ–≤–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:**

- [ ] –î–æ–±–∞–≤—å—Ç–µ —Ç–∏–ø —Ç–æ–∫–µ–Ω–∞ –≤ `lexer.h` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –ª–µ–∫—Å–µ—Ä–∞ –≤ `lexer.c` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –î–æ–±–∞–≤—å—Ç–µ —Ç–∏–ø —É–∑–ª–∞ AST –≤ `ast.h`
- [ ] –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä AST –≤ `ast.c`
- [ ] –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–æ –ø–∞—Ä—Å–µ—Ä–∞ –≤ `parser.c`
- [ ] –î–æ–±–∞–≤—å—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ `runtime.c` –∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å
- [ ] –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—á–∏—Å—Ç–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è AST

**–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:**

- [ ] –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `builtins.c`
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ `register_builtins()`
- [ ] –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫
- [ ] –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—Ç–∞

**–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–∏–ø–∞ –∑–Ω–∞—á–µ–Ω–∏—è:**

- [ ] –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤ `values.h`
- [ ] –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ –≤ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ Value
- [ ] –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤ `values.c`
- [ ] –î–æ–±–∞–≤—å—Ç–µ –≤ `value_free()` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
- [ ] –î–æ–±–∞–≤—å—Ç–µ –≤ `value_copy()` –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –î–æ–±–∞–≤—å—Ç–µ –≤ `value_to_string()` –¥–ª—è –≤—ã–≤–æ–¥–∞
- [ ] –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤, –µ—Å–ª–∏ —á–∏—Å–ª–æ–≤–æ–π

#### 3. –§–∞–∑–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏ (—Å–º. testing.md)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É—Å–ø–µ—à–Ω—ã–µ —Å–ª—É—á–∞–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–ª—É—á–∞–∏ –æ—à–∏–±–æ–∫
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ (`make test`)
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ —Å –ø–æ–º–æ—â—å—é valgrind
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)

#### 4. –§–∞–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

- [ ] –û–±–Ω–æ–≤–∏—Ç–µ CLAUDE.md —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- [ ] –î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–¥—É, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
- [ ] –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ `examples/`
- [ ] –û–±–Ω–æ–≤–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã docs/
- [ ] –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ª—é–±—ã–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 5. –§–∞–∑–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏

- [ ] –û—á–∏—Å—Ç–∏—Ç–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–¥ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∏–ª—é –∫–æ–¥–∞
- [ ] –°–¥–µ–ª–∞–π—Ç–µ rebase –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π main
- [ ] –°–æ–∑–¥–∞–π—Ç–µ pull request —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
- [ ] –û—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –∑–∞–º–µ—á–∞–Ω–∏—è –∫–æ–¥-—Ä–µ–≤—å—é

### –ü—Ä–∏–º–µ—Ä: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –æ—Å—Ç–∞—Ç–∫–∞ –æ—Ç –¥–µ–ª–µ–Ω–∏—è `%` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

**1. –õ–µ–∫—Å–µ—Ä (lexer.c):**
```c
// –î–æ–±–∞–≤—å—Ç–µ –≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä switch –≤ get_next_token()
case '%':
    return create_token(TOKEN_PERCENT, "%", line);
```

**2. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ª–µ–∫—Å–µ—Ä–∞ (lexer.h):**
```c
typedef enum {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–∫–µ–Ω—ã
    TOKEN_PERCENT,
    // ...
} TokenType;
```

**3. AST (ast.h):**
```c
typedef enum {
    // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
    OP_MOD,
    // ...
} BinaryOp;
```

**4. –ü–∞—Ä—Å–µ—Ä (parser.c):**
```c
// –î–æ–±–∞–≤—å—Ç–µ –≤ parse_multiplicative() –∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
if (match(TOKEN_PERCENT)) {
    BinaryOp op = OP_MOD;
    ASTNode *right = parse_unary();
    left = create_binary_op_node(op, left, right);
}
```

**5. –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (runtime.c):**
```c
// –î–æ–±–∞–≤—å—Ç–µ –≤ eval_binary_op()
case OP_MOD:
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
    if (left->type == TYPE_I32 && right->type == TYPE_I32) {
        if (right->i32_value == 0) {
            fprintf(stderr, "Error: Modulo by zero\n");
            exit(1);
        }
        return value_create_i32(left->i32_value % right->i32_value);
    }
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥—Ä—É–≥–∏—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π —Ç–∏–ø–æ–≤
    break;
```

**6. –¢–µ—Å—Ç—ã (tests/operators/modulo.hml):**
```hemlock
// –ë–∞–∑–æ–≤—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è
print(10 % 3);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 2

// –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è
print(-10 % 3); // –û–∂–∏–¥–∞–µ—Ç—Å—è: -1

// –°–ª—É—á–∞–π –æ—à–∏–±–∫–∏ (–¥–æ–ª–∂–µ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π)
// print(10 % 0);  // –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
```

**7. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (CLAUDE.md):**
```markdown
### –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
- `+` - –°–ª–æ–∂–µ–Ω–∏–µ
- `-` - –í—ã—á–∏—Ç–∞–Ω–∏–µ
- `*` - –£–º–Ω–æ–∂–µ–Ω–∏–µ
- `/` - –î–µ–ª–µ–Ω–∏–µ
- `%` - –û—Å—Ç–∞—Ç–æ–∫ –æ—Ç –¥–µ–ª–µ–Ω–∏—è
```

---

## –ü—Ä–æ—Ü–µ—Å—Å –∫–æ–¥-—Ä–µ–≤—å—é

### –ù–∞ —á—Ç–æ –æ–±—Ä–∞—â–∞—é—Ç –≤–Ω–∏–º–∞–Ω–∏–µ —Ä–µ–≤—å—é–µ—Ä—ã

**1. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å**
- –î–µ–ª–∞–µ—Ç –ª–∏ –∫–æ–¥ —Ç–æ, —á—Ç–æ –∑–∞—è–≤–ª–µ–Ω–æ?
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏?
- –ï—Å—Ç—å –ª–∏ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏?
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏?

**2. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏**
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —ç—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Hemlock?
- –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ —è–≤–Ω—ã–º –∏–ª–∏ –Ω–µ—è–≤–Ω—ã–º?
- –°–∫—Ä—ã–≤–∞–µ—Ç –ª–∏ —ç—Ç–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å?

**3. –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞**
- –ß–∏—Ç–∞–µ–º –ª–∏ –∫–æ–¥ –∏ –ª–µ–≥–∫–æ –ª–∏ –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å?
- –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã –ª–∏ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö?
- –†–∞–∑—É–º–Ω–æ–≥–æ –ª–∏ —Ä–∞–∑–º–µ—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏?
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏?

**4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤?
- –ü–æ–∫—Ä—ã–≤–∞—é—Ç –ª–∏ —Ç–µ—Å—Ç—ã –ø—É—Ç–∏ —É—Å–ø–µ—Ö–∞ –∏ –Ω–µ—É–¥–∞—á–∏?
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏?

**5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è?
- –ü–æ–Ω—è—Ç–Ω—ã –ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–æ–¥—É?
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –ª–∏ –ø—Ä–∏–º–µ—Ä—ã?

### –†–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å

**–î–µ–ª–∞–π—Ç–µ:**
- –ë–ª–∞–≥–æ–¥–∞—Ä–∏—Ç–µ —Ä–µ–≤—å—é–µ—Ä–æ–≤ –∑–∞ –∏—Ö –≤—Ä–µ–º—è
- –ó–∞–¥–∞–≤–∞–π—Ç–µ —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ
- –û–±—ä—è—Å–Ω—è–π—Ç–µ —Å–≤–æ–∏ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω–µ —Å–æ–≥–ª–∞—Å–Ω—ã
- –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –≤–Ω–æ—Å–∏—Ç–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ PR, –µ—Å–ª–∏ –æ–±–ª–∞—Å—Ç—å –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

**–ù–µ –¥–µ–ª–∞–π—Ç–µ:**
- –ù–µ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∫—Ä–∏—Ç–∏–∫—É –ª–∏—á–Ω–æ
- –ù–µ –∑–∞—â–∏—â–∞–π—Ç–µ—Å—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ
- –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
- –ù–µ –¥–µ–ª–∞–π—Ç–µ force-push –ø–æ–≤–µ—Ä—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Ä–µ–≤—å—é (–∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤ rebase)
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ PR

### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –Ω–∞ —Å–ª–∏—è–Ω–∏–µ PR

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–ª–∏—è–Ω–∏—è:**
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –ù–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (valgrind —á–∏—Å—Ç—ã–π)
- [ ] –û–¥–æ–±—Ä–µ–Ω–∏–µ –∫–æ–¥-—Ä–µ–≤—å—é –æ—Ç –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –ø–æ —Å—Ç–∏–ª—é –∫–æ–¥–∞
- [ ] –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ Hemlock

**–°—Ä–æ–∫–∏:**
- –ù–µ–±–æ–ª—å—à–∏–µ PR (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫): –û–±—ã—á–Ω–æ —Ä–µ–≤—å—é –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–Ω–µ–π
- –°—Ä–µ–¥–Ω–∏–µ PR (–Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏): –ú–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –Ω–µ–¥–µ–ª–∏
- –ë–æ–ª—å—à–∏–µ PR (–∫—Ä—É–ø–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è): –¢—Ä–µ–±—É—é—Ç –æ–±—à–∏—Ä–Ω–æ–≥–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –£—á–µ–±–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

**–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–≤:**
- "Crafting Interpreters" –†–æ–±–µ—Ä—Ç–∞ –ù–∏—Å—Ç—Ä–æ–º–∞
- "Writing An Interpreter In Go" –¢–æ—Ä—Å—Ç–µ–Ω–∞ –ë–∞–ª–ª–∞
- "Modern Compiler Implementation in C" –≠–Ω–¥—Ä—é –ê–ø–ø–µ–ª—è

**–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ C:**
- "The C Programming Language" –ö–µ—Ä–Ω–∏–≥–∞–Ω–∞ –∏ –†–∏—Ç—á–∏
- "Expert C Programming" –ü–∏—Ç–µ—Ä–∞ –≤–∞–Ω –¥–µ—Ä –õ–∏–Ω–¥–µ–Ω–∞
- "C Interfaces and Implementations" –î—ç–≤–∏–¥–∞ –•—ç–Ω—Å–æ–Ω–∞

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Valgrind
- "Understanding and Using C Pointers" –†–∏—á–∞—Ä–¥–∞ –†–∏–∑–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–±–æ—Ä–∫–∞ —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
make clean && make CFLAGS="-g -O0"

# –ó–∞–ø—É—Å–∫ —Å valgrind
valgrind --leak-check=full ./hemlock script.hml

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤
./tests/run_tests.sh tests/strings/

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–∞ tags –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –∫–æ–¥—É
ctags -R .

# –ü–æ–∏—Å–∫ –≤—Å–µ—Ö TODO –∏ FIXME
grep -rn "TODO\|FIXME" src/ include/
```

---

## –í–æ–ø—Ä–æ—Å—ã?

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ–± —É—á–∞—Å—Ç–∏–∏:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/`
2. –ü–æ–∏—â–∏—Ç–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö GitHub issues
3. –°–ø—Ä–æ—Å–∏—Ç–µ –≤ GitHub Discussions
4. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π issue —Å –≤–∞—à–∏–º –≤–æ–ø—Ä–æ—Å–æ–º

**–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –≤–∞—Å –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑–≤–∏—Ç–∏–∏ Hemlock!**


--------------------------------------------------------------------------------
## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
--------------------------------------------------------------------------------

# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Hemlock

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–±—ä—è—Å–Ω—è–µ—Ç —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Hemlock, –∫–∞–∫ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –∏ –∫–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤.

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–§–∏–ª–æ—Å–æ—Ñ–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#—Ñ–∏–ª–æ—Å–æ—Ñ–∏—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–Ω–∞–±–æ—Ä–∞-—Ç–µ—Å—Ç–æ–≤)
- [–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤](#–∑–∞–ø—É—Å–∫-—Ç–µ—Å—Ç–æ–≤)
- [–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤](#–Ω–∞–ø–∏—Å–∞–Ω–∏–µ-—Ç–µ—Å—Ç–æ–≤)
- [–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤](#–∫–∞—Ç–µ–≥–æ—Ä–∏–∏-—Ç–µ—Å—Ç–æ–≤)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–Ω–∞-—É—Ç–µ—á–∫–∏-–ø–∞–º—è—Ç–∏)
- [–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- [–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](#–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏)

---

## –§–∏–ª–æ—Å–æ—Ñ–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

**1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (TDD)**

–ü–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã **–¥–æ** —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π:

```
1. –ù–∞–ø–∏—à–∏—Ç–µ –ø–∞–¥–∞—é—â–∏–π —Ç–µ—Å—Ç
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç (–¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏)
4. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
- –î–µ–ª–∞–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ

**2. –í—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**

–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∫ —É—Å–ø–µ—à–Ω—ã–µ, —Ç–∞–∫ –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ —Å–ª—É—á–∞–∏:

```hemlock
// –£—Å–ø–µ—à–Ω—ã–π —Å–ª—É—á–∞–π
let x: u8 = 255;  // –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

// –ù–µ—É—Å–ø–µ—à–Ω—ã–π —Å–ª—É—á–∞–π
let y: u8 = 256;  // –î–æ–ª–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
```

**3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–Ω–æ –∏ —á–∞—Å—Ç–æ**

–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã:
- –ü–µ—Ä–µ–¥ —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –∫–æ–¥–∞
- –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π pull request
- –í–æ –≤—Ä–µ–º—è –∫–æ–¥-—Ä–µ–≤—å—é

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–¥ —Å–ª–∏—è–Ω–∏–µ–º.

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:**
- –ë–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (—É—Å–ø–µ—à–Ω—ã–π –ø—É—Ç—å)
- –£—Å–ª–æ–≤–∏—è –æ—à–∏–±–æ–∫ (–Ω–µ—É—Å–ø–µ—à–Ω—ã–π –ø—É—Ç—å)
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è)
- –ü—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (–±–µ–∑ —É—Ç–µ—á–µ–∫)
- –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏

**–ü—Ä–∏–º–µ—Ä –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏:**
```hemlock
// –§—É–Ω–∫—Ü–∏—è: String.substr(start, length)

// –£—Å–ø–µ—à–Ω—ã–π –ø—É—Ç—å
print("hello".substr(0, 5));  // "hello"

// –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
print("hello".substr(0, 0));  // "" (–ø—É—Å—Ç–æ)
print("hello".substr(5, 0));  // "" (–≤ –∫–æ–Ω—Ü–µ)
print("hello".substr(2, 100)); // "llo" (–∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏)

// –°–ª—É—á–∞–∏ –æ—à–∏–±–æ–∫
// "hello".substr(-1, 5);  // –û—à–∏–±–∫–∞: –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
// "hello".substr(0, -1);  // –û—à–∏–±–∫–∞: –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
tests/
‚îú‚îÄ‚îÄ run_tests.sh          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ primitives/           # –¢–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ integers.hml
‚îÇ   ‚îú‚îÄ‚îÄ floats.hml
‚îÇ   ‚îú‚îÄ‚îÄ booleans.hml
‚îÇ   ‚îú‚îÄ‚îÄ i64.hml
‚îÇ   ‚îî‚îÄ‚îÄ u64.hml
‚îú‚îÄ‚îÄ conversions/          # –¢–µ—Å—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ int_to_float.hml
‚îÇ   ‚îú‚îÄ‚îÄ promotion.hml
‚îÇ   ‚îî‚îÄ‚îÄ rune_conversions.hml
‚îú‚îÄ‚îÄ memory/               # –¢–µ—Å—Ç—ã —É–∫–∞–∑–∞—Ç–µ–ª–µ–π/–±—É—Ñ–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ alloc.hml
‚îÇ   ‚îú‚îÄ‚îÄ buffer.hml
‚îÇ   ‚îî‚îÄ‚îÄ memcpy.hml
‚îú‚îÄ‚îÄ strings/              # –¢–µ—Å—Ç—ã —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ concat.hml
‚îÇ   ‚îú‚îÄ‚îÄ methods.hml
‚îÇ   ‚îú‚îÄ‚îÄ utf8.hml
‚îÇ   ‚îî‚îÄ‚îÄ runes.hml
‚îú‚îÄ‚îÄ control/              # –¢–µ—Å—Ç—ã –ø–æ—Ç–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ if.hml
‚îÇ   ‚îú‚îÄ‚îÄ switch.hml
‚îÇ   ‚îî‚îÄ‚îÄ while.hml
‚îú‚îÄ‚îÄ functions/            # –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π –∏ –∑–∞–º—ã–∫–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ basics.hml
‚îÇ   ‚îú‚îÄ‚îÄ closures.hml
‚îÇ   ‚îî‚îÄ‚îÄ recursion.hml
‚îú‚îÄ‚îÄ objects/              # –¢–µ—Å—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ literals.hml
‚îÇ   ‚îú‚îÄ‚îÄ methods.hml
‚îÇ   ‚îú‚îÄ‚îÄ duck_typing.hml
‚îÇ   ‚îî‚îÄ‚îÄ serialization.hml
‚îú‚îÄ‚îÄ arrays/               # –¢–µ—Å—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–∞—Å—Å–∏–≤–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ basics.hml
‚îÇ   ‚îú‚îÄ‚îÄ methods.hml
‚îÇ   ‚îî‚îÄ‚îÄ slicing.hml
‚îú‚îÄ‚îÄ loops/                # –¢–µ—Å—Ç—ã —Ü–∏–∫–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ for.hml
‚îÇ   ‚îú‚îÄ‚îÄ while.hml
‚îÇ   ‚îú‚îÄ‚îÄ break.hml
‚îÇ   ‚îî‚îÄ‚îÄ continue.hml
‚îú‚îÄ‚îÄ exceptions/           # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ try_catch.hml
‚îÇ   ‚îú‚îÄ‚îÄ finally.hml
‚îÇ   ‚îî‚îÄ‚îÄ throw.hml
‚îú‚îÄ‚îÄ io/                   # –¢–µ—Å—Ç—ã —Ñ–∞–π–ª–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ file_object.hml
‚îÇ   ‚îú‚îÄ‚îÄ read_write.hml
‚îÇ   ‚îî‚îÄ‚îÄ seek.hml
‚îú‚îÄ‚îÄ async/                # –¢–µ—Å—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ spawn_join.hml
‚îÇ   ‚îú‚îÄ‚îÄ channels.hml
‚îÇ   ‚îî‚îÄ‚îÄ exceptions.hml
‚îú‚îÄ‚îÄ ffi/                  # –¢–µ—Å—Ç—ã FFI
‚îÇ   ‚îú‚îÄ‚îÄ basic_call.hml
‚îÇ   ‚îú‚îÄ‚îÄ types.hml
‚îÇ   ‚îî‚îÄ‚îÄ dlopen.hml
‚îú‚îÄ‚îÄ signals/              # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ basic.hml
‚îÇ   ‚îú‚îÄ‚îÄ handlers.hml
‚îÇ   ‚îî‚îÄ‚îÄ raise.hml
‚îî‚îÄ‚îÄ args/                 # –¢–µ—Å—Ç—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
    ‚îî‚îÄ‚îÄ basic.hml
```

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

**–°–æ–≥–ª–∞—à–µ–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞: `method_chaining.hml`, –∞ –Ω–µ `test1.hml`
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã: `string_substr.hml`, `string_slice.hml`
- –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –Ω–∞ —Ñ–∞–π–ª
- –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –Ω–µ–±–æ–ª—å—à–∏–º–∏

---

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –ò–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ hemlock
make test

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
./tests/run_tests.sh
```

**–í—ã–≤–æ–¥:**
```
Running tests in tests/primitives/...
  ‚úì integers.hml
  ‚úì floats.hml
  ‚úì booleans.hml

Running tests in tests/strings/...
  ‚úì concat.hml
  ‚úì methods.hml

...

Total: 251 tests
Passed: 251
Failed: 0
```

### –ó–∞–ø—É—Å–∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

```bash
# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤ —Å—Ç—Ä–æ–∫
./tests/run_tests.sh tests/strings/

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
./tests/run_tests.sh tests/strings/concat.hml

# –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
./tests/run_tests.sh tests/strings/ tests/arrays/
```

### –ó–∞–ø—É—Å–∫ —Å Valgrind (–ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–∞ —É—Ç–µ—á–∫–∏
valgrind --leak-check=full ./hemlock tests/memory/alloc.hml

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ (–º–µ–¥–ª–µ–Ω–Ω–æ!)
for test in tests/**/*.hml; do
    echo "Testing $test"
    valgrind --leak-check=full --error-exitcode=1 ./hemlock "$test"
done
```

### –û—Ç–ª–∞–¥–∫–∞ —É–ø–∞–≤—à–∏—Ö —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
./hemlock tests/failing_test.hml

# –ó–∞–ø—É—Å–∫ —Å gdb
gdb --args ./hemlock tests/failing_test.hml
(gdb) run
(gdb) backtrace  # –µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à—ë–ª —Å–±–æ–π
```

---

## –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### –§–æ—Ä–º–∞—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞

–¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã Hemlock —Å –æ–∂–∏–¥–∞–µ–º—ã–º –≤—ã–≤–æ–¥–æ–º:

**–ü—Ä–∏–º–µ—Ä: tests/primitives/integers.hml**
```hemlock
// –¢–µ—Å—Ç –±–∞–∑–æ–≤—ã—Ö —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
let x = 42;
print(x);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 42

let y: i32 = 100;
print(y);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 100

// –¢–µ—Å—Ç –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏
let sum = x + y;
print(sum);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 142

// –¢–µ—Å—Ç –≤—ã–≤–æ–¥–∞ —Ç–∏–ø–∞
let small = 10;
print(typeof(small));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: i32

let large = 5000000000;
print(typeof(large));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: i64
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–µ—Å—Ç—ã:**
1. –ó–∞–ø—É—Å–∫–∞—é—â–∏–π —Ç–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ–∞–π–ª .hml
2. –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–≤–æ–¥ stdout
3. –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –æ–∂–∏–¥–∞–µ–º—ã–º –≤—ã–≤–æ–¥–æ–º (–∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ .out)
4. –°–æ–æ–±—â–∞–µ—Ç –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏/–ø–∞–¥–µ–Ω–∏–∏

### –ú–µ—Ç–æ–¥—ã —É–∫–∞–∑–∞–Ω–∏—è –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –≤—ã–≤–æ–¥–∞

**–ú–µ—Ç–æ–¥ 1: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤)**

```hemlock
print("hello");  // –û–∂–∏–¥–∞–µ—Ç—Å—è: hello
print(42);       // –û–∂–∏–¥–∞–µ—Ç—Å—è: 42
```

–ó–∞–ø—É—Å–∫–∞—é—â–∏–π —Ç–µ—Å—Ç—ã —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ `// –û–∂–∏–¥–∞–µ—Ç—Å—è: ...`.

**–ú–µ—Ç–æ–¥ 2: –û—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª .out**

–°–æ–∑–¥–∞–π—Ç–µ `test_name.hml.out` —Å –æ–∂–∏–¥–∞–µ–º—ã–º –≤—ã–≤–æ–¥–æ–º:

**test_name.hml:**
```hemlock
print("line 1");
print("line 2");
print("line 3");
```

**test_name.hml.out:**
```
line 1
line 2
line 3
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª—É—á–∞–µ–≤ –æ—à–∏–±–æ–∫

–¢–µ—Å—Ç—ã –æ—à–∏–±–æ–∫ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–µ—Ä—à–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º:

**–ü—Ä–∏–º–µ—Ä: tests/primitives/range_error.hml**
```hemlock
// –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è —Å –æ—à–∏–±–∫–æ–π —Ç–∏–ø–∞
let x: u8 = 256;  // –í—ã—Ö–æ–¥–∏—Ç –∑–∞ –¥–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è u8
```

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º
- –í—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ stderr

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—É—Å–∫–∞—é—â–∏–º —Ç–µ—Å—Ç—ã:**
- –¢–µ—Å—Ç—ã, –æ–∂–∏–¥–∞—é—â–∏–µ –æ—à–∏–±–∫–∏, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏: `*_error.hml` –∏–ª–∏ `*_fail.hml`
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –æ–∂–∏–¥–∞–µ–º—É—é –æ—à–∏–±–∫—É –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

**–ü—Ä–∏–º–µ—Ä: tests/strings/methods.hml**
```hemlock
// –¢–µ—Å—Ç substr
let s = "hello world";
let sub = s.substr(6, 5);
print(sub);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: world

// –¢–µ—Å—Ç find
let pos = s.find("world");
print(pos);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 6

// –¢–µ—Å—Ç contains
let has = s.contains("lo");
print(has);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: true

// –¢–µ—Å—Ç trim
let padded = "  hello  ";
let trimmed = padded.trim();
print(trimmed);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: hello
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

**–ü—Ä–∏–º–µ—Ä: tests/arrays/edge_cases.hml**
```hemlock
// –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
let empty = [];
print(empty.length);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 0

// –û–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç
let single = [42];
print(single[0]);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 42

// –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å (–¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ)
// print(single[-1]);  // –û—à–∏–±–∫–∞

// –ò–Ω–¥–µ–∫—Å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ (–¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É)
// print(single[100]);  // –û—à–∏–±–∫–∞

// –ü–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
let arr = [1, 2, 3];
print(arr.slice(0, 0));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: [] (–ø—É—Å—Ç–æ)
print(arr.slice(3, 3));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: [] (–ø—É—Å—Ç–æ)
print(arr.slice(1, 2));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: [2]
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤

**–ü—Ä–∏–º–µ—Ä: tests/conversions/promotion.hml**
```hemlock
// –¢–µ—Å—Ç –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ –±–∏–Ω–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö

// i32 + i64 -> i64
let a: i32 = 10;
let b: i64 = 20;
let c = a + b;
print(typeof(c));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: i64

// i32 + f32 -> f32
let d: i32 = 10;
let e: f32 = 3.14;
let f = d + e;
print(typeof(f));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: f32

// u8 + i32 -> i32
let g: u8 = 5;
let h: i32 = 10;
let i = g + h;
print(typeof(i));  // –û–∂–∏–¥–∞–µ—Ç—Å—è: i32
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

**–ü—Ä–∏–º–µ—Ä: tests/async/basic.hml**
```hemlock
async fn compute(n: i32): i32 {
    let sum = 0;
    let i = 0;
    while (i < n) {
        sum = sum + i;
        i = i + 1;
    }
    return sum;
}

// –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á
let t1 = spawn(compute, 10);
let t2 = spawn(compute, 20);

// –û–∂–∏–¥–∞–Ω–∏–µ –∏ –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
let r1 = join(t1);
let r2 = join(t2);
print(r1);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 45
print(r2);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 190
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä: tests/exceptions/try_catch.hml**
```hemlock
// –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ try/catch
try {
    throw "error message";
} catch (e) {
    print("Caught: " + e);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: Caught: error message
}

// –¢–µ—Å—Ç finally
let executed = false;
try {
    print("try");  // –û–∂–∏–¥–∞–µ—Ç—Å—è: try
} finally {
    executed = true;
    print("finally");  // –û–∂–∏–¥–∞–µ—Ç—Å—è: finally
}

// –¢–µ—Å—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π
fn risky(): i32 {
    throw "failure";
}

try {
    risky();
} catch (e) {
    print(e);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: failure
}
```

---

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ—Å—Ç–æ–≤

### –¢–µ—Å—Ç—ã –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –¶–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã (i8, i16, i32, i64, u8, u16, u32, u64)
- –¢–∏–ø—ã —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (f32, f64)
- –ë—É–ª–µ–≤ —Ç–∏–ø
- –°—Ç—Ä–æ–∫–æ–≤—ã–π —Ç–∏–ø
- –¢–∏–ø rune
- –¢–∏–ø null

**–ü—Ä–∏–º–µ—Ä—ã –æ–±–ª–∞—Å—Ç–µ–π:**
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
- –í—ã–≤–æ–¥ —Ç–∏–ø–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

### –¢–µ—Å—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –ù–µ—è–≤–Ω–æ–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤
- –Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Å –ø–æ—Ç–µ—Ä–µ–π –¥–∞–Ω–Ω—ã—Ö (–¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É)
- –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –≤ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- –°—Ä–∞–≤–Ω–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏

### –¢–µ—Å—Ç—ã –ø–∞–º—è—Ç–∏

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å alloc/free
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ –¥–æ—Å—Ç—É–ø –∫ –±—É—Ñ–µ—Ä—É
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –±—É—Ñ–µ—Ä–æ–≤
- memset, memcpy, realloc
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (valgrind)

### –¢–µ—Å—Ç—ã —Å—Ç—Ä–æ–∫

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è
- –í—Å–µ 18 —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ UTF-8
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ rune
- –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ + rune
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –∏ —Ç.–¥.)

### –¢–µ—Å—Ç—ã –ø–æ—Ç–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- if/else/else if
- –¶–∏–∫–ª—ã while
- –¶–∏–∫–ª—ã for
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã switch
- break/continue
- –û–ø–µ—Ä–∞—Ç–æ—Ä—ã return

### –¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –†–µ–∫—É—Ä—Å–∏—è
- –ó–∞–º—ã–∫–∞–Ω–∏—è –∏ –∑–∞—Ö–≤–∞—Ç
- –§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
- –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –¢–µ—Å—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –õ–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤
- –î–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
- –ú–µ—Ç–æ–¥—ã –∏ –ø—Ä–∏–≤—è–∑–∫–∞ self
- –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫

### –¢–µ—Å—Ç—ã –º–∞—Å—Å–∏–≤–æ–≤

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
- –í—Å–µ 15 –º–µ—Ç–æ–¥–æ–≤ –º–∞—Å—Å–∏–≤–æ–≤
- –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–ø—É—Å—Ç–æ–π, –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç)

### –¢–µ—Å—Ç—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- try/catch/finally
- –û–ø–µ—Ä–∞—Ç–æ—Ä throw
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –í–ª–æ–∂–µ–Ω–Ω—ã–π try/catch
- Return –≤ try/catch/finally
- –ù–µ–ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

### –¢–µ—Å—Ç—ã –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –†–µ–∂–∏–º—ã –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤
- –û–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
- Seek/tell
- –°–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –∏ —Ç.–¥.)
- –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

### –¢–µ—Å—Ç—ã async

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- spawn/join/detach
- –ö–∞–Ω–∞–ª—ã send/recv
- –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –≤ –∑–∞–¥–∞—á–∞—Ö
- –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
- –ë–ª–æ–∫–∏—Ä—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤

### –¢–µ—Å—Ç—ã FFI

**–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- dlopen/dlclose
- dlsym
- dlcall —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Valgrind

**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
valgrind --leak-check=full ./hemlock test.hml
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ (–±–µ–∑ —É—Ç–µ—á–µ–∫):**
```
==12345== HEAP SUMMARY:
==12345==     in use at exit: 0 bytes in 0 blocks
==12345==   total heap usage: 10 allocs, 10 frees, 1,024 bytes allocated
==12345==
==12345== All heap blocks were freed -- no leaks are possible
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ (—Å —É—Ç–µ—á–∫–æ–π):**
```
==12345== LEAK SUMMARY:
==12345==    definitely lost: 64 bytes in 1 blocks
==12345==    indirectly lost: 0 bytes in 0 blocks
==12345==      possibly lost: 0 bytes in 0 blocks
==12345==    still reachable: 0 bytes in 0 blocks
==12345==         suppressed: 0 bytes in 0 blocks
```

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —É—Ç–µ—á–µ–∫

**1. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã free():**
```c
// –ü–õ–û–•–û
char *str = malloc(100);
// ... –∏—Å–ø–æ–ª—å–∑—É–µ–º str
// –ó–∞–±—ã–ª–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å!

// –•–û–†–û–®–û
char *str = malloc(100);
// ... –∏—Å–ø–æ–ª—å–∑—É–µ–º str
free(str);
```

**2. –ü–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏:**
```c
// –ü–õ–û–•–û
char *ptr = malloc(100);
ptr = malloc(200);  // –ü–æ—Ç–µ—Ä—è–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Ä–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ!

// –•–û–†–û–®–û
char *ptr = malloc(100);
free(ptr);
ptr = malloc(200);
```

**3. –ü—É—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π:**
```c
// –ü–õ–û–•–û
void func() {
    char *data = malloc(100);
    if (error_condition) {
        return;  // –£—Ç–µ—á–∫–∞!
    }
    free(data);
}

// –•–û–†–û–®–û
void func() {
    char *data = malloc(100);
    if (error_condition) {
        free(data);
        return;
    }
    free(data);
}
```

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —É—Ç–µ—á–∫–∏

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–±–æ–ª—å—à–∏–µ "—É—Ç–µ—á–∫–∏" —è–≤–ª—è—é—Ç—Å—è –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è–º–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

**–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
// –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∏–ø—ã FFI –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—ã–¥–µ–ª—è—é—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
// –∏ –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ (–æ–±—ã—á–Ω–æ ~200 –±–∞–π—Ç)
```

–≠—Ç–æ –Ω–µ –Ω–∞—Å—Ç–æ—è—â–∏–µ —É—Ç–µ—á–∫–∏ - —ç—Ç–æ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ –≤—Å—ë –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –æ—á–∏—â–∞—é—Ç—Å—è –û–° –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ.

---

## –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### GitHub Actions (–≤ –±—É–¥—É—â–µ–º)

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CI –≤—Å–µ —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏:
- Push –≤ –≤–µ—Ç–∫—É main
- –°–æ–∑–¥–∞–Ω–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ pull request
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö

**–†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å CI:**
1. –°–±–æ—Ä–∫–∞ Hemlock
2. –ó–∞–ø—É—Å–∫ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ (valgrind)
4. –û—Ç—á—ë—Ç –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –≤ PR

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

–ü–µ—Ä–µ–¥ —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
# –°–≤–µ–∂–∞—è —Å–±–æ—Ä–∫–∞
make clean && make

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
make test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —É—Ç–µ—á–∫–∏
valgrind --leak-check=full ./hemlock tests/memory/alloc.hml
valgrind --leak-check=full ./hemlock tests/strings/concat.hml
```

---

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å

**–ü–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–≤—ã–º–∏ (TDD)**
```bash
1. –°–æ–∑–¥–∞–π—Ç–µ tests/feature/new_feature.hml
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ src/
3. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –¥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
```

**–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏ —É—Å–ø–µ—Ö, –∏ –Ω–µ—É–¥–∞—á—É**
```hemlock
// –£—Å–ø–µ—Ö: tests/feature/success.hml
let result = do_thing();
print(result);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: –æ–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

// –ù–µ—É–¥–∞—á–∞: tests/feature/failure.hml
do_invalid_thing();  // –î–æ–ª–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤**
```
–•–æ—Ä–æ—à–æ: tests/strings/substr_utf8_boundary.hml
–ü–ª–æ—Ö–æ:  tests/test1.hml
```

**–î–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç—ã —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏**
- –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –Ω–∞ —Ñ–∞–π–ª
- –ß—ë—Ç–∫–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- –ú–∏–Ω–∏–º—É–º –∫–æ–¥–∞

**–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ —Å–ª–æ–∂–Ω—ã–µ —Ç–µ—Å—Ç—ã**
```hemlock
// –¢–µ—Å—Ç, —á—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤–Ω–µ—à–Ω—é—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ —Å—Å—ã–ª–∫–µ
fn outer() {
    let x = 10;
    let f = fn() { return x; };
    x = 20;  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º—ã–∫–∞–Ω–∏—è
    return f();  // –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å 20, –∞ –Ω–µ 10
}
```

**–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏**
- –ü—É—Å—Ç—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ó–Ω–∞—á–µ–Ω–∏—è null
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (min/max)
- –ë–æ–ª—å—à–∏–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

### –ß–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å

**–ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã**
- –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–µ—Ä–µ–¥ —Å–ª–∏—è–Ω–∏–µ–º
- –ù–µ –∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–∞–¥–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã
- –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é

**–ù–µ –ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã, –∑–∞–≤–∏—Å—è—â–∏–µ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞**
```hemlock
// –ü–õ–û–•–û: test2.hml –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–≤–æ–¥–∞ test1.hml
// –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏
```

**–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö**
```hemlock
// –ü–õ–û–•–û: –ù–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ
let x = random();
print(x);  // –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –≤—ã–≤–æ–¥

// –•–û–†–û–®–û: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ
let x = 42;
print(x);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 42
```

**–ù–µ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**
```hemlock
// –ü–õ–û–•–û: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
let obj = { x: 10 };
// –ù–µ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π, —ë–º–∫–æ—Å—Ç—å –∏ —Ç.–¥.

// –•–û–†–û–®–û: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è
print(obj.x);  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 10
```

**–ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏**
- –í—Å–µ —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å valgrind —á–∏—Å—Ç–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ/–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —É—Ç–µ—á–∫–∏
- –ò—Å–ø—Ä–∞–≤–ª—è–π—Ç–µ —É—Ç–µ—á–∫–∏ –ø–µ—Ä–µ–¥ —Å–ª–∏—è–Ω–∏–µ–º

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ—Å—Ç–æ–≤

**–ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–µ—Å—Ç—ã:**
- –ò–∑–º–µ–Ω—è–µ—Ç—Å—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —Ç—Ä–µ–±—É—é—Ç –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤
- –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ö–æ–≥–¥–∞ —É–¥–∞–ª—è—Ç—å —Ç–µ—Å—Ç—ã:**
- –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞ –∏–∑ —è–∑—ã–∫–∞
- –¢–µ—Å—Ç –¥—É–±–ª–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- –¢–µ—Å—Ç –±—ã–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤:**
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤–º–µ—Å—Ç–µ
- –í—ã–¥–µ–ª—è–π—Ç–µ –æ–±—â–∏–π –∫–æ–¥ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- –î–µ—Ä–∂–∏—Ç–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ —á–∏—Ç–∞–µ–º—ã–º–∏

---

## –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–æ–≤–æ–π —Å–µ—Å—Å–∏–∏

–í–æ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Ç–µ—Å—Ç–∞–º–∏:

### –§—É–Ω–∫—Ü–∏—è: –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `array.first()`

**1. –°–Ω–∞—á–∞–ª–∞ –Ω–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç:**

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
cat > tests/arrays/first_method.hml << 'EOF'
// –¢–µ—Å—Ç –º–µ—Ç–æ–¥–∞ array.first()

// –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
let arr = [1, 2, 3];
print(arr.first());  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 1

// –û–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç
let single = [42];
print(single.first());  // –û–∂–∏–¥–∞–µ—Ç—Å—è: 42

// –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ (–¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É - –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª)
// let empty = [];
// print(empty.first());  // –û—à–∏–±–∫–∞
EOF
```

**2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç (–¥–æ–ª–∂–µ–Ω —É–ø–∞—Å—Ç—å):**

```bash
./hemlock tests/arrays/first_method.hml
# Error: Method 'first' not found on array
```

**3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:**

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/interpreter/builtins.c`:

```c
// –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ array_first
Value *array_first(Value *self, Value **args, int arg_count)
{
    if (self->array_value->length == 0) {
        fprintf(stderr, "Error: Cannot get first element of empty array\n");
        exit(1);
    }

    return value_copy(&self->array_value->elements[0]);
}

// –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü–µ –º–µ—Ç–æ–¥–æ–≤ –º–∞—Å—Å–∏–≤–∞
// ... –¥–æ–±–∞–≤—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –º–µ—Ç–æ–¥–∞ –º–∞—Å—Å–∏–≤–∞
```

**4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç (–¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏):**

```bash
./hemlock tests/arrays/first_method.hml
1
42
# –£—Å–ø–µ—Ö!
```

**5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏:**

```bash
valgrind --leak-check=full ./hemlock tests/arrays/first_method.hml
# All heap blocks were freed -- no leaks are possible
```

**6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤:**

```bash
make test
# Total: 252 tests (251 + –Ω–æ–≤—ã–π)
# Passed: 252
# Failed: 0
```

**7. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ:**

```bash
git add tests/arrays/first_method.hml src/interpreter/builtins.c
git commit -m "Add array.first() method with tests"
```

---

## –†–µ–∑—é–º–µ

**–ü–æ–º–Ω–∏—Ç–µ:**
- –°–Ω–∞—á–∞–ª–∞ –ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã (TDD)
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ —Å–ª—É—á–∞–∏
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ —Ñ–∏–∫—Å–∞—Ü–∏–µ–π
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- –î–µ—Ä–∂–∏—Ç–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏

**–ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ —Ç–∞–∫ –∂–µ –≤–∞–∂–Ω–æ, –∫–∞–∫ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞!**



################################################################################
# HPM: –ù–ê–ß–ê–õ–û –†–ê–ë–û–¢–´
################################################################################

--------------------------------------------------------------------------------
## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
--------------------------------------------------------------------------------

# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É —Å hpm –∑–∞ 5 –º–∏–Ω—É—Ç.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ hpm

```bash
curl -fsSL https://raw.githubusercontent.com/hemlang/hpm/main/install.sh | sh
```

–î–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–º. [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ](#hpm-quick-start-installation).

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

–ù–∞—á–Ω–∏—Ç–µ —Å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞–∫–µ—Ç–∞:

```bash
mkdir my-project
cd my-project
hpm init
```

–í–∞–º –±—É–¥—É—Ç –∑–∞–¥–∞–Ω—ã –≤–æ–ø—Ä–æ—Å—ã –æ –¥–µ—Ç–∞–ª—è—Ö –ø—Ä–æ–µ–∫—Ç–∞:

```
Package name (owner/repo): myname/my-project
Version (1.0.0):
Description: My awesome Hemlock project
Author: Your Name <you@example.com>
License (MIT):
Main file (src/index.hml):

Created package.json
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--yes` –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```bash
hpm init --yes
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞:

```
my-project/
‚îú‚îÄ‚îÄ package.json        # –ú–∞–Ω–∏—Ñ–µ—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ index.hml      # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ test/
    ‚îî‚îÄ‚îÄ test.hml       # –¢–µ—Å—Ç—ã
```

–°–æ–∑–¥–∞–π—Ç–µ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª:

```bash
mkdir -p src test
```

**src/index.hml:**
```hemlock
// –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
export fn greet(name: string): string {
    return "Hello, " + name + "!";
}

export fn main() {
    print(greet("World"));
}
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ò—â–∏—Ç–µ –ø–∞–∫–µ—Ç—ã –Ω–∞ GitHub (–ø–∞–∫–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–æ—Ä–º–∞—Ç `owner/repo`):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞
hpm install hemlang/sprout

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏
hpm install hemlang/json@^1.0.0

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
hpm install hemlang/test-utils --dev
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç `hem_modules/`:

```
my-project/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ package-lock.json   # –§–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ hem_modules/        # –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ hemlang/
‚îÇ       ‚îî‚îÄ‚îÄ sprout/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ index.hml
‚îî‚îÄ‚îÄ test/
    ‚îî‚îÄ‚îÄ test.hml
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–∞–∫–µ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—è –∏—Ö –ø—É—Ç—å –Ω–∞ GitHub:

```hemlock
// –ò–º–ø–æ—Ä—Ç –∏–∑ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞
import { app, router } from "hemlang/sprout";
import { parse, stringify } from "hemlang/json";

// –ò–º–ø–æ—Ä—Ç –∏–∑ –ø–æ–¥–ø—É—Ç–∏
import { middleware } from "hemlang/sprout/middleware";

// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è)
import { HashMap } from "@stdlib/collections";
import { readFile } from "@stdlib/fs";
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ –≤–∞—à `package.json`:

```json
{
  "name": "myname/my-project",
  "version": "1.0.0",
  "scripts": {
    "start": "hemlock src/index.hml",
    "test": "hemlock test/test.hml",
    "build": "hemlock --bundle src/index.hml -o dist/app.hmlc"
  }
}
```

–ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã —Å –ø–æ–º–æ—â—å—é `hpm run`:

```bash
hpm run start
hpm run build

# –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è test
hpm test
```

## –¢–∏–ø–∏—á–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ö–æ–≥–¥–∞ –≤—ã –∫–ª–æ–Ω–∏—Ä—É–µ—Ç–µ –ø—Ä–æ–µ–∫—Ç —Å `package.json`:

```bash
git clone https://github.com/someone/project.git
cd project
hpm install
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π –≤ —Ä–∞–º–∫–∞—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:

```bash
hpm update
```

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞:

```bash
hpm update hemlang/sprout
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤:

```bash
hpm list
```

–í—ã–≤–æ–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```
my-project@1.0.0
‚îú‚îÄ‚îÄ hemlang/sprout@2.1.0
‚îÇ   ‚îî‚îÄ‚îÄ hemlang/router@1.5.0
‚îî‚îÄ‚îÄ hemlang/json@1.2.3
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ –ø–∞–∫–µ—Ç—ã –∏–º–µ—é—Ç –±–æ–ª–µ–µ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏:

```bash
hpm outdated
```

### –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞

```bash
hpm uninstall hemlang/sprout
```

## –ü—Ä–∏–º–µ—Ä: –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–í–æ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞:

**package.json:**
```json
{
  "name": "myname/my-web-app",
  "version": "1.0.0",
  "description": "A web application",
  "main": "src/index.hml",
  "dependencies": {
    "hemlang/sprout": "^2.0.0"
  },
  "scripts": {
    "start": "hemlock src/index.hml",
    "dev": "hemlock --watch src/index.hml"
  }
}
```

**src/index.hml:**
```hemlock
import { App, Router } from "hemlang/sprout";

fn main() {
    let app = App.new();
    let router = Router.new();

    router.get("/", fn(req, res) {
        res.send("Hello, World!");
    });

    router.get("/api/status", fn(req, res) {
        res.json({ status: "ok" });
    });

    app.use(router);
    app.listen(3000);

    print("Server running on http://localhost:3000");
}
```

–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```bash
hpm install
hpm run start
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥](#hpm-quick-start-commands) ‚Äî –ò–∑—É—á–∏—Ç–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã hpm
- [–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤](#hpm-quick-start-creating-packages) ‚Äî –ü—É–±–ª–∏–∫—É–π—Ç–µ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#hpm-quick-start-configuration) ‚Äî –ù–∞—Å—Ç—Ä–æ–π—Ç–µ hpm –∏ —Ç–æ–∫–µ–Ω—ã GitHub
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#hpm-quick-start-project-setup) ‚Äî –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞


--------------------------------------------------------------------------------
## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
--------------------------------------------------------------------------------

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ Hemlock —Å hpm.

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å –Ω—É–ª—è:

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
mkdir my-project
cd my-project

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è package.json
hpm init

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
mkdir -p src test
```

### –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤

–í–æ—Ç —Ç–∏–ø–∏—á–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

#### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞

–î–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫:

```
my-library/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ LICENSE
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.hml          # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π API
‚îÇ   ‚îú‚îÄ‚îÄ core.hml           # –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ utils.hml          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ types.hml          # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤
‚îî‚îÄ‚îÄ test/
    ‚îú‚îÄ‚îÄ framework.hml      # –¢–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
    ‚îú‚îÄ‚îÄ run.hml            # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
    ‚îî‚îÄ‚îÄ test_core.hml      # –¢–µ—Å—Ç—ã
```

**package.json:**

```json
{
  "name": "yourusername/my-library",
  "version": "1.0.0",
  "description": "A reusable Hemlock library",
  "main": "src/index.hml",
  "scripts": {
    "test": "hemlock test/run.hml"
  },
  "dependencies": {},
  "devDependencies": {}
}
```

#### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–î–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:

```
my-app/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.hml           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config.hml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ commands/          # CLI –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.hml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ run.hml
‚îÇ   ‚îî‚îÄ‚îÄ lib/               # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ       ‚îî‚îÄ‚îÄ utils.hml
‚îú‚îÄ‚îÄ test/
‚îÇ   ‚îî‚îÄ‚îÄ run.hml
‚îî‚îÄ‚îÄ data/                  # –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö
```

**package.json:**

```json
{
  "name": "yourusername/my-app",
  "version": "1.0.0",
  "description": "A Hemlock application",
  "main": "src/main.hml",
  "scripts": {
    "start": "hemlock src/main.hml",
    "dev": "hemlock --watch src/main.hml",
    "test": "hemlock test/run.hml",
    "build": "hemlock --bundle src/main.hml -o dist/app.hmlc"
  },
  "dependencies": {
    "hemlang/json": "^1.0.0"
  },
  "devDependencies": {}
}
```

#### –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–î–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–≤:

```
my-web-app/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.hml           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ routes/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.hml
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.hml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.hml
‚îÇ   ‚îú‚îÄ‚îÄ middleware/        # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.hml
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.hml
‚îÇ   ‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.hml
‚îÇ   ‚îî‚îÄ‚îÄ services/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ user.hml
‚îú‚îÄ‚îÄ test/
‚îÇ   ‚îî‚îÄ‚îÄ run.hml
‚îú‚îÄ‚îÄ static/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îî‚îÄ‚îÄ views/                 # –®–∞–±–ª–æ–Ω—ã
    ‚îî‚îÄ‚îÄ index.hml
```

**package.json:**

```json
{
  "name": "yourusername/my-web-app",
  "version": "1.0.0",
  "description": "A Hemlock web application",
  "main": "src/main.hml",
  "scripts": {
    "start": "hemlock src/main.hml",
    "dev": "hemlock --watch src/main.hml",
    "test": "hemlock test/run.hml"
  },
  "dependencies": {
    "hemlang/sprout": "^2.0.0",
    "hemlang/json": "^1.0.0"
  },
  "devDependencies": {
    "hemlang/test-utils": "^1.0.0"
  }
}
```

## –§–∞–π–ª package.json

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

```json
{
  "name": "owner/repo",
  "version": "1.0.0"
}
```

### –í—Å–µ –ø–æ–ª—è

```json
{
  "name": "yourusername/my-package",
  "version": "1.0.0",
  "description": "Package description",
  "author": "Your Name <you@example.com>",
  "license": "MIT",
  "repository": "https://github.com/yourusername/my-package",
  "homepage": "https://yourusername.github.io/my-package",
  "bugs": "https://github.com/yourusername/my-package/issues",
  "main": "src/index.hml",
  "keywords": ["utility", "parser"],
  "dependencies": {
    "owner/package": "^1.0.0"
  },
  "devDependencies": {
    "owner/test-lib": "^1.0.0"
  },
  "scripts": {
    "start": "hemlock src/main.hml",
    "test": "hemlock test/run.hml",
    "build": "hemlock --bundle src/main.hml -o dist/app.hmlc"
  },
  "files": [
    "src/",
    "LICENSE",
    "README.md"
  ],
  "native": {
    "requires": ["libcurl", "openssl"]
  }
}
```

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ–ª–µ–π

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `name` | string | –ò–º—è –ø–∞–∫–µ—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ owner/repo (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `version` | string | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `description` | string | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `author` | string | –ò–º—è –∏ email –∞–≤—Ç–æ—Ä–∞ |
| `license` | string | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–∏—Ü–µ–Ω–∑–∏–∏ (MIT, Apache-2.0 –∏ —Ç.–¥.) |
| `repository` | string | URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è |
| `homepage` | string | –î–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞ |
| `bugs` | string | URL –±–∞–≥-—Ç—Ä–µ–∫–µ—Ä–∞ |
| `main` | string | –§–∞–π–ª —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: src/index.hml) |
| `keywords` | array | –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ |
| `dependencies` | object | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `devDependencies` | object | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| `scripts` | object | –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã |
| `files` | array | –§–∞–π–ª—ã –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| `native` | object | –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ |

## –§–∞–π–ª package-lock.json

–§–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–∫–æ–º–º–∏—á–µ–Ω –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

```json
{
  "lockVersion": 1,
  "hemlock": "1.0.0",
  "dependencies": {
    "hemlang/sprout": {
      "version": "2.1.0",
      "resolved": "https://github.com/hemlang/sprout/archive/v2.1.0.tar.gz",
      "integrity": "sha256-abc123...",
      "dependencies": {
        "hemlang/router": "^1.5.0"
      }
    },
    "hemlang/router": {
      "version": "1.5.0",
      "resolved": "https://github.com/hemlang/router/archive/v1.5.0.tar.gz",
      "integrity": "sha256-def456...",
      "dependencies": {}
    }
  }
}
```

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è —Ñ–∞–π–ª–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

- **–ö–æ–º–º–∏—Ç—å—Ç–µ** package-lock.json –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
- **–ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ** –≤—Ä—É—á–Ω—É—é ‚Äî –æ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ó–∞–ø—É—Å–∫–∞–π—Ç–µ `hpm install`** –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–£–¥–∞–ª–∏—Ç–µ –∏ —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ** –ø—Ä–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–∏:
  ```bash
  rm package-lock.json
  hpm install
  ```

## –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è hem_modules

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `hem_modules/`:

```
hem_modules/
‚îú‚îÄ‚îÄ hemlang/
‚îÇ   ‚îú‚îÄ‚îÄ sprout/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ router/
‚îÇ       ‚îú‚îÄ‚îÄ package.json
‚îÇ       ‚îî‚îÄ‚îÄ src/
‚îî‚îÄ‚îÄ alice/
    ‚îî‚îÄ‚îÄ http-client/
        ‚îú‚îÄ‚îÄ package.json
        ‚îî‚îÄ‚îÄ src/
```

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è hem_modules

- **–î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore** ‚Äî –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **–ù–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã
- **–£–¥–∞–ª–∏—Ç–µ –¥–ª—è —á–∏—Å—Ç–æ–π –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏**:
  ```bash
  rm -rf hem_modules
  hpm install
  ```

## .gitignore

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π .gitignore –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ Hemlock:

```gitignore
# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
hem_modules/

# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∫–∏
dist/
*.hmlc

# –§–∞–π–ª—ã IDE
.idea/
.vscode/
*.swp
*.swo

# –§–∞–π–ª—ã –û–°
.DS_Store
Thumbs.db

# –õ–æ–≥–∏
*.log
logs/

# –û–∫—Ä—É–∂–µ–Ω–∏–µ
.env
.env.local

# –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–æ–≤
coverage/
```

## –†–∞–±–æ—Ç–∞ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
hpm install hemlang/json

# –î–æ–±–∞–≤–∏—Ç—å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏
hpm install hemlang/sprout@^2.0.0

# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
hpm install hemlang/test-utils --dev
```

### –ò–º–ø–æ—Ä—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```hemlock
// –ò–º–ø–æ—Ä—Ç –∏–∑ –ø–∞–∫–µ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–ø–∏—Å—å "main")
import { parse, stringify } from "hemlang/json";

// –ò–º–ø–æ—Ä—Ç –∏–∑ –ø–æ–¥–ø—É—Ç–∏
import { Router } from "hemlang/sprout/router";

// –ò–º–ø–æ—Ä—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
import { HashMap } from "@stdlib/collections";
import { readFile, writeFile } from "@stdlib/fs";
```

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤

hpm —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏–º–ø–æ—Ä—Ç—ã –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**: –ò–º–ø–æ—Ä—Ç—ã `@stdlib/*` –∑–∞–≥—Ä—É–∂–∞—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
2. **–ö–æ—Ä–µ–Ω—å –ø–∞–∫–µ—Ç–∞**: `owner/repo` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–µ `main`
3. **–ü–æ–¥–ø—É—Ç—å**: `owner/repo/path` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
   - `hem_modules/owner/repo/path.hml`
   - `hem_modules/owner/repo/path/index.hml`
   - `hem_modules/owner/repo/src/path.hml`
   - `hem_modules/owner/repo/src/path/index.hml`

## –°–∫—Ä–∏–ø—Ç—ã

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ package.json:

```json
{
  "scripts": {
    "start": "hemlock src/main.hml",
    "dev": "hemlock --watch src/main.hml",
    "test": "hemlock test/run.hml",
    "test:unit": "hemlock test/unit/run.hml",
    "test:integration": "hemlock test/integration/run.hml",
    "build": "hemlock --bundle src/main.hml -o dist/app.hmlc",
    "clean": "rm -rf dist hem_modules",
    "lint": "hemlock-lint src/",
    "format": "hemlock-fmt src/"
  }
}
```

### –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤

```bash
hpm run start
hpm run dev
hpm run build

# –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è test
hpm test

# –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
hpm run test -- --verbose --filter=unit
```

### –°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------------|
| `start` | –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `dev` | –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| `test` | –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ |
| `build` | –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ |
| `clean` | –£–¥–∞–ª–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ |
| `lint` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ |
| `format` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ |

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
git clone https://github.com/yourusername/my-project.git
cd my-project

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
hpm install

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
hpm test

# –ù–∞—á–∞–ª–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
hpm run dev
```

### –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
git pull

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
hpm install

# –í–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π...

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
hpm test

# –ö–æ–º–º–∏—Ç
git add .
git commit -m "Add feature"
git push
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏
git checkout -b feature/new-feature

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
hpm install hemlang/new-lib

# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏...

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
hpm test

# –ö–æ–º–º–∏—Ç –∏ –ø—É—à
git add .
git commit -m "Add new feature"
git push -u origin feature/new-feature
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```hemlock
import { getenv } from "@stdlib/env";

let db_host = getenv("DATABASE_HOST") ?? "localhost";
let api_key = getenv("API_KEY") ?? "";

if api_key == "" {
    print("Warning: API_KEY not set");
}
```

### –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**config.hml:**

```hemlock
import { getenv } from "@stdlib/env";

export let config = {
    environment: getenv("HEMLOCK_ENV") ?? "development",
    database: {
        host: getenv("DB_HOST") ?? "localhost",
        port: int(getenv("DB_PORT") ?? "5432"),
        name: getenv("DB_NAME") ?? "myapp"
    },
    server: {
        port: int(getenv("PORT") ?? "3000"),
        host: getenv("HOST") ?? "0.0.0.0"
    }
};

export fn is_production(): bool {
    return config.environment == "production";
}
```

## –°–º. —Ç–∞–∫–∂–µ

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#hpm-project-setup-quick-start) ‚Äî –ë—ã—Å—Ç—Ä–æ–µ –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
- [–ö–æ–º–∞–Ω–¥—ã](#hpm-project-setup-commands) ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥
- [–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤](#hpm-project-setup-creating-packages) ‚Äî –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#hpm-project-setup-configuration) ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è hpm


--------------------------------------------------------------------------------
## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
--------------------------------------------------------------------------------

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å hpm –Ω–∞ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É.

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
curl -fsSL https://raw.githubusercontent.com/hemlang/hpm/main/install.sh | sh
```

–≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–∞—à—É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É (Linux, macOS)
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–∞—à—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (x86_64, arm64)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–±—Ä–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤ `/usr/local/bin` (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç sudo –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (sudo –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
curl -fsSL https://raw.githubusercontent.com/hemlang/hpm/main/install.sh | sh -s -- --prefix ~/.local

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
curl -fsSL https://raw.githubusercontent.com/hemlang/hpm/main/install.sh | sh -s -- --version 1.0.5

# –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
curl -fsSL https://raw.githubusercontent.com/hemlang/hpm/main/install.sh | sh -s -- --prefix ~/.local --version 1.0.5
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –°—Ç–∞—Ç—É—Å |
|-----------|-------------|--------|
| Linux    | x86_64       | ‚úì –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| macOS    | x86_64       | ‚úì –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| macOS    | arm64 (M1/M2/M3) | ‚úì –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| Linux    | arm64        | –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ |

## –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ —Å–æ–±—Ä–∞—Ç—å –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –∏–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –Ω–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º.

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

hpm —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã [Hemlock](https://github.com/hemlang/hemlock) –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–µ—Ä–≤—ã–º. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Hemlock –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Hemlock —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
hemlock --version
```

## –ú–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –ú–µ—Ç–æ–¥ 1: Make Install

–°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞.

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/hemlang/hpm.git
cd hpm

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ /usr/local/bin (—Ç—Ä–µ–±—É–µ—Ç—Å—è sudo)
sudo make install
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:

```bash
hpm --version
```

### –ú–µ—Ç–æ–¥ 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (sudo –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è):

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/hemlang/hpm.git
cd hpm

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ ~/.local/bin
make install PREFIX=$HOME/.local

# –ò–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
make install PREFIX=/opt/hemlock
```

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è bin –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ PATH:

```bash
# –î–æ–±–∞–≤—å—Ç–µ –≤ ~/.bashrc –∏–ª–∏ ~/.zshrc
export PATH="$HOME/.local/bin:$PATH"
```

### –ú–µ—Ç–æ–¥ 3: –ó–∞–ø—É—Å–∫ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å hpm –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/hemlang/hpm.git
cd hpm

# –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞-–æ–±—ë—Ä—Ç–∫–∏
make

# –ó–∞–ø—É—Å–∫ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ hpm
./hpm --help

# –ò–ª–∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ hemlock –Ω–∞–ø—Ä—è–º—É—é
hemlock src/main.hml --help
```

### –ú–µ—Ç–æ–¥ 4: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç-–æ–±—ë—Ä—Ç–∫—É:

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
git clone https://github.com/hemlang/hpm.git ~/.hpm-source

# –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞-–æ–±—ë—Ä—Ç–∫–∏
cat > ~/.local/bin/hpm << 'EOF'
#!/bin/sh
exec hemlock "$HOME/.hpm-source/src/main.hml" "$@"
EOF

chmod +x ~/.local/bin/hpm
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

Makefile –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------------|----------|
| `PREFIX` | `/usr/local` | –ü—Ä–µ—Ñ–∏–∫—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ |
| `BINDIR` | `$(PREFIX)/bin` | –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ |
| `HEMLOCK` | `hemlock` | –ü—É—Ç—å –∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä—É hemlock |

–ü—Ä–∏–º–µ—Ä —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```bash
make install PREFIX=/opt/hemlock BINDIR=/opt/hemlock/bin HEMLOCK=/usr/bin/hemlock
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å–æ–∑–¥–∞—ë—Ç shell-—Å–∫—Ä–∏–ø—Ç-–æ–±—ë—Ä—Ç–∫—É, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä Hemlock —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º hpm:

```bash
#!/bin/sh
exec hemlock "/path/to/hpm/src/main.hml" "$@"
```

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥:
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
- –ù–∞–¥—ë–∂–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ hpm

–ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å hpm –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏:

```bash
cd /path/to/hpm
git pull origin main

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ, –µ—Å–ª–∏ –ø—É—Ç—å –∏–∑–º–µ–Ω–∏–ª—Å—è
sudo make install
```

## –£–¥–∞–ª–µ–Ω–∏–µ

–£–¥–∞–ª–µ–Ω–∏–µ hpm –∏–∑ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã:

```bash
cd /path/to/hpm
sudo make uninstall
```

–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:

```bash
sudo rm /usr/local/bin/hpm
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
hpm --version

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø—Ä–∞–≤–∫–∏
hpm --help

# –¢–µ—Å—Ç–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–≤ –ø—É—Å—Ç–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)
mkdir test-project && cd test-project
hpm init --yes
cat package.json
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### "hemlock: command not found"

Hemlock –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ PATH. –°–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Hemlock:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è hemlock
which hemlock

# –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Hemlock —Å https://github.com/hemlang/hemlock
```

### "Permission denied"

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ sudo –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sudo
sudo make install

# –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
make install PREFIX=$HOME/.local
```

### "hpm: command not found" –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–í–∞—à PATH –º–æ–∂–µ—Ç –Ω–µ –≤–∫–ª—é—á–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫—É–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω hpm
ls -la /usr/local/bin/hpm

# –î–æ–±–∞–≤—å—Ç–µ –≤ PATH, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
export PATH="$HOME/.local/bin:$PATH"
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

### Linux

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞—Ö Linux. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å:

```bash
# Debian/Ubuntu: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–±–æ—Ä–∫–∏
sudo apt-get install build-essential git

# Fedora/RHEL
sudo dnf install make git
```

### macOS

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Homebrew:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ Xcode
xcode-select --install
```

### Windows (WSL)

hpm —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ Windows –¥–ª—è Linux:

```bash
# –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ WSL
git clone https://github.com/hemlang/hpm.git
cd hpm
make install PREFIX=$HOME/.local
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

1. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#hpm-installation-quick-start) ‚Äî –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –ø—Ä–æ–µ–∫—Ç
2. [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥](#hpm-installation-commands) ‚Äî –ò–∑—É—á–∏—Ç–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
3. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#hpm-installation-configuration) ‚Äî –ù–∞—Å—Ç—Ä–æ–π—Ç–µ hpm



################################################################################
# HPM: –†–£–ö–û–í–û–î–°–¢–í–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
################################################################################

--------------------------------------------------------------------------------
## –ö–æ–º–∞–Ω–¥—ã
--------------------------------------------------------------------------------

# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º hpm.

## –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ª—é–±–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `--help`, `-h` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ |
| `--version`, `-v` | –ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é hpm |
| `--verbose` | –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥ |

## –ö–æ–º–∞–Ω–¥—ã

### hpm init

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ `package.json`.

```bash
hpm init        # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
hpm init --yes  # –ü—Ä–∏–Ω—è—Ç—å –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
hpm init -y     # –ö—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `--yes`, `-y` | –ü—Ä–∏–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ |

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
- –ò–º—è –ø–∞–∫–µ—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç owner/repo)
- –í–µ—Ä—Å–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1.0.0)
- –û–ø–∏—Å–∞–Ω–∏–µ
- –ê–≤—Ç–æ—Ä
- –õ–∏—Ü–µ–Ω–∑–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: MIT)
- –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: src/index.hml)

**–ü—Ä–∏–º–µ—Ä:**

```bash
$ hpm init
Package name (owner/repo): alice/my-lib
Version (1.0.0):
Description: A utility library
Author: Alice <alice@example.com>
License (MIT):
Main file (src/index.hml):

Created package.json
```

---

### hpm install

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.

```bash
hpm install                           # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–∑ package.json
hpm install owner/repo                # –î–æ–±–∞–≤–∏—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç
hpm install owner/repo@^1.0.0        # –° –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏
hpm install owner/repo --dev         # –ö–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
hpm i owner/repo                      # –ö—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `--dev`, `-D` | –î–æ–±–∞–≤–∏—Ç—å –≤ devDependencies |
| `--verbose` | –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å |
| `--dry-run` | –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ |
| `--offline` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ –∫—ç—à–∞ (–±–µ–∑ —Å–µ—Ç–∏) |
| `--parallel` | –í–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏ (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ) |

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤–µ—Ä—Å–∏–π:**

| –°–∏–Ω—Ç–∞–∫—Å–∏—Å | –ü—Ä–∏–º–µ—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|----------|
| (–Ω–µ—Ç) | `owner/repo` | –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è |
| –¢–æ—á–Ω–∞—è | `owner/repo@1.2.3` | –†–æ–≤–Ω–æ 1.2.3 |
| Caret | `owner/repo@^1.2.3` | >=1.2.3 <2.0.0 |
| Tilde | `owner/repo@~1.2.3` | >=1.2.3 <1.3.0 |
| –î–∏–∞–ø–∞–∑–æ–Ω | `owner/repo@>=1.0.0` | –ú–∏–Ω–∏–º—É–º 1.0.0 |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
hpm install

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
hpm install hemlang/json

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏
hpm install hemlang/sprout@^2.0.0

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
hpm install hemlang/test-utils --dev

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≥–æ, —á—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
hpm install hemlang/sprout --dry-run

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
hpm install --verbose

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑ –∫—ç—à–∞ (–æ—Ñ–ª–∞–π–Ω)
hpm install --offline
```

**–í—ã–≤–æ–¥:**

```
Installing dependencies...
  + hemlang/sprout@2.1.0
  + hemlang/router@1.5.0 (dependency of hemlang/sprout)

Installed 2 packages in 1.2s
```

---

### hpm uninstall

–£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞.

```bash
hpm uninstall owner/repo
hpm rm owner/repo          # –ö—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞
hpm remove owner/repo      # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
hpm uninstall hemlang/sprout
```

**–í—ã–≤–æ–¥:**

```
Removed hemlang/sprout@2.1.0
Updated package.json
Updated package-lock.json
```

---

### hpm update

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π –≤ —Ä–∞–º–∫–∞—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

```bash
hpm update              # –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã
hpm update owner/repo   # –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
hpm up owner/repo       # –ö—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `--verbose` | –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å |
| `--dry-run` | –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã
hpm update

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
hpm update hemlang/sprout

# –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
hpm update --dry-run
```

**–í—ã–≤–æ–¥:**

```
Updating dependencies...
  hemlang/sprout: 2.0.0 ‚Üí 2.1.0
  hemlang/router: 1.4.0 ‚Üí 1.5.0

Updated 2 packages
```

---

### hpm list

–ü–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã.

```bash
hpm list              # –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
hpm list --depth=0    # –¢–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
hpm list --depth=1    # –û–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
hpm ls                # –ö—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `--depth=N` | –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≥–ª—É–±–∏–Ω—É –¥–µ—Ä–µ–≤–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤—Å–µ) |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
$ hpm list
my-project@1.0.0
‚îú‚îÄ‚îÄ hemlang/sprout@2.1.0
‚îÇ   ‚îú‚îÄ‚îÄ hemlang/router@1.5.0
‚îÇ   ‚îî‚îÄ‚îÄ hemlang/middleware@1.2.0
‚îú‚îÄ‚îÄ hemlang/json@1.2.3
‚îî‚îÄ‚îÄ hemlang/test-utils@1.0.0 (dev)

$ hpm list --depth=0
my-project@1.0.0
‚îú‚îÄ‚îÄ hemlang/sprout@2.1.0
‚îú‚îÄ‚îÄ hemlang/json@1.2.3
‚îî‚îÄ‚îÄ hemlang/test-utils@1.0.0 (dev)
```

---

### hpm outdated

–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞–∫–µ—Ç—ã —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –±–æ–ª–µ–µ –Ω–æ–≤—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏.

```bash
hpm outdated
```

**–í—ã–≤–æ–¥:**

```
Package            Current  Wanted  Latest
hemlang/sprout     2.0.0    2.0.5   2.1.0
hemlang/router     1.4.0    1.4.2   1.5.0
```

- **Current**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- **Wanted**: –ù–∞–∏–≤—ã—Å—à–∞—è –≤–µ—Ä—Å–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é
- **Latest**: –ü–æ—Å–ª–µ–¥–Ω—è—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è

---

### hpm run

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –∏–∑ package.json.

```bash
hpm run <script>
hpm run <script> -- <args>
```

**–ü—Ä–∏–º–µ—Ä—ã:**

–î–ª—è –¥–∞–Ω–Ω–æ–≥–æ package.json:

```json
{
  "scripts": {
    "start": "hemlock src/index.hml",
    "test": "hemlock test/run.hml",
    "build": "hemlock --bundle src/index.hml -o dist/app.hmlc"
  }
}
```

–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤:

```bash
hpm run start
hpm run test
hpm run build

# –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Å–∫—Ä–∏–ø—Ç—É
hpm run test -- --verbose
```

---

### hpm test

–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è `hpm run test`.

```bash
hpm test
hpm test -- --verbose
```

–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:

```bash
hpm run test
```

---

### hpm why

–û–±—ä—è—Å–Ω–µ–Ω–∏–µ, –ø–æ—á–µ–º—É –ø–∞–∫–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–ø–æ–∫–∞–∑–∞—Ç—å —Ü–µ–ø–æ—á–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).

```bash
hpm why owner/repo
```

**–ü—Ä–∏–º–µ—Ä:**

```bash
$ hpm why hemlang/router

hemlang/router@1.5.0 is installed because:

my-project@1.0.0
‚îî‚îÄ‚îÄ hemlang/sprout@2.1.0
    ‚îî‚îÄ‚îÄ hemlang/router@1.5.0
```

---

### hpm cache

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –∫—ç—à–µ–º –ø–∞–∫–µ—Ç–æ–≤.

```bash
hpm cache list    # –ü–æ–∫–∞–∑–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
hpm cache clean   # –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
```

**–ü–æ–¥–∫–æ–º–∞–Ω–¥—ã:**

| –ü–æ–¥–∫–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `list` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –∏ –∏—Ö —Ä–∞–∑–º–µ—Ä—ã |
| `clean` | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
$ hpm cache list
Cached packages in ~/.hpm/cache:

hemlang/sprout
  2.0.0 (1.2 MB)
  2.1.0 (1.3 MB)
hemlang/router
  1.5.0 (450 KB)

Total: 2.95 MB

$ hpm cache clean
Cleared cache (2.95 MB freed)
```

---

## –°–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–∞–Ω–¥ –∏–º–µ—é—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –°–æ–∫—Ä–∞—â–µ–Ω–∏—è |
|---------|------------|
| `install` | `i` |
| `uninstall` | `rm`, `remove` |
| `list` | `ls` |
| `update` | `up` |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
hpm i hemlang/sprout        # hpm install hemlang/sprout
hpm rm hemlang/sprout       # hpm uninstall hemlang/sprout
hpm ls                      # hpm list
hpm up                      # hpm update
```

---

## –ö–æ–¥—ã –≤—ã—Ö–æ–¥–∞

hpm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–¥—ã –≤—ã—Ö–æ–¥–∞ –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –æ—à–∏–±–æ–∫:

| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----|----------|
| 0 | –£—Å–ø–µ—Ö |
| 1 | –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| 2 | –ü–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω |
| 3 | –í–µ—Ä—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ |
| 4 | –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ |
| 5 | –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π package.json |
| 6 | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞ |
| 7 | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ GitHub |
| 8 | –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å |

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –≤—ã—Ö–æ–¥–∞ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö:

```bash
hpm install
if [ $? -ne 0 ]; then
    echo "Installation failed"
    exit 1
fi
```

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

hpm —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `GITHUB_TOKEN` | –¢–æ–∫–µ–Ω GitHub API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| `HPM_CACHE_DIR` | –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫—ç—à–∞ |
| `HOME` | –î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏/–∫—ç—à–∞) |

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω GitHub –¥–ª—è –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏—Ö –ª–∏–º–∏—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤
export GITHUB_TOKEN=ghp_xxxxxxxxxxxx
hpm install

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫—ç—à–∞
export HPM_CACHE_DIR=/tmp/hpm-cache
hpm install
```

---

## –°–º. —Ç–∞–∫–∂–µ

- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#hpm-commands-configuration) ‚Äî –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤](#hpm-commands-package-spec) ‚Äî –§–æ—Ä–º–∞—Ç package.json
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#hpm-commands-troubleshooting) ‚Äî –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã


--------------------------------------------------------------------------------
## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
--------------------------------------------------------------------------------

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ hpm.

## –û–±–∑–æ—Ä

hpm –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑:

1. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** ‚Äî –î–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
2. **–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** ‚Äî `~/.hpm/config.json`
3. **–§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞** ‚Äî `package.json` –∏ `package-lock.json`

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### GITHUB_TOKEN

–¢–æ–∫–µ–Ω GitHub API –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

```bash
export GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
- –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ –ª–∏–º–∏—Ç—ã API-–∑–∞–ø—Ä–æ—Å–æ–≤ (5000 –ø—Ä–æ—Ç–∏–≤ 60 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å)
- –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º
- –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens
2. –ù–∞–∂–º–∏—Ç–µ "Generate new token (classic)"
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ–±–ª–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞:
   - `repo` ‚Äî –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º
   - `read:packages` ‚Äî –î–ª—è GitHub Packages (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
4. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### HPM_CACHE_DIR

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫—ç—à–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```bash
export HPM_CACHE_DIR=/custom/cache/path
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/.hpm/cache`

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- CI/CD —Å–∏—Å—Ç–µ–º—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è–º–∏ –∫—ç—à–∞
- –û–±—â–∏–π –∫—ç—à –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- –í—Ä–µ–º–µ–Ω–Ω—ã–π –∫—ç—à –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–±–æ—Ä–æ–∫

### HOME

–î–æ–º–∞—à–Ω—è—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è:
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: `$HOME/.hpm/`
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫—ç—à–∞: `$HOME/.hpm/cache/`

–û–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π; –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

### –ü—Ä–∏–º–µ—Ä .bashrc / .zshrc

```bash
# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
export GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫—ç—à–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# export HPM_CACHE_DIR=/path/to/cache

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ hpm –≤ PATH (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
export PATH="$HOME/.local/bin:$PATH"
```

## –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

`~/.hpm/config.json`

### –§–æ—Ä–º–∞—Ç

```json
{
  "github_token": "ghp_xxxxxxxxxxxxxxxxxxxx"
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
mkdir -p ~/.hpm

# –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat > ~/.hpm/config.json << 'EOF'
{
  "github_token": "ghp_your_token_here"
}
EOF

# –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
chmod 600 ~/.hpm/config.json
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–æ–∫–µ–Ω–∞

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –æ–±–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

1. –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `GITHUB_TOKEN` (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
2. –ü–æ–ª–µ `github_token` –≤ `~/.hpm/config.json`
3. –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

```
~/.hpm/
‚îú‚îÄ‚îÄ config.json          # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ cache/               # –ö—ç—à –ø–∞–∫–µ—Ç–æ–≤
    ‚îî‚îÄ‚îÄ owner/
        ‚îî‚îÄ‚îÄ repo/
            ‚îî‚îÄ‚îÄ 1.0.0.tar.gz
```

### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

```
my-project/
‚îú‚îÄ‚îÄ package.json         # –ú–∞–Ω–∏—Ñ–µ—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ package-lock.json    # –§–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ hem_modules/         # –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ owner/
‚îÇ       ‚îî‚îÄ‚îÄ repo/
‚îÇ           ‚îú‚îÄ‚îÄ package.json
‚îÇ           ‚îî‚îÄ‚îÄ src/
‚îú‚îÄ‚îÄ src/                 # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îî‚îÄ‚îÄ test/                # –¢–µ—Å—Ç—ã
```

## –ö—ç—à –ø–∞–∫–µ—Ç–æ–≤

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `~/.hpm/cache/`

–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è: `HPM_CACHE_DIR`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
~/.hpm/cache/
‚îú‚îÄ‚îÄ hemlang/
‚îÇ   ‚îú‚îÄ‚îÄ sprout/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ 2.0.0.tar.gz
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ 2.1.0.tar.gz
‚îÇ   ‚îî‚îÄ‚îÄ router/
‚îÇ       ‚îî‚îÄ‚îÄ 1.5.0.tar.gz
‚îî‚îÄ‚îÄ alice/
    ‚îî‚îÄ‚îÄ http-client/
        ‚îî‚îÄ‚îÄ 1.0.0.tar.gz
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
hpm cache list

# –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ –∫—ç—à–∞
hpm cache clean
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫—ç—à–∞

- –ü–∞–∫–µ—Ç—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--offline` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–æ–ª—å–∫–æ –∏–∑ –∫—ç—à–∞
- –ö—ç—à –æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

## –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ GitHub API

### –ë–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

- **60 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å** –Ω–∞ IP-–∞–¥—Ä–µ—Å
- –û–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –æ–¥–Ω–æ–º IP
- –ë—ã—Å—Ç—Ä–æ –∏—Å—á–µ—Ä–ø—ã–≤–∞–µ—Ç—Å—è –≤ CI/CD –∏–ª–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

- **5000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Å** –Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç, –Ω–µ –æ–±—â–∏–π

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –ª–∏–º–∏—Ç–æ–≤

hpm –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π (1—Å, 2—Å, 4—Å, 8—Å)
- –°–æ–æ–±—â–∞–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –ª–∏–º–∏—Ç–∞ —Å –∫–æ–¥–æ–º –≤—ã—Ö–æ–¥–∞ 7
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

**–†–µ—à–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞:**

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å —Ç–æ–∫–µ–Ω–æ–º GitHub
export GITHUB_TOKEN=ghp_xxxxxxxxxxxx
hpm install

# –í–∞—Ä–∏–∞–Ω—Ç 2: –î–æ–∂–¥–∞—Ç—å—Å—è —Å–±—Ä–æ—Å–∞ –ª–∏–º–∏—Ç–∞
# (–õ–∏–º–∏—Ç—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –µ–∂–µ—á–∞—Å–Ω–æ)

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º (–µ—Å–ª–∏ –ø–∞–∫–µ—Ç—ã –≤ –∫—ç—à–µ)
hpm install --offline
```

## –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –±–µ–∑ —Å–µ—Ç–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:

```bash
hpm install --offline
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –í—Å–µ –ø–∞–∫–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∫—ç—à–µ
- –§–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Ç–æ—á–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏

**–°–ª—É—á–∞–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã
- –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ —Å–±–æ—Ä–∫–∏ CI/CD (—Å –ø—Ä–æ–≥—Ä–µ—Ç—ã–º –∫—ç—à–µ–º)
- –ò–∑–±–µ–∂–∞–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CI/CD

### GitHub Actions

```yaml
name: CI

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Setup Hemlock
      run: |
        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Hemlock (–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥ –≤–∞—à—É —Å—Ä–µ–¥—É)
        curl -sSL https://hemlock.dev/install.sh | sh

    - name: Cache hpm packages
      uses: actions/cache@v3
      with:
        path: ~/.hpm/cache
        key: ${{ runner.os }}-hpm-${{ hashFiles('package-lock.json') }}
        restore-keys: |
          ${{ runner.os }}-hpm-

    - name: Install dependencies
      run: hpm install
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

    - name: Run tests
      run: hpm test
```

### GitLab CI

```yaml
stages:
  - build
  - test

variables:
  HPM_CACHE_DIR: $CI_PROJECT_DIR/.hpm-cache

cache:
  paths:
    - .hpm-cache/
  key: $CI_COMMIT_REF_SLUG

build:
  stage: build
  script:
    - hpm install
  artifacts:
    paths:
      - hem_modules/

test:
  stage: test
  script:
    - hpm test
```

### Docker

**Dockerfile:**

```dockerfile
FROM hemlock:latest

WORKDIR /app

# –°–Ω–∞—á–∞–ª–∞ –∫–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –ø–∞–∫–µ—Ç–∞ (–¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ—ë–≤)
COPY package.json package-lock.json ./

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN hpm install

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
COPY . .

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CMD ["hemlock", "src/main.hml"]
```

**docker-compose.yml:**

```yaml
version: '3.8'

services:
  app:
    build: .
    environment:
      - GITHUB_TOKEN=${GITHUB_TOKEN}
    volumes:
      - hpm-cache:/root/.hpm/cache

volumes:
  hpm-cache:
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏

–î–ª—è —Å—Ä–µ–¥ –∑–∞ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º —É—Ä–æ–≤–Ω–µ:

```bash
export HTTP_PROXY=http://proxy.example.com:8080
export HTTPS_PROXY=http://proxy.example.com:8080
export NO_PROXY=localhost,127.0.0.1

hpm install
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω—ã** –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –≤ CI/CD
3. **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –æ–±–ª–∞—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞** –¥–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ —Ç–æ–∫–µ–Ω—ã**
5. **–ó–∞—â–∏—Ç–∏—Ç–µ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
   ```bash
   chmod 600 ~/.hpm/config.json
   ```

### –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–∞–∫–µ—Ç–∞–º:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω —Å –æ–±–ª–∞—Å—Ç—å—é `repo`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
export GITHUB_TOKEN=ghp_xxxxxxxxxxxx
hpm install yourorg/private-package
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ —Ç–æ–∫–µ–Ω
echo $GITHUB_TOKEN | head -c 10

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cat ~/.hpm/config.json

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫—ç—à–∞
ls -la ~/.hpm/cache/

# –¢–µ—Å—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
hpm install --verbose
```

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**"GitHub rate limit exceeded"**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —Å `GITHUB_TOKEN`
- –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–±—Ä–æ—Å–∞ –ª–∏–º–∏—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--offline`, –µ—Å–ª–∏ –ø–∞–∫–µ—Ç—ã –≤ –∫—ç—à–µ

**"Permission denied" –¥–ª—è –∫—ç—à–∞**
```bash
# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫—ç—à—É
chmod -R u+rw ~/.hpm/cache
```

**"Config file not found"**
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
mkdir -p ~/.hpm
touch ~/.hpm/config.json
```

## –°–º. —Ç–∞–∫–∂–µ

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#hpm-configuration-installation) ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∫–∞ hpm
- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#hpm-configuration-troubleshooting) ‚Äî –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- [–ö–æ–º–∞–Ω–¥—ã](#hpm-configuration-commands) ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥


--------------------------------------------------------------------------------
## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
--------------------------------------------------------------------------------

# –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

–†–µ—à–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º hpm.

## –ü—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### "hemlock: command not found"

**–ü—Ä–∏—á–∏–Ω–∞:** Hemlock –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ –≤ PATH.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ hemlock
which hemlock

# –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Hemlock
# –ü–æ—Å–µ—Ç–∏—Ç–µ: https://github.com/hemlang/hemlock

# –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ
hemlock --version
```

### "hpm: command not found"

**–ü—Ä–∏—á–∏–Ω–∞:** hpm –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ –≤ PATH.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫—É–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω hpm
ls -la /usr/local/bin/hpm
ls -la ~/.local/bin/hpm

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –¥–æ–±–∞–≤—å—Ç–µ –≤ PATH
export PATH="$HOME/.local/bin:$PATH"

# –î–æ–±–∞–≤—å—Ç–µ –≤ ~/.bashrc –∏–ª–∏ ~/.zshrc –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
echo 'export PATH="$HOME/.local/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc

# –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
cd /path/to/hpm
sudo make install
```

### "Permission denied" –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sudo –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
sudo make install

# –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–±–µ–∑ sudo)
make install PREFIX=$HOME/.local
```

## –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### "Package not found" (–∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 2)

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞–∫–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ GitHub.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–∞–∫–µ—Ç
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: https://github.com/owner/repo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é
hpm install hemlang/sprout  # –ü—Ä–∞–≤–∏–ª—å–Ω–æ
hpm install hemlan/sprout   # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π owner
hpm install hemlang/spout   # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π repo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–µ—á–∞—Ç–∫–∏ –≤ package.json
cat package.json | grep -A 5 dependencies
```

### "Version not found" (–∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 3)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–∏ –æ–¥–∏–Ω —Ä–µ–ª–∏–∑ –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é –≤–µ—Ä—Å–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–ª–∏–∑—ã/—Ç–µ–≥–∏ –Ω–∞ GitHub)
# –¢–µ–≥–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 'v' (–Ω–∞–ø—Ä–∏–º–µ—Ä, v1.0.0)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
hpm install owner/repo@^1.0.0

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é
hpm install owner/repo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–≥–∏ –Ω–∞ GitHub
# https://github.com/owner/repo/tags
```

### "Dependency conflict" (–∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 1)

**–ü—Ä–∏—á–∏–Ω–∞:** –î–≤–∞ –ø–∞–∫–µ—Ç–∞ —Ç—Ä–µ–±—É—é—Ç –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –£–≤–∏–¥–µ—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç
hpm install --verbose

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
hpm why conflicting/package

# –†–µ—à–µ–Ω–∏—è:
# 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π –ø–∞–∫–µ—Ç
hpm update problem/package

# 2. –ò–∑–º–µ–Ω–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –≤ package.json
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π

# 3. –£–¥–∞–ª–∏—Ç—å –æ–¥–∏–Ω –∏–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
hpm uninstall one/package
```

### "Circular dependency" (–∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 8)

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞–∫–µ—Ç A –∑–∞–≤–∏—Å–∏—Ç –æ—Ç B, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–∏—Å–∏—Ç –æ—Ç A.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ü–∏–∫–ª
hpm install --verbose

# –û–±—ã—á–Ω–æ —ç—Ç–æ –±–∞–≥ –≤ –ø–∞–∫–µ—Ç–∞—Ö
# –°–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –ø–∞–∫–µ—Ç–æ–≤

# –û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å: –∏–∑–±–µ–≥–∞–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –ø–∞–∫–µ—Ç–æ–≤
```

## –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "Network error" (–∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 4)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ GitHub API.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
ping github.com

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å GitHub API
curl -I https://api.github.com

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞ (hpm –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
hpm install

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º, –µ—Å–ª–∏ –ø–∞–∫–µ—Ç—ã –≤ –∫—ç—à–µ
hpm install --offline

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏, –µ—Å–ª–∏ –∑–∞ —Ñ–∞–π—Ä–≤–æ–ª–æ–º
export HTTPS_PROXY=http://proxy:8080
hpm install
```

### "GitHub rate limit exceeded" (–∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 7)

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ API-–∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å —Ç–æ–∫–µ–Ω–æ–º GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
export GITHUB_TOKEN=ghp_xxxxxxxxxxxx
hpm install

# –°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω: GitHub ‚Üí Settings ‚Üí Developer settings ‚Üí Personal access tokens

# –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
mkdir -p ~/.hpm
echo '{"github_token": "ghp_xxxxxxxxxxxx"}' > ~/.hpm/config.json

# –í–∞—Ä–∏–∞–Ω—Ç 3: –î–æ–∂–¥–∞—Ç—å—Å—è —Å–±—Ä–æ—Å–∞ –ª–∏–º–∏—Ç–∞ (—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –µ–∂–µ—á–∞—Å–Ω–æ)

# –í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º
hpm install --offline
```

### –¢–∞–π–º-–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–µ—Ç—å –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã GitHub API.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# hpm –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —É GitHub
# –ü–æ—Å–µ—Ç–∏—Ç–µ: https://www.githubstatus.com

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–∑–∂–µ
hpm install

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
hpm install --offline
```

## –ü—Ä–æ–±–ª–µ–º—ã —Å Package.json

### "Invalid package.json" (–∫–æ–¥ –≤—ã—Ö–æ–¥–∞ 5)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JSON
cat package.json | python -m json.tool

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
cat package.json

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
# - "name": —Ñ–æ—Ä–º–∞—Ç "owner/repo"
# - "version": —Ñ–æ—Ä–º–∞—Ç "X.Y.Z"

# –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
rm package.json
hpm init
```

### –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ "name"

**–ü—Ä–∏—á–∏–Ω–∞:** –ò–º—è –ø–∞–∫–µ—Ç–∞ –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `owner/repo`.

**–†–µ—à–µ–Ω–∏–µ:**

```json
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
{
  "name": "my-package"
}

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ
{
  "name": "yourusername/my-package"
}
```

### –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ "version"

**–ü—Ä–∏—á–∏–Ω–∞:** –í–µ—Ä—Å–∏—è –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ semver.

**–†–µ—à–µ–Ω–∏–µ:**

```json
// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
{
  "version": "1.0"
}

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ
{
  "version": "1.0.0"
}
```

## –ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–∞–π–ª–æ–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

### –§–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω

**–ü—Ä–∏—á–∏–Ω–∞:** package.json –∏–∑–º–µ–Ω—ë–Ω –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ install.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
rm package-lock.json
hpm install
```

### –ü–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π —Ñ–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π JSON –∏–ª–∏ —Ä—É—á–Ω—ã–µ –ø—Ä–∞–≤–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å JSON
cat package-lock.json | python -m json.tool

# –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
rm package-lock.json
hpm install
```

## –ü—Ä–æ–±–ª–µ–º—ã —Å hem_modules

### –ü–∞–∫–µ—Ç—ã –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –†–∞–∑–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
rm -rf hem_modules
hpm install

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
hpm install --verbose
```

### –ò–º–ø–æ—Ä—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–∞–∫–µ—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∏–º–ø–æ—Ä—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ –ø–∞–∫–µ—Ç
ls hem_modules/owner/repo/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–µ main –≤ package.json
cat hem_modules/owner/repo/package.json

# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–º–ø–æ—Ä—Ç–∞
import { x } from "owner/repo";          # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç main entry
import { y } from "owner/repo/subpath";  # –ò–º–ø–æ—Ä—Ç –∏–∑ –ø–æ–¥–ø—É—Ç–∏
```

### –û—à–∏–±–∫–∞ "Module not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—É—Ç—å –∏–º–ø–æ—Ä—Ç–∞ –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å –∏–º–ø–æ—Ä—Ç–∞
ls hem_modules/owner/repo/src/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ index.hml
ls hem_modules/owner/repo/src/index.hml

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª–µ main –≤ package.json
cat hem_modules/owner/repo/package.json | grep main
```

## –ü—Ä–æ–±–ª–µ–º—ã —Å –∫—ç—à–µ–º

### –ö—ç—à –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–∑–º–µ—Ä–∞ –∫—ç—à–∞
hpm cache list

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
hpm cache clean
```

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫—ç—à—É

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chmod -R u+rw ~/.hpm/cache

# –ò–ª–∏ —É–¥–∞–ª–∏—Ç—å –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
rm -rf ~/.hpm/cache
hpm install
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫—ç—à–∞

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫—ç—à–∞
echo $HPM_CACHE_DIR
ls ~/.hpm/cache

# –û—á–∏—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω–µ–≤–µ—Ä–Ω–∞—è
unset HPM_CACHE_DIR
```

## –ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏

### "Script not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ò–º—è —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ package.json.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
cat package.json | grep -A 20 scripts

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é
hpm run test    # –ü—Ä–∞–≤–∏–ª—å–Ω–æ
hpm run tests   # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "test"
```

### –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π

**–ü—Ä–∏—á–∏–Ω–∞:** –û—à–∏–±–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ —Å–∫—Ä–∏–ø—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –Ω–∞–ø—Ä—è–º—É—é, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫—É
hemlock test/run.hml

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
cat package.json | grep test
```

## –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥

```bash
hpm install --verbose
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é hpm

```bash
hpm --version
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é hemlock

```bash
hemlock --version
```

### –ü—Ä–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫

–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –±–µ–∑ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```bash
hpm install --dry-run
```

### –ß–∏—Å—Ç—ã–π —Å—Ç–∞—Ä—Ç

–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ:

```bash
rm -rf hem_modules package-lock.json
hpm install
```

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

### –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

```bash
hpm --help
hpm install --help
```

### –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

–ï—Å–ª–∏ –≤—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å –±–∞–≥–æ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ issue: https://github.com/hemlang/hpm/issues
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é issue —Å:
   - –í–µ—Ä—Å–∏–µ–π hpm (`hpm --version`)
   - –í–µ—Ä—Å–∏–µ–π Hemlock (`hemlock --version`)
   - –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
   - –®–∞–≥–∞–º–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –°–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--verbose`)

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–¥–æ–≤ –≤—ã—Ö–æ–¥–∞

| –ö–æ–¥ | –ó–Ω–∞—á–µ–Ω–∏–µ | –¢–∏–ø–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ |
|-----|----------|------------------|
| 0 | –£—Å–ø–µ—Ö | - |
| 1 | –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | –û–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
| 2 | –ü–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é, —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–µ–ø–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| 3 | –í–µ—Ä—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –Ω–∞ GitHub |
| 4 | –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –ø–æ–≤—Ç–æ—Ä–∏—Ç—å |
| 5 | –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π package.json | –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JSON –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è |
| 6 | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞ | –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à, –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å |
| 7 | –õ–∏–º–∏—Ç GitHub | –î–æ–±–∞–≤–∏—Ç—å GITHUB_TOKEN |
| 8 | –¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å | –°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –ø–∞–∫–µ—Ç–æ–≤ |

## –°–º. —Ç–∞–∫–∂–µ

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#hpm-troubleshooting-installation) ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#hpm-troubleshooting-configuration) ‚Äî –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [–ö–æ–º–∞–Ω–¥—ã](#hpm-troubleshooting-commands) ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥



################################################################################
# HPM: –†–ê–ó–†–ê–ë–û–¢–ö–ê –ü–ê–ö–ï–¢–û–í
################################################################################

--------------------------------------------------------------------------------
## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
--------------------------------------------------------------------------------

# –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –≤ hpm.

## –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

hpm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ 2.0.0](https://semver.org/) (semver) –¥–ª—è –≤–µ—Ä—Å–∏–π –ø–∞–∫–µ—Ç–æ–≤.

### –§–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–∏

```
MAJOR.MINOR.PATCH[-PRERELEASE][+BUILD]
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```
1.0.0           # –†–µ–ª–∏–∑–Ω–∞—è –≤–µ—Ä—Å–∏—è
2.1.3           # –†–µ–ª–∏–∑–Ω–∞—è –≤–µ—Ä—Å–∏—è
1.0.0-alpha     # –ü—Ä–µ-—Ä–µ–ª–∏–∑
1.0.0-beta.1    # –ü—Ä–µ-—Ä–µ–ª–∏–∑ —Å –Ω–æ–º–µ—Ä–æ–º
1.0.0-rc.1      # –†–µ–ª–∏–∑-–∫–∞–Ω–¥–∏–¥–∞—Ç
1.0.0+20231201  # –° –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —Å–±–æ—Ä–∫–∏
1.0.0-beta+exp  # –ü—Ä–µ-—Ä–µ–ª–∏–∑ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —Å–±–æ—Ä–∫–∏
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–µ—Ä—Å–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----------|----------|--------|
| MAJOR | –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è | `1.0.0` ‚Üí `2.0.0` |
| MINOR | –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ) | `1.0.0` ‚Üí `1.1.0` |
| PATCH | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ) | `1.0.0` ‚Üí `1.0.1` |
| PRERELEASE | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ-—Ä–µ–ª–∏–∑–∞ | `1.0.0-alpha` |
| BUILD | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–±–æ—Ä–∫–∏ (–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏) | `1.0.0+build123` |

### –ö–æ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å

| –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------------|------------|--------|
| –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ API | MAJOR | –£–¥–∞–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
| –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ | MAJOR | `parse()` ‚Üí `decode()` |
| –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ | MAJOR | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ | MINOR | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ `validate()` |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ | MINOR | –ù–æ–≤—ã–π –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `options` |
| –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ | PATCH | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ null pointer |
| –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | PATCH | –ë–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º |
| –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | PATCH | –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π API |

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

| –°–∏–Ω—Ç–∞–∫—Å–∏—Å | –ó–Ω–∞—á–µ–Ω–∏–µ | –†–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –≤ |
|-----------|----------|---------------|
| `1.2.3` | –¢–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è | –¢–æ–ª—å–∫–æ 1.2.3 |
| `^1.2.3` | Caret (—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ) | ‚â•1.2.3 –∏ <2.0.0 |
| `~1.2.3` | Tilde (–ø–∞—Ç—á-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) | ‚â•1.2.3 –∏ <1.3.0 |
| `>=1.0.0` | –ú–∏–Ω–∏–º—É–º | 1.0.0 –∏–ª–∏ –≤—ã—à–µ |
| `>1.0.0` | –ë–æ–ª—å—à–µ —á–µ–º | –í—ã—à–µ 1.0.0 |
| `<2.0.0` | –ú–µ–Ω—å—à–µ —á–µ–º | –ù–∏–∂–µ 2.0.0 |
| `<=2.0.0` | –ú–∞–∫—Å–∏–º—É–º | 2.0.0 –∏–ª–∏ –Ω–∏–∂–µ |
| `>=1.0.0 <2.0.0` | –î–∏–∞–ø–∞–∑–æ–Ω | –ú–µ–∂–¥—É 1.0.0 –∏ 2.0.0 |
| `*` | –õ—é–±–∞—è | –õ—é–±–∞—è –≤–µ—Ä—Å–∏—è |

### Caret-–¥–∏–∞–ø–∞–∑–æ–Ω—ã (^)

Caret (`^`) –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—â–∏–µ –∫—Ä–∞–π–Ω—é—é –ª–µ–≤—É—é –Ω–µ–Ω—É–ª–µ–≤—É—é —Ü–∏—Ñ—Ä—É:

```
^1.2.3  ‚Üí  >=1.2.3 <2.0.0   # –ü–æ–∑–≤–æ–ª—è–µ—Ç 1.x.x
^0.2.3  ‚Üí  >=0.2.3 <0.3.0   # –ü–æ–∑–≤–æ–ª—è–µ—Ç 0.2.x
^0.0.3  ‚Üí  >=0.0.3 <0.0.4   # –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ 0.0.3
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:** –•–æ—Ç–∏—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –º–∞–∂–æ—Ä–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

**–ù–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### Tilde-–¥–∏–∞–ø–∞–∑–æ–Ω—ã (~)

Tilde (`~`) –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∞—Ç—á-–∏–∑–º–µ–Ω–µ–Ω–∏—è:

```
~1.2.3  ‚Üí  >=1.2.3 <1.3.0   # –ü–æ–∑–≤–æ–ª—è–µ—Ç 1.2.x
~1.2    ‚Üí  >=1.2.0 <1.3.0   # –ü–æ–∑–≤–æ–ª—è–µ—Ç 1.2.x
~1      ‚Üí  >=1.0.0 <2.0.0   # –ü–æ–∑–≤–æ–ª—è–µ—Ç 1.x.x
```

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:** –•–æ—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫, –±–µ–∑ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.

### –î–∏–∞–ø–∞–∑–æ–Ω—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è:

```json
{
  "dependencies": {
    "owner/pkg": ">=1.0.0 <2.0.0",
    "owner/other": ">1.5.0 <=2.1.0"
  }
}
```

### –õ—é–±–∞—è –≤–µ—Ä—Å–∏—è (*)

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª—é–±–æ–π –≤–µ—Ä—Å–∏–∏:

```json
{
  "dependencies": {
    "owner/pkg": "*"
  }
}
```

**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞. –í—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é.

## –ü—Ä–µ-—Ä–µ–ª–∏–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–µ-—Ä–µ–ª–∏–∑–æ–≤

–ü—Ä–µ-—Ä–µ–ª–∏–∑—ã –∏–º–µ—é—Ç –±–æ–ª–µ–µ –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —á–µ–º —Ä–µ–ª–∏–∑—ã:

```
1.0.0-alpha < 1.0.0-alpha.1 < 1.0.0-beta < 1.0.0-rc.1 < 1.0.0
```

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ç–µ–≥–∏ –ø—Ä–µ-—Ä–µ–ª–∏–∑–æ–≤

| –¢–µ–≥ | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞–¥–∏—è |
|-----|----------|--------|
| `alpha` | –†–∞–Ω–Ω—è—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | –û—á–µ–Ω—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π |
| `beta` | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `rc` | –†–µ–ª–∏–∑-–∫–∞–Ω–¥–∏–¥–∞—Ç | –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `dev` | –°–Ω–∏–º–æ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ | –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π |

### –ü—Ä–µ-—Ä–µ–ª–∏–∑—ã –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–µ-—Ä–µ–ª–∏–∑–∞–º:

```
^1.0.0    # –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 1.1.0-beta
>=1.0.0   # –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç 2.0.0-alpha
```

–ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–µ-—Ä–µ–ª–∏–∑—ã, —É–∫–∞–∂–∏—Ç–µ –∏—Ö —è–≤–Ω–æ:

```
>=1.0.0-alpha <2.0.0   # –í–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –ø—Ä–µ-—Ä–µ–ª–∏–∑—ã 1.x
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

### –ü—Ä–∞–≤–∏–ª–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

1. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ MAJOR, MINOR, PATCH —á–∏—Å–ª–µ–Ω–Ω–æ
2. –†–µ–ª–∏–∑ > –ø—Ä–µ-—Ä–µ–ª–∏–∑ —Å —Ç–æ–π –∂–µ –≤–µ—Ä—Å–∏–µ–π
3. –ü—Ä–µ-—Ä–µ–ª–∏–∑—ã —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ-—á–∏—Å–ª–µ–Ω–Ω–æ
4. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–±–æ—Ä–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è

### –ü—Ä–∏–º–µ—Ä—ã

```
1.0.0 < 1.0.1 < 1.1.0 < 2.0.0

1.0.0-alpha < 1.0.0-alpha.1 < 1.0.0-beta < 1.0.0

1.0.0 = 1.0.0+build123  # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å–±–æ—Ä–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
```

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

–í–µ—Ä—Å–∏–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é:

```
1.0.0
1.0.1
1.1.0
1.1.1
2.0.0-alpha
2.0.0-beta
2.0.0
```

## –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

–ö–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç –æ–¥–Ω—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:

1. –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
2. –ù–∞–π—Ç–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤
3. –í—ã–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –≤ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏
4. –û—à–∏–±–∫–∞, –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –≤–µ—Ä—Å–∏—è –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –≤—Å–µ–º

### –ü—Ä–∏–º–µ—Ä —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

```
package-a requires hemlang/json@^1.0.0  (>=1.0.0 <2.0.0)
package-b requires hemlang/json@~1.2.0  (>=1.2.0 <1.3.0)

–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ: >=1.2.0 <1.3.0
–î–æ—Å—Ç—É–ø–Ω—ã–µ: [1.0.0, 1.1.0, 1.2.0, 1.2.1, 1.2.5, 1.3.0]
–†–∞–∑—Ä–µ—à—ë–Ω–Ω–∞—è: 1.2.5 (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–∏)
```

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

–ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –Ω–∏ –æ–¥–Ω–∞ –≤–µ—Ä—Å–∏—è –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –≤—Å–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º:

```
package-a requires hemlang/json@^1.0.0  (>=1.0.0 <2.0.0)
package-b requires hemlang/json@^2.0.0  (>=2.0.0 <3.0.0)

–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ: (–ø—É—Å—Ç–æ)
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–û–ù–§–õ–ò–ö–¢ - –Ω–∏ –æ–¥–Ω–∞ –≤–µ—Ä—Å–∏—è –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –æ–±–æ–∏–º
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –î–ª—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ–π –ø–∞–∫–µ—Ç–æ–≤

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ caret-–¥–∏–∞–ø–∞–∑–æ–Ω—ã** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
   ```json
   "hemlang/json": "^1.2.0"
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ tilde-–¥–∏–∞–ø–∞–∑–æ–Ω—ã** –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
   ```json
   "critical/lib": "~1.2.0"
   ```

3. **–§–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤–µ—Ä—Å–∏–∏** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
   ```json
   "unstable/pkg": "1.2.3"
   ```

4. **–ö–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã—Ö —Å–±–æ—Ä–æ–∫

5. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
   ```bash
   hpm update
   hpm outdated
   ```

### –î–ª—è –∞–≤—Ç–æ—Ä–æ–≤ –ø–∞–∫–µ—Ç–æ–≤

1. **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å 0.1.0** –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
   - API –º–æ–∂–µ—Ç —á–∞—Å—Ç–æ –º–µ–Ω—è—Ç—å—Å—è
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–∂–∏–¥–∞—é—Ç –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

2. **–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ 1.0.0**, –∫–æ–≥–¥–∞ API —Å—Ç–∞–±–∏–ª–µ–Ω:
   - –ü—É–±–ª–∏—á–Ω–æ–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
   - –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç —É–≤–µ–ª–∏—á–µ–Ω–∏—è –º–∞–∂–æ—Ä–Ω–æ–π –≤–µ—Ä—Å–∏–∏

3. **–°—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É–π—Ç–µ semver**:
   - –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ = MAJOR
   - –ù–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å = MINOR
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ = PATCH

4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ-—Ä–µ–ª–∏–∑—ã** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
   ```bash
   git tag v2.0.0-beta.1
   git push --tags
   ```

5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –≤ CHANGELOG

## –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ package.json
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å package.json: "version": "1.1.0"

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
git add package.json
git commit -m "Bump version to 1.1.0"

# –°–æ–∑–¥–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–≥
git tag v1.1.0
git push origin main --tags
```

### –§–æ—Ä–º–∞—Ç —Ç–µ–≥–æ–≤

–¢–µ–≥–∏ **–¥–æ–ª–∂–Ω—ã** –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `v`:

```
v1.0.0      ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ
v1.0.0-beta ‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ
1.0.0       ‚úó –ù–µ –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω
```

### –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–ª–∏–∑–∞

```bash
# 1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
hpm test

# 2. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ package.json
# 3. –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md
# 4. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add -A
git commit -m "Release v1.2.0"

# 5. –°–æ–∑–¥–∞—Ç—å —Ç–µ–≥
git tag v1.2.0

# 6. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å—ë
git push origin main --tags
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π

### –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π

```bash
hpm list
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```bash
hpm outdated
```

–í—ã–≤–æ–¥:
```
Package         Current  Wanted  Latest
hemlang/json    1.0.0    1.0.5   1.2.0
hemlang/sprout  2.0.0    2.0.3   2.1.0
```

- **Current**: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- **Wanted**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é
- **Latest**: –ü–æ—Å–ª–µ–¥–Ω—è—è –¥–æ—Å—Ç—É–ø–Ω–∞—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ
hpm update

# –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
hpm update hemlang/json
```

## –°–º. —Ç–∞–∫–∂–µ

- [–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤](#hpm-versioning-creating-packages) ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- [–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤](#hpm-versioning-package-spec) ‚Äî –§–æ—Ä–º–∞—Ç package.json
- [–ö–æ–º–∞–Ω–¥—ã](#hpm-versioning-commands) ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ CLI


--------------------------------------------------------------------------------
## –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
--------------------------------------------------------------------------------

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤

–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –æ–ø–∏—Å–∞–Ω–æ, –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç—ã Hemlock.

## –û–±–∑–æ—Ä

hpm –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ–µ—Å—Ç—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤. –ü–∞–∫–µ—Ç—ã –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –ø–æ –ø—É—Ç–∏ GitHub `owner/repo`, –∞ –≤–µ—Ä—Å–∏–∏ ‚Äî —ç—Ç–æ Git-—Ç–µ–≥–∏. –ü—É–±–ª–∏–∫–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞.

## –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ:

```bash
mkdir my-package
cd my-package
hpm init
```

–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã:

```
Package name (owner/repo): yourusername/my-package
Version (1.0.0):
Description: A useful Hemlock package
Author: Your Name <you@example.com>
License (MIT):
Main file (src/index.hml):

Created package.json
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ø–∞–∫–µ—Ç–æ–≤:

```
my-package/
‚îú‚îÄ‚îÄ package.json          # –ú–∞–Ω–∏—Ñ–µ—Å—Ç –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ LICENSE               # –§–∞–π–ª –ª–∏—Ü–µ–Ω–∑–∏–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.hml         # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π API)
‚îÇ   ‚îú‚îÄ‚îÄ utils.hml         # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ types.hml         # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤
‚îî‚îÄ‚îÄ test/
    ‚îú‚îÄ‚îÄ framework.hml     # –¢–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
    ‚îî‚îÄ‚îÄ test_utils.hml    # –¢–µ—Å—Ç—ã
```

### 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API

**src/index.hml** ‚Äî –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞:

```hemlock
// –†–µ—ç–∫—Å–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
export { parse, stringify } from "./parser.hml";
export { Config, Options } from "./types.hml";
export { process } from "./processor.hml";

// –ü—Ä—è–º—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
export fn create(options: Options): Config {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
}

export fn validate(config: Config): bool {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
}
```

### 4. –ù–∞–ø–∏—Å–∞–Ω–∏–µ package.json

–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä package.json:

```json
{
  "name": "yourusername/my-package",
  "version": "1.0.0",
  "description": "A useful Hemlock package",
  "author": "Your Name <you@example.com>",
  "license": "MIT",
  "repository": "https://github.com/yourusername/my-package",
  "main": "src/index.hml",
  "dependencies": {
    "hemlang/json": "^1.0.0"
  },
  "devDependencies": {
    "hemlang/test-utils": "^1.0.0"
  },
  "scripts": {
    "test": "hemlock test/run.hml",
    "build": "hemlock --bundle src/index.hml -o dist/bundle.hmlc"
  },
  "keywords": ["utility", "parser", "config"],
  "files": [
    "src/",
    "LICENSE",
    "README.md"
  ]
}
```

## –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `owner/repo`
- `owner` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞—à–∏–º –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –Ω–∞ GitHub
- `repo` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–µ–Ω–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä —Å –¥–µ—Ñ–∏—Å–∞–º–∏ –¥–ª—è –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π

### –•–æ—Ä–æ—à–∏–µ –∏–º–µ–Ω–∞

```
hemlang/sprout
alice/http-client
myorg/json-utils
bob/date-formatter
```

### –ò–∑–±–µ–≥–∞–π—Ç–µ

```
my-package          # –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç owner
alice/MyPackage     # PascalCase
alice/my_package    # –ü–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏—è
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–∫–µ—Ç–∞

### –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

–ü–æ–ª–µ `main` –≤ package.json —É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞:

```json
{
  "main": "src/index.hml"
}
```

–≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π API:

```hemlock
// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤—Å—ë, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
export { Parser, parse } from "./parser.hml";
export { Formatter, format } from "./formatter.hml";

// –¢–∏–ø—ã
export type { Config, Options } from "./types.hml";
```

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ vs –ø—É–±–ª–∏—á–Ω–æ–µ

–î–µ—Ä–∂–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏:

```
src/
‚îú‚îÄ‚îÄ index.hml          # –ü—É–±–ª–∏—á–Ω—ã–π: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π API
‚îú‚îÄ‚îÄ parser.hml         # –ü—É–±–ª–∏—á–Ω—ã–π: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ index.hml
‚îú‚îÄ‚îÄ formatter.hml      # –ü—É–±–ª–∏—á–Ω—ã–π: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ index.hml
‚îî‚îÄ‚îÄ internal/
    ‚îú‚îÄ‚îÄ helpers.hml    # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π: —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    ‚îî‚îÄ‚îÄ constants.hml  # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π: —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –∏–∑ –∫–æ—Ä–Ω—è –≤–∞—à–µ–≥–æ –ø–∞–∫–µ—Ç–∞:

```hemlock
// –•–æ—Ä–æ—à–æ - –∏–º–ø–æ—Ä—Ç –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
import { parse, Parser } from "yourusername/my-package";

// –¢–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –∏–º–ø–æ—Ä—Ç –∏–∑ –ø–æ–¥–ø—É—Ç–∏
import { validate } from "yourusername/my-package/validator";

// –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è - –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
import { helper } from "yourusername/my-package/internal/helpers";
```

### –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–¥–ø—É—Ç–µ–π

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –∏–∑ –ø–æ–¥–ø—É—Ç–µ–π:

```
src/
‚îú‚îÄ‚îÄ index.hml              # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ parser/
‚îÇ   ‚îî‚îÄ‚îÄ index.hml          # yourusername/pkg/parser
‚îú‚îÄ‚îÄ formatter/
‚îÇ   ‚îî‚îÄ‚îÄ index.hml          # yourusername/pkg/formatter
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ index.hml          # yourusername/pkg/utils
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:

```hemlock
import { parse } from "yourusername/my-package";           // –ì–ª–∞–≤–Ω—ã–π
import { Parser } from "yourusername/my-package/parser";   // –ü–æ–¥–ø—É—Ç—å
import { format } from "yourusername/my-package/formatter";
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
hpm install hemlang/json

# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
hpm install hemlang/test-utils --dev
```

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ caret-–¥–∏–∞–ø–∞–∑–æ–Ω—ã** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
   ```json
   {
     "dependencies": {
       "hemlang/json": "^1.0.0"
     }
   }
   ```

2. **–§–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤–µ—Ä—Å–∏–∏** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å API):
   ```json
   {
     "dependencies": {
       "unstable/lib": "1.2.3"
     }
   }
   ```

3. **–ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤**:
   ```json
   // –ü–ª–æ—Ö–æ: —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–æ
   "hemlang/json": ">=1.2.3 <1.2.5"

   // –•–æ—Ä–æ—à–æ: –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   "hemlang/json": "^1.2.3"
   ```

4. **–†–∞–∑–¥–µ–ª—è–π—Ç–µ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```json
   {
     "dependencies": {
       "hemlang/json": "^1.0.0"
     },
     "devDependencies": {
       "hemlang/test-utils": "^1.0.0"
     }
   }
   ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞

### –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**test/run.hml:**

```hemlock
import { suite, test, assert_eq } from "./framework.hml";
import { parse, stringify } from "../src/index.hml";

fn run_tests() {
    suite("Parser", fn() {
        test("parses valid input", fn() {
            let result = parse("hello");
            assert_eq(result.value, "hello");
        });

        test("handles empty input", fn() {
            let result = parse("");
            assert_eq(result.value, "");
        });
    });

    suite("Stringify", fn() {
        test("stringifies object", fn() {
            let obj = { name: "test" };
            let result = stringify(obj);
            assert_eq(result, '{"name":"test"}');
        });
    });
}

run_tests();
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–ø—Ç test:

```json
{
  "scripts": {
    "test": "hemlock test/run.hml"
  }
}
```

–ó–∞–ø—É—Å–∫:

```bash
hpm test
```

## –ü—É–±–ª–∏–∫–∞—Ü–∏—è

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –°–æ–∑–¥–∞–π—Ç–µ GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏–º–µ–Ω–∏ –≤–∞—à–µ–≥–æ –ø–∞–∫–µ—Ç–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `package.json` –ø–æ–ª–Ω—ã–π –∏ –≤–∞–ª–∏–¥–Ω—ã–π
3. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –ü—Ä–æ—Ü–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

–ü—É–±–ª–∏–∫–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ Git-—Ç–µ–≥–∞:

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å—ë –∑–∞–∫–æ–º–º–∏—á–µ–Ω–æ
git add .
git commit -m "Prepare v1.0.0 release"

# 2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏ (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 'v')
git tag v1.0.0

# 3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –∏ —Ç–µ–≥–∏
git push origin main
git push origin v1.0.0
# –ò–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤—Å–µ —Ç–µ–≥–∏ —Å—Ä–∞–∑—É
git push origin main --tags
```

### –¢–µ–≥–∏ –≤–µ—Ä—Å–∏–π

–¢–µ–≥–∏ –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç—É `vX.Y.Z`:

```bash
git tag v1.0.0      # –†–µ–ª–∏–∑
git tag v1.0.1      # –ü–∞—Ç—á
git tag v1.1.0      # –ú–∏–Ω–æ—Ä–Ω—ã–π
git tag v2.0.0      # –ú–∞–∂–æ—Ä–Ω—ã–π
git tag v1.0.0-beta.1  # –ü—Ä–µ-—Ä–µ–ª–∏–∑
```

### –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–ª–∏–∑–∞

–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏:

1. **–û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é** –≤ package.json
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã**: `hpm test`
3. **–û–±–Ω–æ–≤–∏—Ç–µ CHANGELOG** (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. **–û–±–Ω–æ–≤–∏—Ç–µ README** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ API
5. **–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**
6. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥**
7. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ GitHub**

### –ü—Ä–∏–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —Ä–µ–ª–∏–∑–∞:

```bash
#!/bin/bash
# release.sh - –í—ã–ø—É—Å–∫ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

VERSION=$1

if [ -z "$VERSION" ]; then
    echo "Usage: ./release.sh 1.0.0"
    exit 1
fi

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
hpm test || exit 1

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ package.json
sed -i "s/\"version\": \".*\"/\"version\": \"$VERSION\"/" package.json

# –ö–æ–º–º–∏—Ç –∏ —Ç–µ–≥
git add package.json
git commit -m "Release v$VERSION"
git tag "v$VERSION"

# –û—Ç–ø—Ä–∞–≤–∫–∞
git push origin main --tags

echo "Released v$VERSION"
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–∞—à–µ–≥–æ –ø–∞–∫–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

```bash
# –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
hpm install yourusername/my-package

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è
hpm install yourusername/my-package@1.0.0

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
hpm install yourusername/my-package@^1.0.0
```

–ò –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å:

```hemlock
import { parse, stringify } from "yourusername/my-package";
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### README.md

–ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å README:

```markdown
# my-package

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –ø–∞–∫–µ—Ç.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

\`\`\`bash
hpm install yourusername/my-package
\`\`\`

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

\`\`\`hemlock
import { parse } from "yourusername/my-package";

let result = parse("input");
\`\`\`

## API

### parse(input: string): Result

–ü–∞—Ä—Å–∏—Ç –≤—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É.

### stringify(obj: any): string

–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–±—ä–µ–∫—Ç –≤ —Å—Ç—Ä–æ–∫—É.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã:

```hemlock
/// –ü–∞—Ä—Å–∏—Ç –≤—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Result.
///
/// # –ê—Ä–≥—É–º–µ–Ω—Ç—ã
/// * `input` - –°—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
///
/// # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç
/// Result, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ—à–∏–±–∫—É
///
/// # –ü—Ä–∏–º–µ—Ä
/// ```
/// let result = parse("hello world");
/// print(result.value);
/// ```
export fn parse(input: string): Result {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
}
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é

–°–ª–µ–¥—É–π—Ç–µ [–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é](https://semver.org/):

- **MAJOR** (1.0.0 ‚Üí 2.0.0): –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **MINOR** (1.0.0 ‚Üí 1.1.0): –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ
- **PATCH** (1.0.0 ‚Üí 1.0.1): –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫, –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ

### –ö–æ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å

| –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ |
|---------------|-------------------|
| –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ API | MAJOR |
| –£–¥–∞–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏/—Ç–∏–ø–∞ | MAJOR |
| –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ | MAJOR |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ | MINOR |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ | MINOR |
| –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ | PATCH |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ | PATCH |
| –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | PATCH |

## –°–º. —Ç–∞–∫–∂–µ

- [–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤](#hpm-creating-packages-package-spec) ‚Äî –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ package.json
- [–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](#hpm-creating-packages-versioning) ‚Äî –î–µ—Ç–∞–ª–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#hpm-creating-packages-configuration) ‚Äî –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è GitHub


--------------------------------------------------------------------------------
## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤
--------------------------------------------------------------------------------

# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤

–ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É —Ñ–∞–π–ª–∞ `package.json`.

## –û–±–∑–æ—Ä

–ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç hpm —Ç—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª `package.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç–∞, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã.

## –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```json
{
  "name": "owner/repo",
  "version": "1.0.0"
}
```

## –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```json
{
  "name": "hemlang/example-package",
  "version": "1.2.3",
  "description": "An example Hemlock package",
  "author": "Hemlock Team <team@hemlock.dev>",
  "license": "MIT",
  "repository": "https://github.com/hemlang/example-package",
  "homepage": "https://hemlang.github.io/example-package",
  "bugs": "https://github.com/hemlang/example-package/issues",
  "main": "src/index.hml",
  "keywords": ["example", "utility", "hemlock"],
  "dependencies": {
    "hemlang/json": "^1.0.0",
    "hemlang/http": "^2.1.0"
  },
  "devDependencies": {
    "hemlang/test-utils": "^1.0.0"
  },
  "scripts": {
    "start": "hemlock src/main.hml",
    "test": "hemlock test/run.hml",
    "build": "hemlock --bundle src/main.hml -o dist/bundle.hmlc"
  },
  "files": [
    "src/",
    "LICENSE",
    "README.md"
  ],
  "native": {
    "requires": ["libcurl", "openssl"]
  }
}
```

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ–ª–µ–π

### name (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–ò–º—è –ø–∞–∫–µ—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `owner/repo`.

```json
{
  "name": "hemlang/sprout"
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `owner/repo`
- `owner` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞—à–∏–º –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –Ω–∞ GitHub
- `repo` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–µ–Ω–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –¥–µ—Ñ–∏—Å—ã
- –ú–∞–∫—Å–∏–º—É–º 214 —Å–∏–º–≤–æ–ª–æ–≤

**–î–æ–ø—É—Å—Ç–∏–º—ã–µ –∏–º–µ–Ω–∞:**
```
hemlang/sprout
alice/http-client
myorg/json-utils
bob123/my-lib
```

**–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∏–º–µ–Ω–∞:**
```
my-package          # –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç owner
hemlang/My_Package  # –ó–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã –∏ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ
hemlang             # –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç repo
```

### version (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–í–µ—Ä—Å–∏—è –ø–∞–∫–µ—Ç–∞ –ø–æ [–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é](https://semver.org/).

```json
{
  "version": "1.2.3"
}
```

**–§–æ—Ä–º–∞—Ç:** `MAJOR.MINOR.PATCH[-PRERELEASE][+BUILD]`

**–î–æ–ø—É—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏:**
```
1.0.0
2.1.3
1.0.0-alpha
1.0.0-beta.1
1.0.0-rc.1+build.123
0.1.0
```

### description

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–∞.

```json
{
  "description": "A fast JSON parser for Hemlock"
}
```

- –î–µ—Ä–∂–∏—Ç–µ –º–µ–Ω–µ–µ 200 —Å–∏–º–≤–æ–ª–æ–≤
- –û–ø–∏—Å—ã–≤–∞–π—Ç–µ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–∞–∫–µ—Ç, –∞ –Ω–µ –∫–∞–∫

### author

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–µ –ø–∞–∫–µ—Ç–∞.

```json
{
  "author": "Your Name <email@example.com>"
}
```

**–ü—Ä–∏–Ω–∏–º–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
```json
"author": "Your Name"
"author": "Your Name <email@example.com>"
"author": "Your Name <email@example.com> (https://website.com)"
```

### license

–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–∏—Ü–µ–Ω–∑–∏–∏.

```json
{
  "license": "MIT"
}
```

**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏:**
- `MIT` ‚Äî –õ–∏—Ü–µ–Ω–∑–∏—è MIT
- `Apache-2.0` ‚Äî –õ–∏—Ü–µ–Ω–∑–∏—è Apache 2.0
- `GPL-3.0` ‚Äî GNU General Public License v3.0
- `BSD-3-Clause` ‚Äî BSD 3-Clause License
- `ISC` ‚Äî ISC License
- `UNLICENSED` ‚Äî –ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–∞—è/–ø—Ä–∏–≤–∞—Ç–Ω–∞—è

–ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã SPDX](https://spdx.org/licenses/).

### repository

–°—Å—ã–ª–∫–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

```json
{
  "repository": "https://github.com/hemlang/sprout"
}
```

### homepage

URL –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–µ–∫—Ç–∞.

```json
{
  "homepage": "https://sprout.hemlock.dev"
}
```

### bugs

URL —Ç—Ä–µ–∫–µ—Ä–∞ –æ—à–∏–±–æ–∫.

```json
{
  "bugs": "https://github.com/hemlang/sprout/issues"
}
```

### main

–§–∞–π–ª —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è –ø–∞–∫–µ—Ç–∞.

```json
{
  "main": "src/index.hml"
}
```

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `src/index.hml`

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –≤–∞—à –ø–∞–∫–µ—Ç:
```hemlock
import { x } from "owner/repo";
```

hpm –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ `main`.

**–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –∏–º–ø–æ—Ä—Ç–æ–≤:**
1. –¢–æ—á–Ω—ã–π –ø—É—Ç—å: `src/index.hml`
2. –° —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .hml: `src/index` ‚Üí `src/index.hml`
3. –§–∞–π–ª index: `src/index/` ‚Üí `src/index/index.hml`

### keywords

–ú–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞.

```json
{
  "keywords": ["json", "parser", "utility", "hemlock"]
}
```

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
- –ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã
- –í–∫–ª—é—á–∏—Ç–µ —è–∑—ã–∫ ("hemlock") –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### dependencies

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø–∞–∫–µ—Ç–∞.

```json
{
  "dependencies": {
    "hemlang/json": "^1.0.0",
    "hemlang/http": "~2.1.0",
    "alice/logger": ">=1.0.0 <2.0.0"
  }
}
```

**–ö–ª—é—á:** –ò–º—è –ø–∞–∫–µ—Ç–∞ (`owner/repo`)
**–ó–Ω–∞—á–µ–Ω–∏–µ:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤–µ—Ä—Å–∏–π:**

| –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-------------|----------|
| `1.2.3` | –¢–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è |
| `^1.2.3` | >=1.2.3 <2.0.0 |
| `~1.2.3` | >=1.2.3 <1.3.0 |
| `>=1.0.0` | –ú–∏–Ω–∏–º—É–º 1.0.0 |
| `>=1.0.0 <2.0.0` | –î–∏–∞–ø–∞–∑–æ–Ω |
| `*` | –õ—é–±–∞—è –≤–µ—Ä—Å–∏—è |

### devDependencies

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–±–æ—Ä–∫–∞ –∏ —Ç.–¥.).

```json
{
  "devDependencies": {
    "hemlang/test-utils": "^1.0.0",
    "hemlang/linter": "^2.0.0"
  }
}
```

Dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è, –∫–æ–≥–¥–∞ –ø–∞–∫–µ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–±–æ—Ä–∫–∏, –ª–∏–Ω—Ç–∏–Ω–≥–∞ –∏ —Ç.–¥.

### scripts

–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å –ø–æ–º–æ—â—å—é `hpm run`.

```json
{
  "scripts": {
    "start": "hemlock src/main.hml",
    "dev": "hemlock --watch src/main.hml",
    "test": "hemlock test/run.hml",
    "test:unit": "hemlock test/unit/run.hml",
    "test:integration": "hemlock test/integration/run.hml",
    "build": "hemlock --bundle src/main.hml -o dist/app.hmlc",
    "clean": "rm -rf dist hem_modules",
    "lint": "hemlock-lint src/",
    "format": "hemlock-fmt src/"
  }
}
```

**–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤:**
```bash
hpm run start
hpm run build
hpm test        # –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è 'hpm run test'
```

**–ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:**
```bash
hpm run test -- --verbose --filter=unit
```

**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:**

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------------|
| `start` | –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| `dev` | –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π |
| `test` | –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ |
| `build` | –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ |
| `clean` | –£–¥–∞–ª–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–±–æ—Ä–∫–∏ |
| `lint` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∫–æ–¥–∞ |
| `format` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ |

### files

–§–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–∫–µ—Ç–∞.

```json
{
  "files": [
    "src/",
    "lib/",
    "LICENSE",
    "README.md"
  ]
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, –≤–∫–ª—é—á–∞–µ—Ç:
- –í—Å–µ —Ñ–∞–π–ª—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ò—Å–∫–ª—é—á–∞–µ—Ç `.git/`, `node_modules/`, `hem_modules/`

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:**
- –£–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø–∞–∫–µ—Ç–∞
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- –í–∫–ª—é—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤

### native

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

```json
{
  "native": {
    "requires": ["libcurl", "openssl", "sqlite3"]
  }
}
```

–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ.

## –í–∞–ª–∏–¥–∞—Ü–∏—è

hpm –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç package.json –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö. –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

```
Error: package.json missing required field: name
```

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.

### –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏

```
Error: Invalid package name. Must be in owner/repo format.
```

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–æ—Ä–º–∞—Ç `owner/repo`.

### –ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –≤–µ—Ä—Å–∏—è

```
Error: Invalid version "1.0". Must be semver format (X.Y.Z).
```

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç semver (`1.0.0`).

### –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π JSON

```
Error: package.json is not valid JSON
```

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JSON (–∑–∞–ø—è—Ç—ã–µ, –∫–∞–≤—ã—á–∫–∏, —Å–∫–æ–±–∫–∏).

## –°–æ–∑–¥–∞–Ω–∏–µ package.json

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ

```bash
hpm init
```

–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ.

### –° –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```bash
hpm init --yes
```

–°–æ–∑–¥–∞—ë—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```json
{
  "name": "directory-name/directory-name",
  "version": "1.0.0",
  "description": "",
  "author": "",
  "license": "MIT",
  "main": "src/index.hml",
  "dependencies": {},
  "devDependencies": {},
  "scripts": {
    "test": "hemlock test/run.hml"
  }
}
```

### –í—Ä—É—á–Ω—É—é

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É—é:

```bash
cat > package.json << 'EOF'
{
  "name": "yourname/your-package",
  "version": "1.0.0",
  "description": "Your package description",
  "main": "src/index.hml",
  "dependencies": {},
  "scripts": {
    "test": "hemlock test/run.hml"
  }
}
EOF
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ main** ‚Äî –ù–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ caret-–¥–∏–∞–ø–∞–∑–æ–Ω—ã** ‚Äî `^1.0.0` –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. **–†–∞–∑–¥–µ–ª—è–π—Ç–µ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äî –î–µ—Ä–∂–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ/—Å–±–æ—Ä–æ—á–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ devDependencies
4. **–í–∫–ª—é—á–∞–π—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞** ‚Äî –ü–æ–º–æ–≥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–∞–π—Ç–∏ –≤–∞—à –ø–∞–∫–µ—Ç
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã** ‚Äî –ù–∞–∑—ã–≤–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–Ω—è—Ç–Ω–æ
6. **–£–∫–∞–∑—ã–≤–∞–π—Ç–µ –ª–∏—Ü–µ–Ω–∑–∏—é** ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è open source
7. **–î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ** ‚Äî –ü–æ–º–æ–≥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–Ω—è—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

## –°–º. —Ç–∞–∫–∂–µ

- [–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤](#hpm-package-spec-creating-packages) ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- [–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](#hpm-package-spec-versioning) ‚Äî –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞](#hpm-package-spec-project-setup) ‚Äî –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞



################################################################################
# HPM: –°–ü–†–ê–í–û–ß–ù–ò–ö
################################################################################

--------------------------------------------------------------------------------
## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
--------------------------------------------------------------------------------

# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–∏–∑–∞–π–Ω hpm. –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤ –∏ —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç hpm.

## –û–±–∑–æ—Ä

hpm –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Hemlock –∏ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥—É–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞–º–∏:

```
src/
‚îú‚îÄ‚îÄ main.hml        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ CLI –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ manifest.hml    # –†–∞–±–æ—Ç–∞ —Å package.json
‚îú‚îÄ‚îÄ lockfile.hml    # –†–∞–±–æ—Ç–∞ —Å package-lock.json
‚îú‚îÄ‚îÄ semver.hml      # –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ resolver.hml    # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ github.hml      # –ö–ª–∏–µ–Ω—Ç GitHub API
‚îú‚îÄ‚îÄ installer.hml   # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
‚îî‚îÄ‚îÄ cache.hml       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –∫—ç—à–µ–º
```

## –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –º–æ–¥—É–ª–µ–π

### main.hml

–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –†–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—Ä—Å–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ (--verbose, --dry-run –∏ —Ç.–¥.)
- –í—ã—Ö–æ–¥ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–¥–∞–º–∏

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `main()` ‚Äî –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã
- `cmd_init()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm init`
- `cmd_install()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm install`
- `cmd_uninstall()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm uninstall`
- `cmd_update()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm update`
- `cmd_list()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm list`
- `cmd_outdated()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm outdated`
- `cmd_run()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm run`
- `cmd_why()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm why`
- `cmd_cache()` ‚Äî –û–±—Ä–∞–±–æ—Ç–∫–∞ `hpm cache`

**–°–æ–∫—Ä–∞—â–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥:**
```hemlock
let shortcuts = {
    "i": "install",
    "rm": "uninstall",
    "remove": "uninstall",
    "ls": "list",
    "up": "update"
};
```

### manifest.hml

–û–±—Ä–∞–±–æ—Ç–∫–∞ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤ `package.json`.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å package.json
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–∫–µ—Ç–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- –†–∞–∑–±–æ—Ä —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –ø–∞–∫–µ—Ç–æ–≤ (owner/repo@version)

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
create_default(): Manifest           // –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π –º–∞–Ω–∏—Ñ–µ—Å—Ç
read_manifest(): Manifest            // –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ —Ñ–∞–π–ª–∞
write_manifest(m: Manifest)          // –ó–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª
validate(m: Manifest): bool          // –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
get_all_dependencies(m): Map         // –ü–æ–ª—É—á–∏—Ç—å deps + devDeps
add_dependency(m, pkg, ver, dev)     // –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
remove_dependency(m, pkg)            // –£–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
parse_specifier(spec): (name, ver)   // –†–∞–∑–æ–±—Ä–∞—Ç—å "owner/repo@^1.0.0"
split_name(name): (owner, repo)      // –†–∞–∑–æ–±—Ä–∞—Ç—å "owner/repo"
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Manifest:**
```hemlock
type Manifest = {
    name: string,
    version: string,
    description: string?,
    author: string?,
    license: string?,
    repository: string?,
    main: string?,
    dependencies: Map<string, string>,
    devDependencies: Map<string, string>,
    scripts: Map<string, string>
};
```

### lockfile.hml

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–º `package-lock.json` –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –°–æ–∑–¥–∞–Ω–∏–µ/—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–æ—á–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- –•—Ä–∞–Ω–µ–Ω–∏–µ URL –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ö–µ—à–µ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
- –£–¥–∞–ª–µ–Ω–∏–µ –æ—Å–∏—Ä–æ—Ç–µ–≤—à–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
create_empty(): Lockfile              // –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π lockfile
read_lockfile(): Lockfile             // –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ —Ñ–∞–π–ª–∞
write_lockfile(l: Lockfile)           // –ó–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª
create_entry(ver, url, hash, deps)    // –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
get_locked(l, pkg): LockEntry?        // –ü–æ–ª—É—á–∏—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
set_locked(l, pkg, entry)             // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
remove_locked(l, pkg)                 // –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å
prune(l, keep: Set)                   // –£–¥–∞–ª–∏—Ç—å –æ—Å–∏—Ä–æ—Ç–µ–≤—à–∏–µ
needs_update(l, m): bool              // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Lockfile:**
```hemlock
type Lockfile = {
    lockVersion: int,
    hemlock: string,
    dependencies: Map<string, LockEntry>
};

type LockEntry = {
    version: string,
    resolved: string,     // URL –∑–∞–≥—Ä—É–∑–∫–∏
    integrity: string,    // SHA256 —Ö–µ—à
    dependencies: Map<string, string>
};
```

### semver.hml

–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Semantic Versioning 2.0.0.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫ –≤–µ—Ä—Å–∏–π
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
- –†–∞–∑–±–æ—Ä –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤–µ—Ä—Å–∏–π
- –ü–æ–∏—Å–∫ –≤–µ—Ä—Å–∏–π, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
// –†–∞–∑–±–æ—Ä
parse(s: string): Version             // "1.2.3-beta+build" ‚Üí Version
stringify(v: Version): string         // Version ‚Üí "1.2.3-beta+build"

// –°—Ä–∞–≤–Ω–µ–Ω–∏–µ
compare(a, b: Version): int           // -1, 0 –∏–ª–∏ 1
gt(a, b), gte(a, b), lt(a, b), lte(a, b), eq(a, b): bool

// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
parse_constraint(s: string): Constraint    // "^1.2.3" ‚Üí Constraint
satisfies(v: Version, c: Constraint): bool // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è v –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é c
max_satisfying(versions, c): Version?      // –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
sort(versions): [Version]                  // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é

// –£—Ç–∏–ª–∏—Ç—ã
constraints_overlap(a, b: Constraint): bool  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Version:**
```hemlock
type Version = {
    major: int,
    minor: int,
    patch: int,
    prerelease: [string]?,  // –Ω–∞–ø—Ä–∏–º–µ—Ä, ["beta", "1"]
    build: string?          // –Ω–∞–ø—Ä–∏–º–µ—Ä, "20230101"
};
```

**–¢–∏–ø—ã Constraint:**
```hemlock
type Constraint =
    | Exact(Version)           // "1.2.3"
    | Caret(Version)           // "^1.2.3" ‚Üí >=1.2.3 <2.0.0
    | Tilde(Version)           // "~1.2.3" ‚Üí >=1.2.3 <1.3.0
    | Range(op, Version)       // ">=1.0.0", "<2.0.0"
    | And(Constraint, Constraint)  // –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã
    | Any;                     // "*"
```

### resolver.hml

–†–µ–∞–ª–∏–∑—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Å—Ç–∏–ª–µ npm.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–µ—Ä–µ–≤—å–µ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤–µ—Ä—Å–∏–π
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤—å–µ–≤ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
resolve(manifest, lockfile): ResolveResult
    // –ì–ª–∞–≤–Ω—ã–π —Ä–µ–∑–æ–ª–≤–µ—Ä: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–ª–æ—Å–∫—É—é –∫–∞—Ä—Ç—É –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏

resolve_version(pkg, constraints: [string]): ResolvedPackage?
    // –ù–∞–π—Ç–∏ –≤–µ—Ä—Å–∏—é, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â—É—é –≤—Å–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º

detect_cycles(deps: Map): [Cycle]?
    // –ù–∞–π—Ç–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é DFS

build_tree(lockfile): Tree
    // –°–æ–∑–¥–∞—Ç—å –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

find_why(pkg, lockfile): [Chain]
    // –ù–∞–π—Ç–∏ —Ü–µ–ø–æ—á–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ, –ø–æ—á–µ–º—É —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω pkg
```

**–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**

1. **–°–±–æ—Ä –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**: –û–±—Ö–æ–¥ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –∏ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞:
   - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –æ—Ç –∑–∞–≤–∏—Å—è—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
   - –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Å GitHub
   - –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â—É—é –í–°–ï–ú –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º
   - –û—à–∏–±–∫–∞, –µ—Å–ª–∏ –Ω–∏ –æ–¥–Ω–∞ –≤–µ—Ä—Å–∏—è –Ω–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –≤—Å–µ–º (–∫–æ–Ω—Ñ–ª–∏–∫—Ç)
3. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤**: –ó–∞–ø—É—Å–∫ DFS –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
4. **–í–æ–∑–≤—Ä–∞—Ç –ø–ª–æ—Å–∫–æ–π –∫–∞—Ä—Ç—ã**: –ò–º—è –ø–∞–∫–µ—Ç–∞ ‚Üí –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ ResolveResult:**
```hemlock
type ResolveResult = {
    packages: Map<string, ResolvedPackage>,
    conflicts: [Conflict]?,
    cycles: [Cycle]?
};

type ResolvedPackage = {
    name: string,
    version: Version,
    url: string,
    dependencies: Map<string, string>
};
```

### github.hml

–ö–ª–∏–µ–Ω—Ç GitHub API –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–∫–µ—Ç–æ–≤.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π (—Ç–µ–≥–æ–≤)
- –ó–∞–≥—Ä—É–∑–∫–∞ package.json –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤ —Ä–µ–ª–∏–∑–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ª–∏–º–∏—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
get_token(): string?
    // –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∏–∑ env –∏–ª–∏ config

github_request(url, headers?): Response
    // –í—ã–ø–æ–ª–Ω–∏—Ç—å API-–∑–∞–ø—Ä–æ—Å —Å –ø–æ–≤—Ç–æ—Ä–∞–º–∏

get_tags(owner, repo): [string]
    // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–≥–∏ –≤–µ—Ä—Å–∏–π (v1.0.0, v1.1.0 –∏ —Ç.–¥.)

get_package_json(owner, repo, ref): Manifest
    // –ü–æ–ª—É—á–∏—Ç—å package.json –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —Ç–µ–≥—É/–∫–æ–º–º–∏—Ç—É

download_tarball(owner, repo, tag): bytes
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞—Ä—Ö–∏–≤ —Ä–µ–ª–∏–∑–∞

repo_exists(owner, repo): bool
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

get_repo_info(owner, repo): RepoInfo
    // –ü–æ–ª—É—á–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```

**–õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–æ–≤:**
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: 1—Å, 2—Å, 4—Å, 8—Å
- –ü–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏: 403 (–ª–∏–º–∏—Ç), 5xx (–æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞), —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–∫–∞—Ö
- –ú–∞–∫—Å–∏–º—É–º 4 –ø–æ–≤—Ç–æ—Ä–∞
- –ß—ë—Ç–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö –ª–∏–º–∏—Ç–∞

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
```
GET /repos/{owner}/{repo}/tags
GET /repos/{owner}/{repo}/contents/package.json?ref={tag}
GET /repos/{owner}/{repo}/tarball/{tag}
GET /repos/{owner}/{repo}
```

### installer.hml

–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ —Å GitHub
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–æ–≤ –≤ hem_modules
- –ü—Ä–æ–≤–µ—Ä–∫–∞/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
install_package(pkg: ResolvedPackage): bool
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω –ø–∞–∫–µ—Ç

install_all(packages: Map, options): InstallResult
    // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

uninstall_package(name: string): bool
    // –£–¥–∞–ª–∏—Ç—å –ø–∞–∫–µ—Ç –∏–∑ hem_modules

get_installed(): Map<string, string>
    // –°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

verify_integrity(pkg): bool
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ø–∞–∫–µ—Ç–∞

prefetch_packages(packages: Map): void
    // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –∫—ç—à (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)
```

**–ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ —É–∂–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∞—Ä—Ö–∏–≤–∞
3. –ï—Å–ª–∏ –Ω–µ –≤ –∫—ç—à–µ, –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å GitHub
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
5. –ò–∑–≤–ª–µ—á—å –≤ `hem_modules/owner/repo/`
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É

**–°–æ–∑–¥–∞–≤–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:**
```
hem_modules/
‚îî‚îÄ‚îÄ owner/
    ‚îî‚îÄ‚îÄ repo/
        ‚îú‚îÄ‚îÄ package.json
        ‚îú‚îÄ‚îÄ src/
        ‚îî‚îÄ‚îÄ ...
```

### cache.hml

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –∫—ç—à–µ–º –ø–∞–∫–µ—Ç–æ–≤.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- –í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```hemlock
get_cache_dir(): string
    // –ü–æ–ª—É—á–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫—ç—à–∞ (—É—á–∏—Ç—ã–≤–∞–µ—Ç HPM_CACHE_DIR)

get_config_dir(): string
    // –ü–æ–ª—É—á–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (~/.hpm)

is_cached(owner, repo, version): bool
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –∞—Ä—Ö–∏–≤ –≤ –∫—ç—à–µ

get_cached_path(owner, repo, version): string
    // –ü–æ–ª—É—á–∏—Ç—å –ø—É—Ç—å –∫ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∞—Ä—Ö–∏–≤—É

store_tarball_file(owner, repo, version, data): void
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞—Ä—Ö–∏–≤ –≤ –∫—ç—à

list_cached(): [CachedPackage]
    // –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤

clear_cache(): int
    // –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã, –≤–µ—Ä–Ω—É—Ç—å –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω–Ω—ã–µ –±–∞–π—Ç—ã

get_cache_size(): int
    // –í—ã—á–∏—Å–ª–∏—Ç—å –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞

read_config(): Config
    // –ü—Ä–æ—á–∏—Ç–∞—Ç—å ~/.hpm/config.json

write_config(c: Config): void
    // –ó–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫—ç—à–∞:**
```
~/.hpm/
‚îú‚îÄ‚îÄ config.json
‚îî‚îÄ‚îÄ cache/
    ‚îî‚îÄ‚îÄ owner/
        ‚îî‚îÄ‚îÄ repo/
            ‚îú‚îÄ‚îÄ 1.0.0.tar.gz
            ‚îî‚îÄ‚îÄ 1.1.0.tar.gz
```

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ—Ç–æ–∫ –∫–æ–º–∞–Ω–¥—ã Install

```
hpm install owner/repo@^1.0.0
         ‚îÇ
         ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ main.hml ‚îÇ –†–∞–∑–±–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –≤—ã–∑–æ–≤ cmd_install
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇmanifest.hml‚îÇ –ß—Ç–µ–Ω–∏–µ package.json, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇresolver.hml‚îÇ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚ñº               ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ github.hml‚îÇ    ‚îÇ semver.hml‚îÇ –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π, –ø–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–µ–π
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇinstaller.hml‚îÇ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚ñº               ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ github.hml‚îÇ    ‚îÇ cache.hml‚îÇ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇlockfile.hml‚îÇ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ package-lock.json
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –î–µ—Ç–∞–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

```
–í—Ö–æ–¥: manifest.dependencies, manifest.devDependencies, —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π lockfile

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
   - constraints = {} // Map<string, [Constraint]>
   - resolved = {}    // Map<string, ResolvedPackage>
   - queue = [–ø—Ä—è–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏]

2. –ü–æ–∫–∞ –æ—á–µ—Ä–µ–¥—å –Ω–µ –ø—É—Å—Ç–∞:
   a. pkg = queue.pop()
   b. –ï—Å–ª–∏ pkg —É–∂–µ —Ä–∞–∑—Ä–µ—à—ë–Ω, –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
   c. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è pkg –æ—Ç –∑–∞–≤–∏—Å—è—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
   d. –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Å GitHub (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
   e. –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â—É—é –≤—Å–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º
   f. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: –ö–û–ù–§–õ–ò–ö–¢
   g. resolved[pkg] = {version, url, deps}
   h. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ pkg –≤ –æ—á–µ—Ä–µ–¥—å

3. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–æ–≤ –≤ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω–æ–º –≥—Ä–∞—Ñ–µ
   - –ï—Å–ª–∏ —Ü–∏–∫–ª –Ω–∞–π–¥–µ–Ω: –û–®–ò–ë–ö–ê

4. –í–µ—Ä–Ω—É—Ç—å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—É—é –∫–∞—Ä—Ç—É
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ö–æ–¥—ã –≤—ã—Ö–æ–¥–∞

–û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ main.hml:

```hemlock
let EXIT_SUCCESS = 0;
let EXIT_CONFLICT = 1;
let EXIT_NOT_FOUND = 2;
let EXIT_VERSION_NOT_FOUND = 3;
let EXIT_NETWORK = 4;
let EXIT_INVALID_MANIFEST = 5;
let EXIT_INTEGRITY = 6;
let EXIT_RATE_LIMIT = 7;
let EXIT_CIRCULAR = 8;
```

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

–û—à–∏–±–∫–∏ –ø–æ–¥–Ω–∏–º–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```hemlock
fn resolve_version(pkg): Result<Version, ResolveError> {
    let versions = github.get_tags(owner, repo)?;  // ? —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç
    // ...
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –≤ `test/framework.hml`:

```hemlock
fn suite(name: string, tests: fn()) {
    print("Suite: " + name);
    tests();
}

fn test(name: string, body: fn()) {
    try {
        body();
        print("  ‚úì " + name);
    } catch e {
        print("  ‚úó " + name + ": " + e);
        failed += 1;
    }
}

fn assert_eq<T>(actual: T, expected: T) {
    if actual != expected {
        throw "Expected " + expected + ", got " + actual;
    }
}
```

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã

- `test/test_semver.hml` ‚Äî –†–∞–∑–±–æ—Ä –≤–µ—Ä—Å–∏–π, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- `test/test_manifest.hml` ‚Äî –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `test/test_lockfile.hml` ‚Äî –û–ø–µ—Ä–∞—Ü–∏–∏ —Å lockfile
- `test/test_cache.hml` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–º

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
make test

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
make test-semver
make test-manifest
make test-lockfile
make test-cache
```

## –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏** ‚Äî –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ SHA256 —Ö–µ—à–µ–π
2. **Workspaces** ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
3. **–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤** ‚Äî –†–∞—Å—à–∏—Ä—è–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã
4. **–ê—É–¥–∏—Ç** ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **–ü—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä** ‚Äî –°–∞–º–æ—Ö–æ—Å—Ç–∏–Ω–≥ –ø–∞–∫–µ—Ç–æ–≤

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ë–∞–≥ –±–∞–Ω–¥–ª–µ—Ä–∞** ‚Äî –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏** ‚Äî –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ, –≤–æ–∑–º–æ–∂–Ω—ã race conditions
3. **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å** ‚Äî SHA256 –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

## –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

### –°—Ç–∏–ª—å –∫–æ–¥–∞

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç—Å—Ç—É–ø –≤ 4 –ø—Ä–æ–±–µ–ª–∞
- –§—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –¥–µ–ª–∞—Ç—å –æ–¥–Ω—É –≤–µ—â—å
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É
- –ü–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

1. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `main.hml`:
   ```hemlock
   fn cmd_newcmd(args: [string]) {
       // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
   }
   ```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ –¥–∏—Å–ø–µ—Ç—á–µ—Ä –∫–æ–º–∞–Ω–¥:
   ```hemlock
   match command {
       "newcmd" => cmd_newcmd(args),
       // ...
   }
   ```

3. –û–±–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–ø—Ä–∞–≤–∫–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è

1. –°–æ–∑–¥–∞–π—Ç–µ `src/newmodule.hml`
2. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ –º–æ–¥—É–ª—è—Ö, –∫–æ—Ç–æ—Ä—ã–º –æ–Ω –Ω—É–∂–µ–Ω
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –≤ `test/test_newmodule.hml`

## –°–º. —Ç–∞–∫–∂–µ

- [–ö–æ–º–∞–Ω–¥—ã](#hpm-architecture-commands) ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ CLI
- [–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤](#hpm-architecture-creating-packages) ‚Äî –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
- [–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](#hpm-architecture-versioning) ‚Äî –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ


--------------------------------------------------------------------------------
## –ö–æ–¥—ã –≤—ã—Ö–æ–¥–∞
--------------------------------------------------------------------------------

# –ö–æ–¥—ã –≤—ã—Ö–æ–¥–∞

–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –∫–æ–¥–∞–º –≤—ã—Ö–æ–¥–∞ hpm –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º.

## –¢–∞–±–ª–∏—Ü–∞ –∫–æ–¥–æ–≤ –≤—ã—Ö–æ–¥–∞

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|----------|
| 0 | SUCCESS | –ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ |
| 1 | CONFLICT | –ö–æ–Ω—Ñ–ª–∏–∫—Ç –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| 2 | NOT_FOUND | –ü–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω |
| 3 | VERSION_NOT_FOUND | –ó–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ |
| 4 | NETWORK | –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ |
| 5 | INVALID_MANIFEST | –ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π package.json |
| 6 | INTEGRITY | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞ |
| 7 | RATE_LIMIT | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç GitHub API |
| 8 | CIRCULAR | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å |

## –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 0: SUCCESS

–ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.

```bash
$ hpm install
Installed 5 packages
$ echo $?
0
```

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 1: CONFLICT

–î–≤–∞ –∏–ª–∏ –±–æ–ª–µ–µ –ø–∞–∫–µ—Ç–æ–≤ —Ç—Ä–µ–±—É—é—Ç –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: Dependency conflict for hemlang/json

  package-a requires hemlang/json@^1.0.0 (>=1.0.0 <2.0.0)
  package-b requires hemlang/json@^2.0.0 (>=2.0.0 <3.0.0)

No version satisfies all constraints.
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –ø–∞–∫–µ—Ç—ã –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ:
   ```bash
   hpm why hemlang/json
   ```
2. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π –ø–∞–∫–µ—Ç:
   ```bash
   hpm update package-a
   ```
3. –û—Å–ª–∞–±–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π –≤ package.json
4. –£–¥–∞–ª–∏—Ç—å –æ–¥–∏–Ω –∏–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 2: NOT_FOUND

–£–∫–∞–∑–∞–Ω–Ω—ã–π –ø–∞–∫–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ GitHub.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: Package not found: hemlang/nonexistent

The repository hemlang/nonexistent does not exist on GitHub.
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é –∏–º–µ–Ω–∏ –ø–∞–∫–µ—Ç–∞
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `https://github.com/owner/repo`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø (–¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ GITHUB_TOKEN)

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 3: VERSION_NOT_FOUND

–ù–∏ –æ–¥–Ω–∞ –≤–µ—Ä—Å–∏—è –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—é.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: No version of hemlang/json matches constraint ^5.0.0

Available versions: 1.0.0, 1.1.0, 1.2.0, 2.0.0
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤ —Ä–µ–ª–∏–∑–∞—Ö/—Ç–µ–≥–∞—Ö –Ω–∞ GitHub
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
3. –¢–µ–≥–∏ –≤–µ—Ä—Å–∏–π –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 'v' (–Ω–∞–ø—Ä–∏–º–µ—Ä, `v1.0.0`)

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 4: NETWORK

–ü—Ä–æ–∏–∑–æ—à–ª–∞ —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: Network error: could not connect to api.github.com

Please check your internet connection and try again.
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å GitHub
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏, –µ—Å–ª–∏ –∑–∞ —Ñ–∞–π—Ä–≤–æ–ª–æ–º
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--offline`, –µ—Å–ª–∏ –ø–∞–∫–µ—Ç—ã –≤ –∫—ç—à–µ:
   ```bash
   hpm install --offline
   ```
5. –ü–æ–¥–æ–∂–¥–∞—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å (hpm –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 5: INVALID_MANIFEST

–§–∞–π–ª package.json –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º –∏–ª–∏ –∏–º–µ–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: Invalid package.json

  - Missing required field: name
  - Invalid version format: "1.0"
```

**–†–µ—à–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JSON (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSON-–≤–∞–ª–∏–¥–∞—Ç–æ—Ä)
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç (`name`, `version`)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç—ã –ø–æ–ª–µ–π:
   - name: —Ñ–æ—Ä–º–∞—Ç `owner/repo`
   - version: —Ñ–æ—Ä–º–∞—Ç semver `X.Y.Z`
4. –†–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å:
   ```bash
   rm package.json
   hpm init
   ```

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 6: INTEGRITY

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–∞ –Ω–µ –ø—Ä–æ–π–¥–µ–Ω–∞.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: Integrity check failed for hemlang/json@1.0.0

Expected: sha256-abc123...
Actual:   sha256-def456...

The downloaded package may be corrupted.
```

**–†–µ—à–µ–Ω–∏—è:**
1. –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
   ```bash
   hpm cache clean
   hpm install
   ```
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–Ω–µ–ø–æ–ª–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏)
3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø–∞–∫–µ—Ç –Ω–µ –±—ã–ª –∏–∑–º–µ–Ω—ë–Ω

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 7: RATE_LIMIT

–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ GitHub API.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: GitHub API rate limit exceeded

Unauthenticated rate limit: 60 requests/hour
Current usage: 60/60

Rate limit resets at: 2024-01-15 10:30:00 UTC
```

**–†–µ—à–µ–Ω–∏—è:**
1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å GitHub** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
   ```bash
   export GITHUB_TOKEN=ghp_xxxxxxxxxxxx
   hpm install
   ```
2. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–±—Ä–æ—Å–∞ –ª–∏–º–∏—Ç–∞ (—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –µ–∂–µ—á–∞—Å–Ω–æ)
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º, –µ—Å–ª–∏ –ø–∞–∫–µ—Ç—ã –≤ –∫—ç—à–µ:
   ```bash
   hpm install --offline
   ```

### –ö–æ–¥ –≤—ã—Ö–æ–¥–∞ 8: CIRCULAR

–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ –≥—Ä–∞—Ñ–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

**–ü—Ä–∏–º–µ—Ä:**
```
Error: Circular dependency detected

  package-a@1.0.0
  ‚îî‚îÄ‚îÄ package-b@1.0.0
      ‚îî‚îÄ‚îÄ package-a@1.0.0  (circular!)

Cannot resolve dependency tree.
```

**–†–µ—à–µ–Ω–∏—è:**
1. –û–±—ã—á–Ω–æ —ç—Ç–æ –±–∞–≥ –≤ —Å–∞–º–∏—Ö –ø–∞–∫–µ—Ç–∞—Ö
2. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –ø–∞–∫–µ—Ç–æ–≤
3. –ò–∑–±–µ–≥–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–∑ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –ø–∞–∫–µ—Ç–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –≤—ã—Ö–æ–¥–∞ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö

### Bash

```bash
#!/bin/bash

hpm install
exit_code=$?

case $exit_code in
  0)
    echo "Installation successful"
    ;;
  1)
    echo "Dependency conflict - check version constraints"
    exit 1
    ;;
  2)
    echo "Package not found - check package name"
    exit 1
    ;;
  4)
    echo "Network error - check connection"
    exit 1
    ;;
  7)
    echo "Rate limited - set GITHUB_TOKEN"
    exit 1
    ;;
  *)
    echo "Unknown error: $exit_code"
    exit 1
    ;;
esac
```

### CI/CD

```yaml
# GitHub Actions
- name: Install dependencies
  run: |
    hpm install
    if [ $? -eq 7 ]; then
      echo "::error::GitHub rate limit exceeded. Add GITHUB_TOKEN."
      exit 1
    fi
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

### Make

```makefile
install:
	@hpm install || (echo "Installation failed with code $$?"; exit 1)

test: install
	@hpm test
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫ –ø–æ –∫–æ–¥—É –≤—ã—Ö–æ–¥–∞

### –ö—Ä–∞—Ç–∫–∏–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫

| –ö–æ–¥ | –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å |
|-----|--------------------------------|
| 1 | –ó–∞–ø—É—Å—Ç–∏—Ç—å `hpm why <package>` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º—è –ø–∞–∫–µ—Ç–∞ –Ω–∞ GitHub |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –≤ —Ç–µ–≥–∞—Ö –Ω–∞ GitHub |
| 4 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ |
| 5 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å package.json |
| 6 | –ó–∞–ø—É—Å—Ç–∏—Ç—å `hpm cache clean && hpm install` |
| 7 | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `GITHUB_TOKEN` |
| 8 | –°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –ø–∞–∫–µ—Ç–æ–≤ |

## –°–º. —Ç–∞–∫–∂–µ

- [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#hpm-exit-codes-troubleshooting) ‚Äî –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- [–ö–æ–º–∞–Ω–¥—ã](#hpm-exit-codes-commands) ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#hpm-exit-codes-configuration) ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–∞ GitHub



================================================================================
END OF DOCUMENTATION
================================================================================