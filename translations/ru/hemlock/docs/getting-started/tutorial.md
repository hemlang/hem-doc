# –£—á–µ–±–Ω–∏–∫ Hemlock

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–∑—É—á–µ–Ω–∏—é Hemlock.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [Hello World](#hello-world)
2. [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–∏-—Ç–∏–ø—ã)
3. [–ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏](#–∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞-–∏-–æ–ø–µ—Ä–∞—Ü–∏–∏)
4. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–æ—Ç–æ–∫–æ–º)
5. [–§—É–Ω–∫—Ü–∏–∏](#—Ñ—É–Ω–∫—Ü–∏–∏)
6. [–°—Ç—Ä–æ–∫–∏ –∏ —Ä—É–Ω—ã](#—Å—Ç—Ä–æ–∫–∏-–∏-—Ä—É–Ω—ã)
7. [–ú–∞—Å—Å–∏–≤—ã](#–º–∞—Å—Å–∏–≤—ã)
8. [–û–±—ä–µ–∫—Ç—ã](#–æ–±—ä–µ–∫—Ç—ã)
9. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é)
10. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
11. [–§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥](#—Ñ–∞–π–ª–æ–≤—ã–π-–≤–≤–æ–¥–≤—ã–≤–æ–¥)
12. [–°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ](#—Å–æ–±–∏—Ä–∞–µ–º-–≤—Å—ë-–≤–º–µ—Å—Ç–µ)

## Hello World

–ù–∞—á–Ω—ë–º —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π –ø–µ—Ä–≤–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã:

```hemlock
print("Hello, World!");
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `hello.hml` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
./hemlock hello.hml
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- `print()` - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–≤–æ–¥–∏—Ç –≤ stdout
- –°—Ç—Ä–æ–∫–∏ –∑–∞–∫–ª—é—á–∞—é—Ç—Å—è –≤ –¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏
- –¢–æ—á–∫–∏ —Å –∑–∞–ø—è—Ç–æ–π **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–∏–ø—ã

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```hemlock
// –ë–∞–∑–æ–≤–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
let x = 42;
let name = "Alice";
let pi = 3.14159;

print(x);      // 42
print(name);   // Alice
print(pi);     // 3.14159
```

### –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤

–•–æ—Ç—è —Ç–∏–ø—ã –≤—ã–≤–æ–¥—è—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –∏—Ö —è–≤–Ω–æ:

```hemlock
let age: i32 = 30;
let height: f64 = 5.9;
let initial: rune = 'A';
let active: bool = true;
```

### –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤

Hemlock –≤—ã–≤–æ–¥–∏—Ç —Ç–∏–ø—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π:

```hemlock
let small = 42;              // i32 (–ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ 32 –±–∏—Ç–∞)
let large = 5000000000;      // i64 (—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ –¥–ª—è i32)
let decimal = 3.14;          // f64 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –¥—Ä–æ–±–Ω—ã—Ö)
let text = "hello";          // string
let flag = true;             // bool
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤

```hemlock
// –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ç–∏–ø—ã —Å –ø–æ–º–æ—â—å—é typeof()
print(typeof(42));        // "i32"
print(typeof(3.14));      // "f64"
print(typeof("hello"));   // "string"
print(typeof(true));      // "bool"
print(typeof(null));      // "null"
```

## –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ë–∞–∑–æ–≤–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞

```hemlock
let a = 10;
let b = 3;

print(a + b);   // 13
print(a - b);   // 7
print(a * b);   // 30
print(a / b);   // 3 (—Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ)
print(a == b);  // false
print(a > b);   // true
```

### –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

–ü—Ä–∏ —Å–º–µ—à–∏–≤–∞–Ω–∏–∏ —Ç–∏–ø–æ–≤ Hemlock –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –±–æ–ª—å—à–µ–º—É/–±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–º—É —Ç–∏–ø—É:

```hemlock
let x: i32 = 10;
let y: f64 = 3.5;
let result = x + y;  // result –∏–º–µ–µ—Ç —Ç–∏–ø f64 (10.0 + 3.5 = 13.5)

print(result);       // 13.5
print(typeof(result)); // "f64"
```

### –ü–æ–±–∏—Ç–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```hemlock
let a = 12;  // 1100 –≤ –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ
let b = 10;  // 1010 –≤ –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ

print(a & b);   // 8  (–ò)
print(a | b);   // 14 (–ò–õ–ò)
print(a ^ b);   // 6  (–∏—Å–∫–ª—é—á–∞—é—â–µ–µ –ò–õ–ò)
print(a << 1);  // 24 (—Å–¥–≤–∏–≥ –≤–ª–µ–≤–æ)
print(a >> 1);  // 6  (—Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ)
print(~a);      // -13 (–ù–ï)
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º

### –£—Å–ª–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã

```hemlock
let x = 10;

if (x > 0) {
    print("–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ");
} else if (x < 0) {
    print("–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ");
} else {
    print("–Ω–æ–ª—å");
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –§–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ **–≤—Å–µ–≥–¥–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**, –¥–∞–∂–µ –¥–ª—è –æ–¥–∏–Ω–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.

### –¶–∏–∫–ª—ã while

```hemlock
let count = 0;
while (count < 5) {
    print(`–°—á—ë—Ç: ${count}`);
    count = count + 1;
}
```

### –¶–∏–∫–ª—ã for

```hemlock
// –¶–∏–∫–ª for –≤ —Å—Ç–∏–ª–µ C
for (let i = 0; i < 10; i = i + 1) {
    print(i);
}

// –¶–∏–∫–ª for-in (–¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤)
let items = [10, 20, 30, 40];
for (let item in items) {
    print(`–≠–ª–µ–º–µ–Ω—Ç: ${item}`);
}
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä switch

```hemlock
let day = 3;

switch (day) {
    case 1:
        print("–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫");
        break;
    case 2:
        print("–í—Ç–æ—Ä–Ω–∏–∫");
        break;
    case 3:
        print("–°—Ä–µ–¥–∞");
        break;
    default:
        print("–î—Ä—É–≥–æ–π –¥–µ–Ω—å");
        break;
}
```

### Break –∏ Continue

```hemlock
// Break: –¥–æ—Å—Ä–æ—á–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
let i = 0;
while (i < 10) {
    if (i == 5) {
        break;
    }
    print(i);
    i = i + 1;
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 2, 3, 4

// Continue: –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
for (let j = 0; j < 5; j = j + 1) {
    if (j == 2) {
        continue;
    }
    print(j);
}
// –í—ã–≤–æ–¥–∏—Ç: 0, 1, 3, 4
```

## –§—É–Ω–∫—Ü–∏–∏

### –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
fn greet(name: string): string {
    return "–ü—Ä–∏–≤–µ—Ç, " + name + "!";
}

let message = greet("Alice");
print(message);  // "–ü—Ä–∏–≤–µ—Ç, Alice!"
```

### –ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```hemlock
let add = fn(a, b) {
    return a + b;
};

print(add(5, 3));  // 8
```

### –†–µ–∫—É—Ä—Å–∏—è

```hemlock
fn factorial(n: i32): i32 {
    if (n <= 1) {
        return 1;
    }
    return n * factorial(n - 1);
}

print(factorial(5));  // 120
```

### –ó–∞–º—ã–∫–∞–Ω–∏—è

–§—É–Ω–∫—Ü–∏–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç —Å–≤–æ—ë –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```hemlock
fn makeCounter() {
    let count = 0;
    return fn() {
        count = count + 1;
        return count;
    };
}

let counter = makeCounter();
print(counter());  // 1
print(counter());  // 2
print(counter());  // 3
```

### –§—É–Ω–∫—Ü–∏–∏ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞

```hemlock
fn apply(f, x) {
    return f(x);
}

fn double(n) {
    return n * 2;
}

let result = apply(double, 21);
print(result);  // 42
```

## –°—Ç—Ä–æ–∫–∏ –∏ —Ä—É–Ω—ã

### –û—Å–Ω–æ–≤—ã —Å—Ç—Ä–æ–∫

–°—Ç—Ä–æ–∫–∏ **–∏–∑–º–µ–Ω—è–µ–º—ã–µ** –∏ –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ **UTF-8**:

```hemlock
let s = "hello";
print(s.length);      // 5 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤)
print(s.byte_length); // 5 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç)

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ
s[0] = 'H';
print(s);  // "Hello"
```

### –ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫

```hemlock
let text = "  Hello, World!  ";

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞
print(text.to_upper());  // "  HELLO, WORLD!  "
print(text.to_lower());  // "  hello, world!  "

// –û–±—Ä–µ–∑–∫–∞ –ø—Ä–æ–±–µ–ª–æ–≤
print(text.trim());      // "Hello, World!"

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–¥—Å—Ç—Ä–æ–∫–∏
let hello = text.substr(2, 5);  // "Hello"
let world = text.slice(9, 14);  // "World"

// –ü–æ–∏—Å–∫
let pos = text.find("World");   // 9
let has = text.contains("o");   // true

// –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ
let parts = "a,b,c".split(","); // ["a", "b", "c"]

// –ó–∞–º–µ–Ω–∞
let s = "hello world".replace("world", "there");
print(s);  // "hello there"
```

### –†—É–Ω—ã (–∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ Unicode)

```hemlock
let ch: rune = 'A';
let emoji: rune = 'üöÄ';

print(ch);      // 'A'
print(emoji);   // U+1F680

// –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Ä—É–Ω—ã –∏ —Å—Ç—Ä–æ–∫–∏
let msg = '>' + " –í–∞–∂–Ω–æ";
print(msg);  // "> –í–∞–∂–Ω–æ"

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Ä—É–Ω–æ–π –∏ —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º
let code: i32 = ch;     // 65 (ASCII –∫–æ–¥)
let r: rune = 128640;   // U+1F680 (üöÄ)
```

## –ú–∞—Å—Å–∏–≤—ã

### –û—Å–Ω–æ–≤—ã –º–∞—Å—Å–∏–≤–æ–≤

```hemlock
let numbers = [1, 2, 3, 4, 5];
print(numbers[0]);      // 1
print(numbers.length);  // 5

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
numbers[2] = 99;
print(numbers[2]);  // 99
```

### –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤

```hemlock
let arr = [10, 20, 30];

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ
arr.push(40);           // [10, 20, 30, 40]
let last = arr.pop();   // 40, arr —Ç–µ–ø–µ—Ä—å [10, 20, 30]

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –≤ –Ω–∞—á–∞–ª–µ
arr.unshift(5);         // [5, 10, 20, 30]
let first = arr.shift(); // 5, arr —Ç–µ–ø–µ—Ä—å [10, 20, 30]

// –í—Å—Ç–∞–≤–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
arr.insert(1, 15);      // [10, 15, 20, 30]
let removed = arr.remove(2);  // 20

// –ü–æ–∏—Å–∫
let index = arr.find(15);     // 1
let has = arr.contains(10);   // true

// –°—Ä–µ–∑
let slice = arr.slice(0, 2);  // [10, 15]

// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ —Å—Ç—Ä–æ–∫—É
let text = arr.join(", ");    // "10, 15, 30"
```

### –ò—Ç–µ—Ä–∞—Ü–∏—è

```hemlock
let items = ["—è–±–ª–æ–∫–æ", "–±–∞–Ω–∞–Ω", "–≤–∏—à–Ω—è"];

// –¶–∏–∫–ª for-in
for (let item in items) {
    print(item);
}

// –†—É—á–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
let i = 0;
while (i < items.length) {
    print(items[i]);
    i = i + 1;
}
```

## –û–±—ä–µ–∫—Ç—ã

### –õ–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤

```hemlock
let person = {
    name: "Alice",
    age: 30,
    city: "NYC"
};

print(person.name);  // "Alice"
print(person.age);   // 30

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π
person.email = "alice@example.com";
person.age = 31;
```

### –ú–µ—Ç–æ–¥—ã –∏ `self`

```hemlock
let calculator = {
    value: 0,
    add: fn(x) {
        self.value = self.value + x;
    },
    get: fn() {
        return self.value;
    }
};

calculator.add(10);
calculator.add(5);
print(calculator.get());  // 15
```

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (—É—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è)

```hemlock
define Person {
    name: string,
    age: i32,
    active?: true,  // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
}

let p = { name: "Bob", age: 25 };
let typed: Person = p;  // –£—Ç–∏–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É

print(typeof(typed));   // "Person"
print(typed.active);    // true (–ø—Ä–∏–º–µ–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```

### JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

```hemlock
let obj = { x: 10, y: 20, name: "test" };

// –û–±—ä–µ–∫—Ç –≤ JSON
let json = obj.serialize();
print(json);  // {"x":10,"y":20,"name":"test"}

// JSON –≤ –æ–±—ä–µ–∫—Ç
let restored = json.deserialize();
print(restored.name);  // "test"
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –±—É—Ñ–µ—Ä—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```hemlock
// –í—ã–¥–µ–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞
let buf = buffer(10);
print(buf.length);    // 10
print(buf.capacity);  // 10

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≥—Ä–∞–Ω–∏—Ü)
buf[0] = 65;  // 'A'
buf[1] = 66;  // 'B'
buf[2] = 67;  // 'C'

// –î–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º
print(buf[0]);  // 65

// –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
free(buf);
```

### –°—ã—Ä—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å)

```hemlock
// –í—ã–¥–µ–ª–µ–Ω–∏–µ —Å—ã—Ä–æ–π –ø–∞–º—è—Ç–∏
let ptr = alloc(100);

// –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω—É–ª—è–º–∏
memset(ptr, 0, 100);

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
let src = alloc(50);
memcpy(ptr, src, 50);

// –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ–±–æ–∏—Ö
free(src);
free(ptr);
```

### –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é

```hemlock
// –ü–µ—Ä–µ–≤—ã–¥–µ–ª–µ–Ω–∏–µ
let p = alloc(64);
p = realloc(p, 128);  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–æ 128 –±–∞–π—Ç
free(p);

// –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ (–≤ –±—É–¥—É—â–µ–º)
// let arr = talloc(i32, 100);  // –ú–∞—Å—Å–∏–≤ –∏–∑ 100 i32
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Try/Catch

```hemlock
fn divide(a, b) {
    if (b == 0) {
        throw "–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å";
    }
    return a / b;
}

try {
    let result = divide(10, 0);
    print(result);
} catch (e) {
    print("–û—à–∏–±–∫–∞: " + e);
}
// –í—ã–≤–æ–¥: –û—à–∏–±–∫–∞: –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
```

### –ë–ª–æ–∫ finally

```hemlock
let file = null;

try {
    file = open("data.txt", "r");
    let content = file.read();
    print(content);
} catch (e) {
    print("–û—à–∏–±–∫–∞: " + e);
} finally {
    // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞
    if (file != null) {
        file.close();
    }
}
```

### –í—ã–±—Ä–æ—Å –æ–±—ä–µ–∫—Ç–æ–≤

```hemlock
try {
    throw { code: 404, message: "–ù–µ –Ω–∞–π–¥–µ–Ω–æ" };
} catch (e) {
    print(`–û—à–∏–±–∫–∞ ${e.code}: ${e.message}`);
}
// –í—ã–≤–æ–¥: –û—à–∏–±–∫–∞ 404: –ù–µ –Ω–∞–π–¥–µ–Ω–æ
```

### Panic (–Ω–µ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º—ã–µ –æ—à–∏–±–∫–∏)

```hemlock
fn validate(x) {
    if (x < 0) {
        panic("x –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º");
    }
    return x * 2;
}

validate(-5);  // –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å: panic: x –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º
```

## –§–∞–π–ª–æ–≤—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥

### –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```hemlock
// –ß—Ç–µ–Ω–∏–µ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞
let f = open("data.txt", "r");
let content = f.read();
print(content);
f.close();

// –ß—Ç–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞–π—Ç
let f2 = open("data.txt", "r");
let chunk = f2.read(100);  // –ß—Ç–µ–Ω–∏–µ 100 –±–∞–π—Ç
f2.close();
```

### –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–æ–≤

```hemlock
// –ó–∞–ø–∏—Å—å —Ç–µ–∫—Å—Ç–∞
let f = open("output.txt", "w");
f.write("Hello, File!\n");
f.write("–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞\n");
f.close();

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª
let f2 = open("output.txt", "a");
f2.write("–î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞\n");
f2.close();
```

### –ë–∏–Ω–∞—Ä–Ω—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥

```hemlock
// –ó–∞–ø–∏—Å—å –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let buf = buffer(256);
buf[0] = 255;
buf[1] = 128;

let f = open("data.bin", "w");
f.write_bytes(buf);
f.close();

// –ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
let f2 = open("data.bin", "r");
let data = f2.read_bytes(256);
print(data[0]);  // 255
f2.close();

free(buf);
free(data);
```

### –°–≤–æ–π—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤

```hemlock
let f = open("/path/to/file.txt", "r");

print(f.path);    // "/path/to/file.txt"
print(f.mode);    // "r"
print(f.closed);  // false

f.close();
print(f.closed);  // true
```

## –°–æ–±–∏—Ä–∞–µ–º –≤—Å—ë –≤–º–µ—Å—Ç–µ

–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Å–ª–æ–≤:

```hemlock
// wordcount.hml - –ü–æ–¥—Å—á—ë—Ç —Å–ª–æ–≤ –≤ —Ñ–∞–π–ª–µ

fn count_words(filename: string): i32 {
    let file = null;
    let count = 0;

    try {
        file = open(filename, "r");
        let content = file.read();

        // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–±–µ–ª–∞–º –∏ –ø–æ–¥—Å—á—ë—Ç
        let words = content.split(" ");
        count = words.length;

    } catch (e) {
        print("–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞: " + e);
        return -1;
    } finally {
        if (file != null) {
            file.close();
        }
    }

    return count;
}

// –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
if (args.length < 2) {
    print("–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: " + args[0] + " <–∏–º—è_—Ñ–∞–π–ª–∞>");
} else {
    let filename = args[1];
    let words = count_words(filename);

    if (words >= 0) {
        print(`–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤: ${words}`);
    }
}
```

–ó–∞–ø—É—Å–∫:
```bash
./hemlock wordcount.hml data.txt
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∏–∑—É—á–∏–ª–∏ –æ—Å–Ω–æ–≤—ã Hemlock. –í–æ—Ç —á—Ç–æ –º–æ–∂–Ω–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ:

- [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º](../advanced/async-concurrency.md) - –ù–∞—Å—Ç–æ—è—â–∞—è –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
- [FFI](../advanced/ffi.md) - –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π C
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤](../advanced/signals.md) - –°–∏–≥–Ω–∞–ª—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API](../reference/builtins.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- [–ü—Ä–∏–º–µ—Ä—ã](../../examples/) - –ë–æ–ª—å—à–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å —ç—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏:

1. **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä**: –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ +, -, *, /
2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –¥—Ä—É–≥–æ–π
3. **–ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏
4. **–ü–∞—Ä—Å–µ—Ä JSON**: –ß—Ç–µ–Ω–∏–µ –∏ —Ä–∞–∑–±–æ—Ä JSON-—Ñ–∞–π–ª–æ–≤
5. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–∞**: –ü–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –≤ —Ñ–∞–π–ª–∞—Ö

–£–¥–∞—á–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Hemlock!
